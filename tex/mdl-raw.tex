\documentclass[a4paper,]{article}
\usepackage{lmodern}
\usepackage{amssymb,amsmath}
\usepackage{ifxetex,ifluatex}
\usepackage{fixltx2e} % provides \textsubscript
\ifnum 0\ifxetex 1\fi\ifluatex 1\fi=0 % if pdftex
  \usepackage[T1]{fontenc}
  \usepackage[utf8]{inputenc}
\else % if luatex or xelatex
  \ifxetex
    \usepackage{mathspec}
  \else
    \usepackage{fontspec}
  \fi
  \defaultfontfeatures{Ligatures=TeX,Scale=MatchLowercase}
\fi
% use upquote if available, for straight quotes in verbatim environments
\IfFileExists{upquote.sty}{\usepackage{upquote}}{}
% use microtype if available
\IfFileExists{microtype.sty}{%
\usepackage[]{microtype}
\UseMicrotypeSet[protrusion]{basicmath} % disable protrusion for tt fonts
}{}
\PassOptionsToPackage{hyphens}{url} % url is loaded by hyperref
\usepackage[unicode=true]{hyperref}
\hypersetup{
            pdfborder={0 0 0},
            breaklinks=true}
\urlstyle{same}  % don't use monospace font for urls
\usepackage[margin=2cm]{geometry}
\usepackage{longtable,booktabs}
% Fix footnotes in tables (requires footnote package)
\IfFileExists{footnote.sty}{\usepackage{footnote}\makesavenoteenv{long table}}{}
\IfFileExists{parskip.sty}{%
\usepackage{parskip}
}{% else
\setlength{\parindent}{0pt}
\setlength{\parskip}{6pt plus 2pt minus 1pt}
}
\setlength{\emergencystretch}{3em}  % prevent overfull lines
\providecommand{\tightlist}{%
  \setlength{\itemsep}{0pt}\setlength{\parskip}{0pt}}
\setcounter{secnumdepth}{0}
% Redefines (sub)paragraphs to behave more like sections
\ifx\paragraph\undefined\else
\let\oldparagraph\paragraph
\renewcommand{\paragraph}[1]{\oldparagraph{#1}\mbox{}}
\fi
\ifx\subparagraph\undefined\else
\let\oldsubparagraph\subparagraph
\renewcommand{\subparagraph}[1]{\oldsubparagraph{#1}\mbox{}}
\fi

% set default figure placement to htbp
\makeatletter
\def\fps@figure{htbp}
\makeatother


\date{}

\begin{document}

\section{The MDL Programming Language}\label{the-mdl-programming-language}

S. W. Galley and Greg Pfister

\subsection{Transcriber's notes}\label{transcribers-notes}

This \href{https://github.com/ZoBoRf/mdl-docs}{document} has been converted and typset by Roman Bartke with
\href{https://pandoc.org/}{Pandoc} and \LaTeX{} from enriched markdown sources taken from the mdl-docs project
(https://github.com/taradinoc/mdl-docs).

The markdown sources has been transcribed by \href{https://marktrapp.com}{Mark Trapp} and
\href{https://bitbucket.org/jmcgrew}{Jesse McGrew} from a \href{http://www.dtic.mil/docs/citations/ADA070930}{PDF
maintained by the Defense Technical Information Center}. It attempts to be as faithful to the original as possible
deviating only to adopt modern formatting techniques, account for limitations of Markdown and the web, and add links where
appropriate.

To this end, the original language has been maintained as much as humanly possible. When we've noticed an error in the
original text, we've indicated it with \emph{{[}sic{]}}. If the text requires clarification, the notes will be marked
clearly like so:

!!! note ``Transcriber's note'' This is a transcriber's note.

If you do notice an error in this current version, feel free to create an issue
(https://github.com/taradinoc/mdl-docs/issues) or submit a pull request (https://github.com/taradinoc/mdl-docs/pulls).

For errors in the PDF version create an issue here https://github.com/ZoBoRf/mdl-docs/issues or submit a pull request here:
https://github.com/ZoBoRf/mdl-docs/pulls.

\subsection{Copyright}\label{copyright}

Copyright didn't used to be automatic, as it is in today's world.

Various factors need to be considered and determining the copyright status of a work can be involved: What country or
countries was it published in? When was it published? Was an appropriate copyright noticed included (even though they are
not required anymore, proper copyright notices used to be required and if they were either missing or inadequate in some
way, it could result in loss of copyright on the work involved.) Another factor to consider is if any required filings were
made with the U.S. Copyright Office, and more.

Due to the various factors, which have changed over time, \href{http://copyright.cornell.edu/}{Cornell's Copyright
Information Center} publishes a guide that can be useful in helping to determine the copyright status of a work:
\url{http://copyright.cornell.edu/resources/publicdomain.cfm}.

For some background of the MDL Programming Language document: Various versions of it were published from 1972 to at least
1979. Some had a copyright notice and some did not. Greg Pfister, the original author of the document, says the 1972
version does not. Also, the 1979 version that was submitted to the U.S. Government and that is on file with the Defense
Technical Information Center, and linked to above, does not. In addition, this document was not registered with the U.S.
Copyright Office at any point.

However, a copy of the 1979 version from the MIT Library does contain a copyright notice. This shows that it was originally
published without a copyright notice and that it was added by MIT to other copies later. It seems that at least 7 years had
gone by (and possibly longer since it is not known when MIT actually stamped their copy with a notice about 1979) since the
earlier versions do not have this.

The chart provided by Cornell's Copyright Information Center indicates that publishing with a copyright notice was required
for the 1972 version, and with either a notice or subsequent registration with the U.S. Copyright Office within 5 years
(for the later versions) and that loss of copyright would result if this were not done.

In addition, this document is the result of work first produced in the performance of a contract to the U.S. Government.
While a work prepared by an officer or employee of the federal government as part of that person's official duties is free
of copyright this does not necessarily extend to contractors.

Indeed, FAR 52.227-14(c)(1)(ii) lets contractors assert copyright when it says that ``when authorized to assert copyright
to the data, the Contractor shall affix the applicable copyright notices of 17 U.S.C. 401 or 402, and an acknowledgment of
Government sponsorship (including contract number).''

While the MDL Programming Language document submitted to the U.S. Government does include an acknowledgment of Government
sponsorship (including contract number) it does not contain the required copyight notice (assuming that MIT was authorized
to assert copyright on the data submitted to the government in the first place because FAR does say ``when authorized to
assert copyright.'')

This also shows that, if MIT wanted to claim a copyright on what they sent to the U.S. Government, assuming that their
contract permitted them to, they needed to include a copyright notice. This backs up the information provided by Cornell's
Copyright Information Center that a copyright notice was required (again, assuming they were authorized to assert copyright
in the first place.)

At the very least this means we can say that the MDL Programming Language as submitted to the U.S. Government (and very
probably all of the other versions that did not contain copyright notices) are therefore in the public domain in the United
States for failure to comply with the required formalities. This means you're free to download, modify and redistribute
this document. People outside of the United States must check the copyright laws of their country before downloading or
redistributing.

However: Even if it should be found that this document is somehow under copyright, the U.S. Government's copy has the
\href{http://www.dtic.mil/dtic/submit/distribution_limitations_and_statements.html}{distribution statement ``A''}, meaning
that it is approved for public release and distribution is unlimited. This classification and the information above is the
basis under which a good-faith effort to preserve an otherwise-public document has been made.

\section{Abstract}\label{abstract}

The MDL programming language began existence in late 1970 (under the name Muddle) as a successor to Lisp (Moon, 1974), a
candidate vehicle for the Dynamic Modeling System, and a possible base for implementation of Planner (Hewitt, 1969). The
original design goals included an interactive integrated environment for programming, debugging, loading, and editing: ease
in learning and use; facilities for structured, modular, shared programs; extensibility of syntax, data types and
operators: data-type checking for debugging and optional data-type declarations for compiled efficiency; associative
storage, coroutining, and graphics. Along the way to reaching those goals, it developed flexible input/output (including
the ARPA Network), and flexible interrupt and signal handling. It now serves as a base for software prototyping, research,
development, education, and implementation of the majority of programs at MIT-DMS: a library of sharable modules, a
coherent user interface, special research projects, autonomous daemons, etc.

This document was originally intended to be a simple low-level introduction to MDL. It has, however, acquired a case of
elephantiasis and now amounts to a discursive description of the whole interpreter, as realized in MDL release numbers 55
(ITS version) and 105 (Tenex and Tops-20 versions). (Significant changes from the previous edition are marked in the
margin.) A low-level introduction may still be had by restricting one's attention to specially-marked sections only. The
scope of the document is confined as much as possible to the interpreter itself. Other adjuncts (compiler, assembler,
pre-loaded user programs, library) are mentioned as little as possible, despite their value in promoting the language seen
by a user from ``basic survival'' to ``comfortable living''. Indeed, MDL could not fulfill the above design goals without
the compiler, assembler, structure editor, control-stack printer, context printer, pretty-printer, dynamic loader, and
library system -- all of which are not part of the interpreter but programs written in MDL and symbiotic with one another.
Further information on these adjuncts can be found in Lebling's (1979) document.

\subsection{Acknowledgements}\label{acknowledgements}

I was not a member of the original group which labored for two years in the design and initial implementation of Muddle;
that group was composed principally of Gerald Sussman, Carl Hewit, Chris Reeve, Dave Cressey, and later Bruce Daniels. I
would therefore like to take this opportunity to thank my Muddle mentors, chiefly Chris Reeve and Bruce Daniels, for
remaining civil through several months of verbal badgering. I believe that I learned more than ``just another programming
language'' in learning Muddle, and I am grateful for this opportunity to pass on some of that knowledge. What I cannot pass
on is the knowledge gained by using Muddle as a system; that I can only ask you to share.

For editing the content of this document and correcting some misconceptions, I would like to thank Chris Reeve, Bruce
Daniels, and especially Gerald Sussman, one of whose good ideas I finally did use.

Greg Pfister\\
December 15, 1972

Since Greg left the fold, I have taken up the banner and updated his document. The main sources for small revisions have
been the on-line file of changes to MDL, for which credit goes to Neal Ryan as well as Reeve and Daniels, and the set of
on-line abstracts for interpreter Subroutines, contributed by unnamed members of the Programming Technology Division. Some
new sections were written almost entirely by others: Dave Lebling wrote chapter 14 and appendix 3, Jim Michener section
14.3, Reeve chapter 19 and appendix 1, Daniels and Reeve appendix 2. Brian Berkowitz section 22.7, Tak To section 17.2.2,
and Ryan section 17.1.3. Sue Pitkin did the tedious task of marking phrases in the manuscript for indexing. Pitts Jarvis
and Jack Haverty advised on the use of PUB and the XGP. Many PTD people commented helpfully on a draft version.

My task has been to impose some uniformity and structure on these diverse resources (so that the result sounds less like a
dozen hackers typing at a dozen terminals for a dozen days) and to enjoy some of the richness of MDL from the inside. I
especially thank Chris Reeve (``the oracle'') for the patience to answer questions and resolve doubts, as he no doubt as
done innumerable times before.

S. W. Galley\\
May 23, 1979

This work was supported by the Advanced Research Projects Agency of the Department of Defense and was monitored by the
Office of Naval Research under contract N00014-75-C-0661.

This document was prepared using \href{http://www.nomodes.com/pub_manual.html}{the PUB system} (originally from the
Stanford Artificial Intelligence Laboratory) and printed on the Xerox Graphics Printer of the M.I.T. Artificial
Intelligence Laboratory.

\subsection{Foreword}\label{foreword}

Trying to explain MDL to an uninitiate is somewhat like trying to untie a Gordian knot. Whatever topic one chooses to
discuss first, full discussion of it appears to imply discussion of everything else. What follows is a discursive
presentation of MDL in an order apparently requiring the fewest forward references. It is not perfect in that regard;
however, if you are patient and willing to accept a few, stated things as ``magic'' until they can be explained better, you
will probably not have too many problems understanding what is going on.

There are no ``practice problems''; you are assumed to be learning MDL for some purpose, and your work in achieving that
purpose will be more useful and motivating than artificial problems. In several cases, the examples contain illustrations
of important points which are not covered in the text. Ignore examples at your peril.

This document does not assume knowledge of any specific programming language on your part. However, ``computational
literacy'' is assumed: you should have written at least one program before. Also very little familiarity is assumed with
the interactive time-sharing operating systems under which Muddle runs -- ITS, Tenex, and Tops-20 -- namely just file and
user naming conventions.

\subsubsection{Notation}\label{notation}

Sections marked {[}1{]} are recommended for any uninitiate's first reading, in lieu of a separate introduction for MDL.
{[}On first reading, text within brackets like these should be ignored.{]}

Most specifically indicated examples herein are composed of pairs of lines. The first line of a pair, the input, always
ends in \texttt{\$} \index{\texttt{\$}|textbf} (which is how the ASCII character ESC is represented, and which always
represents it). The second line is the result of MDL's groveling over the first. If you were to type all the first lines at
MDL, it would respond with all the second lines. (More exactly, the ``first line'' is one or more objects in MDL followed
by \texttt{\$}, and the ``second line'' is everything up to the next ``first line''.)

Anything which is written in the MDL language or which is typed on a computer terminal appears herein in a fixed width
font, as in \texttt{ROOT}. A metasyntactic variable -- something to be replaced in actual use by something else -- appears
as \emph{radix:fix}, in an italic font; often the variable will have both a meaning and a data type (as here), but
sometimes one of those will be ommitted, for obvious reasons.

An ellipsis (\ldots{}) indicates that something uninteresting has been omitted. The character
\texttt{\^{}}\index{\texttt{"\^{}}|textbf} means that the following character is to be ``controllified'': it is usually
typed by holding down a terminal's CTRL key and striking the other key.

\section{Chapter 1. Basic Interaction}\label{chapter-1.-basic-interaction}

The purpose of this chapter is to provide you with that minimal amount of information needed to experiment with MDL while
reading this document. It is strongly recommended that you do experiment, especially upon reaching
\href{05-simple-functions.md}{chapter 5 (Simple Functions)}.

\subsection{1.1. Loading MDL {[}1{]}}\label{loading-mdl-1}

First, catch your rabbit. Somehow get the interpreter running -- the program in the file \texttt{SYS:TS\ MDL} in the ITS
version or \texttt{SYS:MDL.SAV} in the Tenex version or \texttt{SYS:MDL.EXE} in the Tops-20 version. The interpreter will
first type out some news relating to MDL, if any, then type

\begin{verbatim}
LISTENING-AT-LEVEL 1 PROCESS 1
\end{verbatim}

and then wait for you to type something.

The program which you are now running is an interpreter for the language MDL. \textbf{All} it knows how to do is interpret
MDL expressions. There is no special ``command language''; you communicate with the program -- make it do things for you --
by actually typing legal MDL expressions, which it then interprets. \textbf{Everything} you can do at a terminal can be
done in a program, and vice versa, in exactly the same way.

The program will be referred to as just ``MDL'' (or ``the interpreter'') from here on. There is no ambiguity, since the
program is just an incarnation of the concept ``MDL''.

\subsection{1.2. Typing {[}1{]}}\label{typing-1}

Typing a character at MDL normally just causes that character to be echoed (printed on your terminal) and remembered in a
buffer. The only characters for which this is normally not true act as follows:

Typing \texttt{\$} (ESC) causes MDL to echo dollar-sign and causes the contents of the buffer (the characters which you've
typed) to be interpreted as an expression(s) in MDL. When this interpretation is done, the result will be printed and MDL
will wait for more typing. ESC will be represented by the glyph \texttt{\$} in this document.

Typing the rubout \index{\texttt{rubout}|textbf} character (DEL in the ITS \index{\texttt{ITS}} and Tops-20
\index{\texttt{Tops-20}} versions, CTRL+A in the Tenex \index{\texttt{Tenex}} version) causes the last character in the
buffer -- the one most recently typed -- to be thrown away (deleted). If you now immediately type another rubout, once
again the last character is deleted -- namely the second most recently typed. Etc. The character deleted is echoed, so you
can see what you're doing. On some ``display'' terminals, rubout will ``echo'' by causing the deleted character to
disappear. If no characters are in the buffer, rubout echoes as a carriage-return line-feed.

Typing \^{}@ \index{\texttt{"\^{}"@}|textbf} (CTRL+@) deletes everything you have typed since the last \texttt{\$}, and
prints a carriage-return line-feed.

Typing \^{}D \index{\texttt{"\^{}D}|textbf} (CTRL+D) causes the current input buffer to be typed back out at you. This
allows you to see what you really have, without the confusing re-echoed characters produced by rubout.

Typing \^{}L \index{\texttt{"\^{}L}|textbf} (CTRL+L) produces the same effect as typing \^{}D, except that, if your
terminal is a ``display'' terminal (for example, IMLAC, ARDS, Datapoint), it firsts clears the screen.

Typing \^{}G \index{\texttt{"\^{}G}|textbf} (CTRL+G) causes MDL to stop whatever it is doing and act as if an error had
occurred (\protect\hyperlink{14-errors-simple-considerations-1}{section 1.4}). \^{}G is generally most useful for temporary
interruptions to check the progress of a computation. \^{}G is ``reversible'' -- that is, it does not destroy any of the
``state'' of the computation it interrupts. To ``undo'' a \^{}G, type the characters

\begin{verbatim}
<ERRET T>$
\end{verbatim}

(This is discussed more fully far below, in section 16.4.)

Typing \^{}S \index{\texttt{"\^{}S}|textbf} (CTRL+S) causes MDL to \textbf{throw away} what it is currently doing and
return to a normal ``listening'' state. (In the Tenex and Tops-20 versions, \^{}O \index{\texttt{"\^{}O}|textbf} also
should have the same effect.) \^{}S is generally most useful for aborting infinite loops and similar terrible things. \^{}S
\textbf{destroys} whatever is going on, and so it is \textbf{not} reversible.

Most expressions in MDL include ``brackets'' (generically meant) that must be correctly paired and nested. If you end your
typing with the pair of characters \texttt{!\$} \index{\texttt{"!"\$}|textbf} (!+ESC), all currently unpaired brackets (but
not double-quotes, which bracket strings of characters) will automatically be paired and interpretation will start. Without
the !, MDL will just sit there waiting for you to pair them. If you have improperly nested parentheses, brackets, etc.,
within the expression you typed, an error will occur, and MDL will tell you what is wrong.

Once the brackets are properly paired, MDL will immediately echo carriage-return and line-feed, and the next thing it
prints will be the result of the evaluation. Thus, if a plain \texttt{\$} is not so echoed, you have some expression
unclosed. In that case, if you have not typed any characters beyond the \texttt{\$}, you can usually rub out the
\texttt{\$} and other characters back to the beginning of the unclosed expression. Otherwise, what you have typed is beyond
the help of rubout and \^{}@; if you want to abort it, use \^{}S.

MDL accepts and distinguishes between upper and lower case. All ``built-in functions'' must be referenced in upper case.

\subsection{1.3. Loading a File {[}1{]}}\label{loading-a-file-1}

If you have a program in MDL that you have written as an ASCII file on some device, you can ``load'' it by typing
\index{\texttt{FLOAD}|textbf}

\begin{verbatim}
<FLOAD file>$
\end{verbatim}

where \emph{file} is the name of the file, in standard operating-system syntax, enclosed in \texttt{"}s (double-quotes).
Omitted parts of the file name are taken by default from the file name \texttt{"DSK:\ INPUT\ \textgreater{}"} (in the ITS
version) or \texttt{"DSK:\ INPUT.MUD"} (in the Tenex and Tops-20 versions) in the current disk directory.

Once you type \texttt{\$}, MDL will process the text in the file (including \texttt{FLOAD}s) exactly as if you had typed it
on a terminal and followed it with \texttt{\$}, except that ``values'' produced by the computations are not printed. When
MDL is finished processing the file, it will print \texttt{"DONE"}.

When MDL starts running, it will \texttt{FLOAD} the file \texttt{MUDDLE\ INIT} \index{\texttt{INIT}|textbf}
\index{\texttt{MUDDLE}|textbf} (ITS \index{\texttt{ITS}} version) or \texttt{MUDDLE.INIT} (Tenex \index{\texttt{Tenex}} and
Tops-20 \index{\texttt{Tops-20}} versions), if it exists.

\subsection{1.4. Errors ---~Simple Considerations {[}1{]}}\label{errors-simple-considerations-1}

When MDL decides for some reason that something is wrong, the standard sequence of evaluation is interrupted and an error
function is called. This produces the following terminal output: \index{\texttt{ERROR}}

\begin{verbatim}
*ERROR*
often-hyphenated-reason
function-in-which-error-occurred
LISTENING-AT-LEVEL integer PROCESS integer
\end{verbatim}

You can now interact with MDL as usual, typing expressions and having them evaluated. There exist facilities (built-in
functions) allowing you to find out what went wrong, restart, or abandon whatever was going on. In particular, you can
recover from an error -- that is, undo everything but side effects and return to the initial typing phase -- by typing the
following first line, to which MDL will respond with the second line: \index{\texttt{ERRET}}

\begin{verbatim}
<ERRET>$
LISTENING-AT-LEVEL 1 PROCESS 1
\end{verbatim}

If you type the following first line while still in the error state (before \texttt{\textless{}ERRET\textgreater{}}), MDL
will print, as shown, the arguments (or ``parameters'' or ``inputs'' or ``independent variables'') which gave indigestion
to the unhappy function:

\begin{verbatim}
<ARGS <FRAME <FRAME>>>$
[ arguments to unhappy function ]
\end{verbatim}

This will be explained by and by.

\section{Chapter 2. Read, Evaluate, and Print}\label{chapter-2.-read-evaluate-and-print}

\subsection{2.1. General {[}1{]}}\label{general-1}

Once you type \texttt{\$} and all brackets are correctly paired and nested, the current contents of the input buffer go
through processing by three functions successively: first \texttt{READ}\index{\texttt{READ}}, which passes its output to
\texttt{EVAL}\index{\texttt{EVAL}|textbf} (``evaluate''), which passes its output to
\texttt{PRINT}\index{\texttt{PRINT}|textbf}, whose output is typed on the terminal.

{[}Actually, the sequence is more like \texttt{READ}, \texttt{CRLF}, \texttt{EVAL}, \texttt{PRIN1}, \texttt{CRLF}
(explained in chapter 11); MDL gives you a carriage-return line-feed when the \texttt{READ} is complete, that is, when all
brackets are paired.{]}

Functionally:

\begin{itemize}
\tightlist
\item
  \texttt{READ}: printable representations → MDL objects
\item
  \texttt{EVAL}: MDL objects → MDL objects
\item
  \texttt{PRINT}: MDL objects → printable representations
\end{itemize}

That is, \texttt{READ} takes ASCII text, such as is typed in at a terminal, and creates the MDL objects represented by that
text. \texttt{PRINT} takes MDL objects, creates ASCII text representations of them, and types them out. \texttt{EVAL},
which is the really important one, performs transformations on MDL objects.

\subsection{2.2. Philosophy (TYPEs) {[}1{]}}\label{philosophy-types-1}

In a general sense, when you are interacting with MDL, you are dealing with a world inhabited only by a particular set of
objects: MDL objects.

MDL objects are best considered as abstract entities with abstract properties. The properties of a particular MDL object
depend on the class of MDL objects to which it belongs. This class is the \texttt{TYPE}\index{\texttt{TYPE}|textbf} of the
MDL object. Every MDL object has a \texttt{TYPE}, and every \texttt{TYPE} has its own peculiarities. There are many
different \texttt{TYPE}s in MDL; they will gradually be introduced below, but in the meantime here is a representative
sample: \texttt{SUBR} (the \texttt{TYPE} of \texttt{READ}, \texttt{EVAL}, and \texttt{PRINT}), \texttt{FSUBR},
\texttt{LIST}, \texttt{VECTOR}, \texttt{FORM}, \texttt{FUNCTION}, etc. Since every object has a \texttt{TYPE}, one often
abbreviates ``an object of \texttt{TYPE} \emph{type}'' by saying ``a \emph{type}''.

The laws of the MDL world are defined by \texttt{EVAL}. In a very real sense, \texttt{EVAL} is the only MDL object which
``acts'', which ``does something''. In ``acting'', \texttt{EVAL} is always ``following the directions'' of some MDL object.
Every MDL object should be looked upon as supplying a set of directions to \texttt{EVAL}; what these directions are depends
heavily on the \texttt{TYPE} of the MDL object.

Since \texttt{EVAL} is so ever-present, an abbreviation is in order: ``evaluates to \emph{something}'' or ``\texttt{EVAL}s
to \emph{something}'' should be taken as an abbreviation for ``when given to \texttt{EVAL}, causes \texttt{EVAL} to return
\emph{something}''.

As abstract entities, MDL objects are, of course, not ``visible''. There is, however, a standard way of representing
abstract MDL objects in the real world. The standard way of representing any given \texttt{TYPE} of MDL object will be
given below when the \texttt{TYPE} is introduced. These standard representations are what \texttt{READ} understands, and
what \texttt{PRINT} produces.

\subsection{2.3. Example (TYPE FIX) {[}1{]}}\label{example-type-fix-1}

\begin{verbatim}
1$
1
\end{verbatim}

The following has occurred:

First, \texttt{READ} recognized the character \texttt{1} as the representation for an object of \texttt{TYPE}
\texttt{FIX}\index{\texttt{FIX}}, in particular the one which corresponds to the integer one. (\texttt{FIX} means integer,
because the decimal point is understood always to be in a fixed position: at the right-hand end.) \texttt{READ} built the
MDL object corresponding to the decimal representation typed, and returned it.

Then \texttt{EVAL} noted that its input was of \texttt{TYPE} \texttt{FIX}. An object of \texttt{TYPE} \texttt{FIX}
evaluates to itself, so \texttt{EVAL} returned its input undisturbed.

Then \texttt{PRINT} saw that its input was of \texttt{TYPE} \texttt{FIX}, and printed on the terminal the decimal character
representation of the corresponding integer.

\subsection{2.4. Example (TYPE FLOAT) {[}1{]}}\label{example-type-float-1}

\begin{verbatim}
1.0$
1.0
\end{verbatim}

What went on was entirely analogous to the preceding example, except that the MDL object was of \texttt{TYPE}
\texttt{FLOAT}\index{\texttt{FLOAT}}. (\texttt{FLOAT} means a real number (of limited precision), because the decimal point
can float around to any convenient position: an internal exponent part tells where it ``really'' belongs.)

\subsection{2.5. Example (TYPE ATOM, PNAME) {[}1{]}}\label{example-type-atom-pname-1}

\begin{verbatim}
GEORGE$
GEORGE
\end{verbatim}

This time a lot more has happened.

\texttt{READ} noted that what was typed had no special meaning, and therefore assumed that it was the representation of an
identifier, that is, an object of \texttt{TYPE} \texttt{ATOM}\index{\texttt{ATOM}}. (``Atom'' means more or less
\emph{indivisible}.) \texttt{READ} therefore attempted to look up the representation in a table it keeps for such purposes
{[}a \texttt{LIST} of \texttt{OBLISTS}, available as the local value of the \texttt{ATOM} \texttt{OBLIST}{]}. If
\texttt{READ} finds an \texttt{ATOM} in its table corresponding to the representation, that \texttt{ATOM} is returned as
\texttt{READ}'s value. If \texttt{READ} fails in looking up, it creates a new \texttt{ATOM}, puts it in the table with the
representation read {[}\texttt{INSERT} into \texttt{\textless{}1\ .OBLIST\textgreater{}} usually{]}, and returns the new
\texttt{ATOM}. Nothing which could in any way be referenced as a legal ``value'' is attached to the new \texttt{ATOM}. The
initially-typed representation of an \texttt{ATOM} becomes its \texttt{PNAME}\index{\texttt{PNAME}}, meaning its name for
\texttt{PRINT}. One often abbreviates ``object of \texttt{TYPE} \texttt{ATOM} with \texttt{PNAME} \emph{name}'' by saying
``\texttt{ATOM} \emph{name}''.

\texttt{EVAL}, given an \texttt{ATOM}, returned just that \texttt{ATOM}.

\texttt{PRINT}, given an \texttt{ATOM}, typed out its \texttt{PNAME}.

At the end of this chapter, the question ``what is a legal \texttt{PNAME}'' will be considered. Further on, the methods
used to attach values to \texttt{ATOM}s will be described.

\subsection{2.6. FIXes, FLOATs, and ATOMs versus READ: Specifics}\label{fixes-floats-and-atoms-versus-read-specifics}

\subsubsection{2.6.1. READ and FIXed-point Numbers}\label{read-and-fixed-point-numbers}

\texttt{READ}\index{\texttt{READ}} considers any grouping of characters which are solely digits to be a
\texttt{FIX}\index{\texttt{FIX}|textbf}, and the radix of the representation is decimal by default. A \texttt{-} (hyphen)
immediately preceding such a grouping represents a negative \texttt{FIX}. The largest \texttt{FIX} representable on the
PDP-10 is two to the 35th power minus one, or 34,359,738,367 (decimal): the smallest is one less than the negative of that
number. If you attempt to type in a \texttt{FIX} outside that range, \texttt{READ} converts it to a \texttt{FLOAT}; if a
program you write attempts to produce a \texttt{FIX} outside that range, an overflow error will occur (unless it is
disabled).

The radix used by \texttt{READ} and \texttt{PRINT} is changeable by the user; however, there are two formats for
representations of \texttt{FIX}es which cause \texttt{READ} to use a specified radix independent of the current one. These
are as follows:

\begin{enumerate}
\def\labelenumi{\arabic{enumi}.}
\item
  If a group of digits is immediately followed by a period (\texttt{.})\index{\texttt{.}|textbf}, \texttt{READ} interprets
  that group as the decimal representation of a \texttt{FIX}. For example, \texttt{10.} is always interpreted by
  \texttt{READ} as the decimal representation of ten.
\item
  If a group of digits is immediately enclosed on both sides with asterisks (\texttt{*}), \index{\texttt{*}|textbf}
  \texttt{READ} interprets that group as the octal representation of a \texttt{FIX}. For example, \texttt{*10*} is always
  interpreted by \texttt{READ} as the octal representation of eight.
\end{enumerate}

\subsubsection{2.6.2. READ and PRINT versus FLOATing-point Numbers}\label{read-and-print-versus-floating-point-numbers}

\texttt{PRINT}\index{\texttt{PRINT}} can produce, and \texttt{READ} can understand, two different formats for objects of
\texttt{TYPE} \texttt{FLOAT}\index{\texttt{FLOAT}|textbf}. The first is ``decimal-point'' notation, the second is
``scientific'' notation. Decimal radix is always used for representations of \texttt{FLOAT}s.

``Decimal-point'' notation for a \texttt{FLOAT} consists of an arbitrarily long string of digits containing one \texttt{.}
(period) which is followed by at least one digit. \texttt{READ} will make a \texttt{FLOAT} out of any such object, with a
limit of precision of one part in 2 to the 27th power.

``Scientific'' notation consists of:

\begin{enumerate}
\def\labelenumi{\arabic{enumi}.}
\item
  a number,
\item
  immediately followed by \texttt{E} or \texttt{e} (upper or lower case letter E),
\item
  immediately followed by an exponent,
\end{enumerate}

where a ``number'' is an arbitrarily long string of digits, with or without a decimal point (see following note): an an
``exponent'' is up to two digits worth of \texttt{FIX}\index{\texttt{FIX}}. This notation represents the ``number'' to the
``exponent'' power of ten. Note: if the ``number'' as above would by itself be a \texttt{FIX}, and if the ``exponent'' is
positive, and if the result is within the allowed range of \texttt{FIX}es, then the result will be a \texttt{FIX}. For
example, \texttt{READ} understands \texttt{10E1} as \texttt{100} (a \texttt{FIX}), but \texttt{10E-1} as \texttt{1.0000000}
(a \texttt{FLOAT}).

The largest-magnitude \texttt{FLOAT} which can be handled without overflow is \texttt{1.7014118E+38} (decimal radix). The
smallest-magnitude \texttt{FLOAT} which can be handled without underflow is \texttt{.14693679E-38}.

\subsubsection{2.6.3. READ and PNAMEs}\label{read-and-pnames}

The question ``what is a legal \texttt{PNAME}?'' is actually not a reasonable one to ask: \textbf{any} non-empty string of
\textbf{arbitrary} characters can be the \texttt{PNAME} of an \texttt{ATOM}. However, some \texttt{PNAME}s are easier to
type to \texttt{READ} than others. But even the question ``what are easily typed \texttt{PNAME}s?'' is not too reasonable,
because: \texttt{READ} decides that a group of characters is a \texttt{PNAME} by \textbf{default}; if it can't possibly be
anything else, it's a \texttt{PNAME}. So, the rules governing the specification of \texttt{PNAME}s are messy, and best
expressed in terms of what is not a \texttt{PNAME}. For simplicity, you can just consider any uninterrupted group of upper-
and lower-case letters and (customarily) hyphens to be a \texttt{PNAME}; that will always work. If you neither a
perfectionist nor a masochist, skip to the next chapter.

\paragraph{2.6.3.1. Non-PNAMEs}\label{non-pnames}

A group of characters is \textbf{not} a \texttt{PNAME} if:

\begin{enumerate}
\def\labelenumi{\arabic{enumi}.}
\item
  It represents a \texttt{FLOAT} or a \texttt{FIX}, as described above -- that is, it is composed wholly of digits, or
  digits and a single \texttt{.} \index{\texttt{.}} (period) or digits and a \texttt{.} and the letter \texttt{E} or
  \texttt{e} (with optional minus signs in the right places).
\item
  It begins with a \texttt{.} (period).
\item
  It contains -- if typed interactively -- any of the characters which have special interactive effects: \texttt{\^{}@},
  \texttt{\^{}D}, \texttt{\^{}L}, \texttt{\^{}G}, \texttt{\^{}O}, \texttt{\$} (\texttt{ESC}), rubout.
\item
  It contains a format character -- space, carriage-return, line-feed, form-feed, horizontal tab, vertical tab.
\item
  It contains a \texttt{,} \index{\texttt{,}|textbf} (comma) or a \texttt{\#} \index{\texttt{\#}} (number sign) or a
  \texttt{\textquotesingle{}} \index{\texttt{'}} (single quote) or a \texttt{;} \index{\texttt{;}} (semicolon) or a
  \texttt{\%} \index{\texttt{\%}} (percent sign).
\item
  It contains any variety of bracket -- \texttt{(} \index{\texttt{(}} or \texttt{)} \index{\texttt{)}} or
  \texttt{{[}}\index{\texttt{[}} or \texttt{{]}}\index{\texttt{]}} or \texttt{\textless{}} \index{\texttt{<}} or
  \texttt{\textgreater{}} \index{\texttt{>}} or \texttt{\{} \index{\texttt{\char123}} or \texttt{\}}
  \index{\texttt{\char125}} or \texttt{"} \index{\texttt{""}}.
\end{enumerate}

In addition, the character \texttt{\textbackslash{}} (backslash) has a special interpretation, as mentioned below. Also the
pair of characters \texttt{!-} (exclamation-point hyphen) has an extremely special interpretation, which you will reach at
chapter 15.

The characters mentioned in cases 4 through 6 are ``separators'' -- that is, they signal to \texttt{READ} that whatever it
was that the preceding characters represented, it's done now. They can also indicate the start of a new object's
representation (all the opening ``brackets'' do just that).

\paragraph{2.6.3.2. Examples}\label{examples}

The following examples are not in the ``standard format'' of ``\emph{line typed in}\texttt{\$} \emph{result printed}'',
because they are not, in some cases, completed objects; hence, \texttt{READ} would continue waiting for the brackets to be
closed. In other cases, they will produce errors during \texttt{EVAL}uation if other -- currently irrelevant -- conditions
are not met. Instead, the right-hand column will be used to state just what \texttt{READ} thought the input in the
left-hand column really was.

\begin{longtable}[]{@{}ll@{}}
\toprule
\begin{minipage}[b]{0.27\columnwidth}\raggedright\strut
Input\strut
\end{minipage} & \begin{minipage}[b]{0.67\columnwidth}\raggedright\strut
Explanation\strut
\end{minipage}\tabularnewline
\midrule
\endhead
\begin{minipage}[t]{0.27\columnwidth}\raggedright\strut
\texttt{ABC\$}\strut
\end{minipage} & \begin{minipage}[t]{0.67\columnwidth}\raggedright\strut
an \texttt{ATOM} of \texttt{PNAME} \texttt{ABC}\strut
\end{minipage}\tabularnewline
\begin{minipage}[t]{0.27\columnwidth}\raggedright\strut
\texttt{abc\$}\strut
\end{minipage} & \begin{minipage}[t]{0.67\columnwidth}\raggedright\strut
an \texttt{ATOM} of \texttt{PNAME} \texttt{abc}\strut
\end{minipage}\tabularnewline
\begin{minipage}[t]{0.27\columnwidth}\raggedright\strut
\texttt{ARBITRARILY-LONG-PNAME\$}\strut
\end{minipage} & \begin{minipage}[t]{0.67\columnwidth}\raggedright\strut
an \texttt{ATOM} of \texttt{PNAME} \texttt{ARBITRARILY-LONG-PNAME}\strut
\end{minipage}\tabularnewline
\begin{minipage}[t]{0.27\columnwidth}\raggedright\strut
\texttt{1.2345\$}\strut
\end{minipage} & \begin{minipage}[t]{0.67\columnwidth}\raggedright\strut
a \texttt{FLOAT}, \texttt{PRINT}ed as \texttt{1.2345000}\strut
\end{minipage}\tabularnewline
\begin{minipage}[t]{0.27\columnwidth}\raggedright\strut
\texttt{1.2.345\$}\strut
\end{minipage} & \begin{minipage}[t]{0.67\columnwidth}\raggedright\strut
an \texttt{ATOM} of \texttt{PNAME} \texttt{1.2.345}\strut
\end{minipage}\tabularnewline
\begin{minipage}[t]{0.27\columnwidth}\raggedright\strut
\texttt{A.or.B\$}\strut
\end{minipage} & \begin{minipage}[t]{0.67\columnwidth}\raggedright\strut
a \texttt{ATOM} of \texttt{PNAME} \texttt{A.or.B}\strut
\end{minipage}\tabularnewline
\begin{minipage}[t]{0.27\columnwidth}\raggedright\strut
\texttt{.A.or.B\$}\strut
\end{minipage} & \begin{minipage}[t]{0.67\columnwidth}\raggedright\strut
not an \texttt{ATOM}, but (as explained later) a \texttt{FORM} containing an \texttt{ATOM} of \texttt{PNAME}
\texttt{A.or.B}.\strut
\end{minipage}\tabularnewline
\begin{minipage}[t]{0.27\columnwidth}\raggedright\strut
\texttt{MORE\ THAN\ ONE\$}\strut
\end{minipage} & \begin{minipage}[t]{0.67\columnwidth}\raggedright\strut
three \texttt{ATOM}s, with \texttt{PNAME}s \texttt{MORE}, and \texttt{THAN}, and \texttt{ONE}.\strut
\end{minipage}\tabularnewline
\begin{minipage}[t]{0.27\columnwidth}\raggedright\strut
\texttt{ab(cd\$}\strut
\end{minipage} & \begin{minipage}[t]{0.67\columnwidth}\raggedright\strut
an \texttt{ATOM} of \texttt{PNAME} \texttt{ab}, followed by the start of something else (The something else will contain an
\texttt{ATOM} of \texttt{PNAME} beginning \texttt{cd.})\strut
\end{minipage}\tabularnewline
\begin{minipage}[t]{0.27\columnwidth}\raggedright\strut
\texttt{12345A34\$}\strut
\end{minipage} & \begin{minipage}[t]{0.67\columnwidth}\raggedright\strut
an \texttt{ATOM} of \texttt{PNAME} \texttt{12345A35} (If the A had been an E, the object would have been a
\texttt{FLOAT}.)\strut
\end{minipage}\tabularnewline
\bottomrule
\end{longtable}

\paragraph{2.6.3.3. ~(Backslash) in ATOMs}\label{backslash-in-atoms}

If you have a strange, uncontrollable compulsion to have what were referred to as ``separators'' above as part of the
\texttt{PNAME}s of your \texttt{ATOM}s, you can do so by preceding them with the character
\texttt{\textbackslash{}}\index{\texttt{"\textbackslash{}}|textbf} (backslash). \texttt{\textbackslash{}} will also
magically turn an otherwise normal \texttt{FIX} or \texttt{FLOAT} into an \texttt{ATOM} if it appears amongst the digits.
In fact, backslash in front of \textbf{any} character changes it from something special to ``just another character''
(including the character \texttt{\textbackslash{}}). It is an escape character.

When \texttt{PRINT} confronts an \texttt{ATOM} which had to be backslashed in order to be an \texttt{ATOM}, it will
dutifully type out the required \texttt{\textbackslash{}}s. They will not, however, necessarily be where you typed them;
they will instead be at those positions which will cause \texttt{READ} the least grief. For example, \texttt{PRINT} will
type out a \texttt{PNAME} which consists wholly of digits by first typing a \texttt{\textbackslash{}} and then typing the
digits - no matter where you originally typed the \texttt{\textbackslash{}} (or \texttt{\textbackslash{}}s).

\paragraph{2.6.3.4. Examples of Awful ATOMs}\label{examples-of-awful-atoms}

The following examples illustrate the amount of insanity that can be perpetrated by using \texttt{\textbackslash{}}. The
format of the examples is again non-standard, this time not because anything is unfinished or in error, but because
commenting is needed: \texttt{PRINT} doesn't do it full justice.

\begin{longtable}[]{@{}ll@{}}
\toprule
Input & Explanation\tabularnewline
\midrule
\endhead
\texttt{a\textbackslash{}\ one\textbackslash{}\ and\textbackslash{}\ a\textbackslash{}\ two\$} & one \texttt{ATOM}, whose
\texttt{PNAME} has four spaces in it\tabularnewline
\texttt{1234\textbackslash{}56789\$} & an \texttt{ATOM} of \texttt{PNAME} \texttt{123456789}, which \texttt{PRINT}s as
\texttt{\textbackslash{}1233456789}\tabularnewline
\texttt{123\textbackslash{}\ \$} & an \texttt{ATOM} of \texttt{PNAME} \texttt{123space}, which \texttt{PRINT}s as
\texttt{\textbackslash{}123\textbackslash{}}, with a space on the end\tabularnewline
\texttt{\textbackslash{}\textbackslash{}\$} & an \texttt{ATOM} whose \texttt{PNAME} is a single backslash\tabularnewline
\bottomrule
\end{longtable}

\section{Chapter 3. Built-in Functions}\label{chapter-3.-built-in-functions}

\subsection{3.1. Representation {[}1{]}}\label{representation-1}

Up to this point, all the objects we have been concerned with have had no internal structure discernible in MDL. While the
characteristics of objects with internal structure differ greatly, the way \texttt{READ} and \texttt{PRINT} handle them is
uniform, to wit:

\begin{itemize}
\item
  \texttt{READ}, when applied to the representation of a structured object, builds and returns an object of the indicated
  \texttt{TYPE} with elements formed by applying \texttt{READ} to each of their representations in turn.
\item
  \texttt{PRINT}, when applied to a structured object, produces a representation of the object, with its elements
  represented as \texttt{PRINT} applied to each of them in turn.
\end{itemize}

A MDL object which is used to represent the application of a function to its arguments is an argument of \texttt{TYPE}
\texttt{FORM}\index{\texttt{FORM}|textbf}. Its printed representation is

\begin{verbatim}
< func arg-1 arg-2 ... arg-N >
\end{verbatim}

where \emph{func} is an object which designates the function\index{\texttt{function}|textbf} to be applied, and
\emph{arg-1} through \emph{arg-N} are objects which designate the arguments or ``actual parameters'' or ``inputs''. A
\texttt{FORM} is just a structured object which is stored and can be manipulated like a \texttt{LIST} (its ``primitive
type'' is \texttt{LIST} -- chapter 6). The application of the function to the arguments is done by \texttt{EVAL}. The usual
meaning of ``function'' (uncapitalized) in this document will be anything applicable to arguments.

\subsection{3.2. Evaluation {[}1{]}}\label{evaluation-1}

\texttt{EVAL} applied to a \texttt{FORM} acts as if following these directions:

First, examine the \emph{func} (first element) of the \texttt{FORM}. If it is an \texttt{ATOM}, look at its ``value''
(global or local, in that order -- see next chapter). If it is not an \texttt{ATOM}, \texttt{EVAL} it and look at the
result of the evaluation. If what you are looking at is not something which can be applied to arguments, complain (via the
\texttt{ERROR} function). Otherwise, inspect what you are looking at and follow its directions in evaluating or not
evaluating the arguments (chapters 9 and 19) and then ``apply the function'' -- that is, \texttt{EVAL} the body of the
object gotten from \emph{func}.

\subsection{3.3. Built-in Functions (TYPE SUBR, TYPE FSUBR) {[}1{]}}\label{built-in-functions-type-subr-type-fsubr-1}

The built-in functions of MDL come in two varieties: those which have all their arguments \texttt{EVAL}ed before operating
on them (\texttt{TYPE} \texttt{SUBR}\index{\texttt{SUBR}|textbf}, for ``subroutine'', pronounced ``subber'') and those
which have none of their arguments \texttt{EVAL}ed (\texttt{TYPE} \texttt{FSUBR}\index{\texttt{FSUBR}|textbf}, historically
from Lisp (Moon, 1974), pronounced ``effsubber''). Collectively they will be called \texttt{F/SUBR}s, although that term is
not meaningful to the interpreter. See appendix 2 for a listing of all \texttt{F/SUBR}s and short descriptions. The term
``Subroutine''\index{\texttt{Subroutine}} will be used herein to mean both \texttt{F/SUBR}s and compiled user programs
(\texttt{RSUBR}s and \texttt{RSUBR-ENTRY}s -- chapter 19).

Unless otherwise stated, \textbf{every} MDL built-in Subroutine is of \texttt{TYPE} \textbf{\texttt{SUBR}}. Also, when it
is stated that an argument of a \texttt{SUBR} must be of a particular \texttt{TYPE}, note that this means that
\texttt{EVAL} of what is there must be of the particular \texttt{TYPE}.

Another convenient abbreviation which will be used is ``the \texttt{SUBR} \emph{pname}'' in place of ``the \texttt{SUBR}
which is initially the `value' of the \texttt{ATOM} of \texttt{PNAME} \emph{pname}''. ``The \texttt{FSUBR} \emph{pname}''
will be used with a similar meaning.

\subsection{3.4. Examples (+ and FIX; Arithmetic) {[}1{]}}\label{examples-and-fix-arithmetic-1}

\begin{verbatim}
<+ 2 4 6>$
12
\end{verbatim}

The \texttt{SUBR} \texttt{+} adds numbers. Most of the usual arithmetic functions are MDL \texttt{SUBR}s: \texttt{+}
\index{\texttt{-}|textbf}, \index{\texttt{+}|textbf} \texttt{-}, \texttt{*}, \index{\texttt{*}|textbf}
\texttt{/}\index{\texttt{/}|textbf}, \texttt{MIN} \index{\texttt{MIN}}, \texttt{MAX}\index{\texttt{MAX}},
\texttt{MOD}\index{\texttt{MOD}}, \texttt{SIN}\index{\texttt{SIN}}, \texttt{COS}\index{\texttt{COS}},
\texttt{ATAN}\index{\texttt{ATAN}}, \texttt{SQRT}\index{\texttt{SQRT}}, \texttt{LOG}\index{\texttt{LOG}},
\texttt{EXP}\index{\texttt{EXP}}, \texttt{ABS}\index{\texttt{ABS}|textbf}. (See appendix 2 for short descriptions of
these.) All except \texttt{MOD}, which wants \texttt{FIX}es\index{\texttt{FIX}|textbf}, are indifferent as to whether their
arguments are \texttt{FLOAT} or \texttt{FIX} or a mixture. In the last case they exhibit ``contagious \texttt{FLOAT}ing'':
one argument of \texttt{TYPE} \texttt{FLOAT} forces the result to be of \texttt{TYPE} \texttt{FLOAT}.

\begin{verbatim}
<FIX 1.0>$
1
\end{verbatim}

The \texttt{SUBR} \texttt{FIX} explicitly returns a \texttt{FIX}ed-point number corresponding to a \texttt{FLOAT}ing-point
number. \texttt{FLOAT} does the opposite.

\begin{verbatim}
<+ 5 <* 2 3>>$
11
<SQRT <+ <* 3 3> <* 4 4>>>$
5.0
<- 5 3 2>$
0
<- 5>$
-5
<MIN 1 2.0>$
1.0
</ 11 7 2.0>$
0.5
\end{verbatim}

Note this last result: the division of two \texttt{FIX}es gives a \texttt{FIX} with truncation, not rounding, of the
remainder: the intermediate result remains a \texttt{FIX} until a \texttt{FLOAT} argument is encountered.

\subsection{3.5. Arithmetic Details}\label{arithmetic-details}

\texttt{+}, \texttt{-}, \texttt{*}, \texttt{/}, \texttt{MIN}, and \texttt{MAX} all take any number of arguments, doing the
operation with the first argument and the second, then with that result and the third argument, etc. If called with no
arguments, each returns the identity for its operation (\texttt{0}, \texttt{0}, \texttt{1}, \texttt{1}, the greatest
\texttt{FLOAT}, and the least \texttt{FLOAT}, respectively); if called with one argument, each acts as if the identity and
the argument has been supplied. They all will cause an overflow or underflow error if any result, intermediate or final, is
too large or too small for the machine's capacity. (That error can be disabled if necessary -- section 16.9).

One arithmetic function that always requires some discussion is the pseudo-random-number generator. MDL's is named
\texttt{RANDOM}\index{\texttt{RANDOM}|textbf}, and it always returns a \texttt{FIX}, uniformly distributed over the whole
range of \texttt{FIX}es. If \texttt{RANDOM} is never called with arguments, it always returns the exact same sequence of
numbers, for convenience in debugging. ``Debugged'' programs should give \texttt{RANDOM} two arguments on the first call,
which become seeds for a new sequence. Popular choices of new seeds are the numbers given by \texttt{TIME} (which see),
possibly with bits modified (chapter 18). Example (``pick a number from one to ten''):

\begin{verbatim}
<+ 1 <MOD <RANDOM> 10>>$
4
\end{verbatim}

\section{Chapter 4. Values of Atoms}\label{chapter-4.-values-of-atoms}

\subsection{4.1. General {[}1{]}}\label{general-1-1}

There are two kinds of ``value'' which can be attached to an \texttt{ATOM}. An \texttt{ATOM} can have either, both, or
neither. They interact in no way (except that alternately referring to one and then the other is inefficient). These two
values are referred to as the \textbf{local value} and the \textbf{global value} of an \texttt{ATOM}. The terms ``local''
and ``global'' are relative to \texttt{PROCESS}es (chapter 20), not functions or programs. The \texttt{SUBR}s which
reference the local and global values of an \texttt{ATOM}, and some of the characteristics of local versus global values,
follow.

\subsection{4.2. Global Values}\label{global-values}

\subsubsection{4.2.1. SETG {[}1{]}}\label{setg-1}

A global value can be assigned to an \texttt{ATOM} by the \texttt{SUBR} \texttt{SETG}\index{\texttt{SETG}|textbf} (``set
global''), as in

\begin{verbatim}
<SETG atom any>
\end{verbatim}

where \emph{atom} must \texttt{EVAL} to an \texttt{ATOM}, and \emph{any} can \texttt{EVAL} to anything. \texttt{EVAL} of
the second argument becomes the global value of \texttt{EVAL} of the first argument. The value returned by the
\texttt{SETG} is its second argument, namely the new global value of \emph{atom}.

Examples:

\begin{verbatim}
<SETG FOO <SETG BAR 500>>$
500
\end{verbatim}

The above made the global values of both the \texttt{ATOM} \texttt{FOO} and the \texttt{ATOM} \texttt{BAR} equal to the
\texttt{FIX}ed-point number 500.

\begin{verbatim}
<SETG BAR FOO>$
FOO
\end{verbatim}

That made the global value of the \texttt{ATOM} \texttt{BAR} equal to the \texttt{ATOM} \texttt{FOO}.

\subsubsection{4.2.2. GVAL {[}1{]}}\label{gval-1}

The \texttt{SUBR} \texttt{GVAL}\index{\texttt{GVAL}|textbf} (``global value'') is used to reference the global value of an
\texttt{ATOM}.

\begin{verbatim}
<GVAL atom>
\end{verbatim}

returns as a value the global value of \emph{atom}. If \emph{atom} does not evaluate to an \texttt{ATOM}, or if the
\texttt{ATOM} to which it evaluates has no global value, an error occurs.

\texttt{GVAL} applied to an \texttt{ATOM} anywhere, in any \texttt{PROCESS}, in any function, will return the same value.
Any \texttt{SETG} anywhere changes the global value for everybody. Global values are context-independent.

\texttt{READ} understands the character \texttt{,} \index{\texttt{,}|textbf} (comma) as an abbreviation for an application
of \texttt{GVAL} to whatever follows it. \texttt{PRINT} always translates an application of \texttt{GVAL} into the comma
format. The following are absolutely equivalent:

\begin{verbatim}
,atom        <GVAL atom>
\end{verbatim}

Assuming the examples in section 4.2.1 were carried out in the order given, the following will evaluate as indicated:

\begin{verbatim}
,FOO$
500
<GVAL FOO>$
500
,BAR$
FOO
,,BAR$
500
\end{verbatim}

\subsubsection{4.2.3. Note on SUBRs and FSUBRs}\label{note-on-subrs-and-fsubrs}

The initial \texttt{GVAL}s of the \texttt{ATOM}s used to refer to MDL ``built-in'' Subroutines are the
\texttt{SUBR}s\index{\texttt{SUBR}} and \texttt{FSUBR}s\index{\texttt{FSUBR}} which actually get applied when those
\texttt{ATOM}s are referenced. If you don't like the way those supplied routines work, you are perfectly free to
\texttt{SETG} the \texttt{ATOM}s to your own versions.

\subsubsection{4.2.4. GUNASSIGN}\label{gunassign}

\begin{verbatim}
<GUNASSIGN atom>
\end{verbatim}

\index{\texttt{GUNASSIGN}|textbf} (``global unassign'') causes \emph{atom} to have no assigned global value, whether or not
it had one previously. The storage used for the global value can become free for other uses.

\subsection{4.3. Local Values}\label{local-values}

\subsubsection{4.3.1. SET {[}1{]}}\label{set-1}

The \texttt{SUBR} \texttt{SET}\index{\texttt{SET}|textbf} is used to assign a local value to an \texttt{ATOM}. Applications
of \texttt{SET} are of the form

\begin{verbatim}
<SET atom any>
\end{verbatim}

\texttt{SET} returns \texttt{EVAL} of \emph{any} just like \texttt{SETG}.

Examples:

\begin{verbatim}
<SET BAR <SET FOO 100>>$
100
\end{verbatim}

Both \texttt{BAR} and \texttt{FOO} have been given local values equal to the \texttt{FIX}ed-point number 100.

\begin{verbatim}
<SET FOO BAR>$
BAR
\end{verbatim}

\texttt{FOO} has been given the local value \texttt{BAR}.

Note that neither of the above did anything to any global values \texttt{FOO} and \texttt{BAR} might have had.

\subsubsection{4.3.2. LVAL {[}1{]}}\label{lval-1}

The \texttt{SUBR} used to extract the local value of an \texttt{ATOM} is named \texttt{LVAL}\index{\texttt{LVAL}|textbf}.
As with \texttt{GVAL}, \texttt{READ} understands an abbreviation for an application of \texttt{LVAL}: the character
\texttt{.} \index{\texttt{.}|textbf} (period), and \texttt{PRINT} produces it. The following two representations are
equivalent, and when \texttt{EVAL} operates on the corresponding MDL object, it returns the current local value of
\emph{atom}:

\begin{verbatim}
<LVAL atom>        .atom
\end{verbatim}

The local value of an \texttt{ATOM} is unique within a \texttt{PROCESS}. \texttt{SET}ting an \texttt{ATOM} in one
\texttt{PROCESS} has no effect on its \texttt{LVAL} in another \texttt{PROCESS}, because each \texttt{PROCESS} has its own
``control stack'' (chapters 20 and 22).

Assume \textbf{all} of the previous examples in this chapter have been done. Then the following evaluate as indicated:

\begin{verbatim}
.BAR$
100
<LVAL BAR>$
100
.FOO$
BAR
,.FOO$
FOO
\end{verbatim}

\subsubsection{4.3.3. UNASSIGN}\label{unassign}

\begin{verbatim}
<UNASSIGN atom>
\end{verbatim}

\index{\texttt{UNASSIGN}|textbf} causes \emph{atom} to have no assigned local value, whether or not it had one previously.

\subsection{4.4. VALUE}\label{value}

\texttt{VALUE}\index{\texttt{VALUE}|textbf} is a \texttt{SUBR} which takes an \texttt{ATOM} as an argument, and then:

\begin{enumerate}
\def\labelenumi{\arabic{enumi}.}
\tightlist
\item
  if the \texttt{ATOM} has an \texttt{LVAL}, returns the \texttt{LVAL};
\item
  if the \texttt{ATOM} has no \texttt{LVAL} but has a \texttt{GVAL}, returns the \texttt{GVAL};
\item
  if the \texttt{ATOM} has neither a \texttt{GVAL} nor an \texttt{LVAL}, calls the \texttt{ERROR} function.
\end{enumerate}

This order of seeking a value is the \textbf{opposite} of that used when an \texttt{ATOM} is the first element of a
\texttt{FORM}\index{\texttt{FORM}}. The latter will be called the G/LVAL, even though that name is not used in MDL.

Example:

\begin{verbatim}
<UNASSIGN A>$
A
<SETG A 1>$
1
<VALUE A>$
1
<SET A 2>$
2
<VALUE A>$
2
,A$
1
\end{verbatim}

\section{Chapter 5. Simple Functions}\label{chapter-5.-simple-functions}

\subsection{5.1. General {[}1{]}}\label{general-1-2}

The MDL equivalent of a ``program'' (uncompiled) is an object of \texttt{TYPE}
\texttt{FUNCTION}\index{\texttt{FUNCTION}|textbf}. Actually, full-blown ``programs'' are usually composed of sets of
\texttt{FUNCTION}s, with most \texttt{FUNCTION}s in the set acting as ``subprograms''.

A \texttt{FUNCTION} may be considered to be a \texttt{SUBR} or \texttt{FSUBR} which you yourself define. It is ``run'' by
using a \texttt{FORM} to apply it to arguments (for example, \textless{}\emph{function arg-1 arg-2
\ldots{}}\textgreater{}), and it always ``returns'' a single object, which is used as the value of the \texttt{FORM} that
applied it. The single object may be ignored by whatever ``ran'' the \texttt{FUNCTION} -- equivalent to ``returning no
value'' -- or it may be a structured object containing many objects -- equivalent to ``returning many values''. MDL is an
``applicative'' language, in contrast to ``imperative'' languages like Fortran. In MDL it is impossible to return values
through arguments in the normal case; they can be returned only as the value of the \texttt{FORM} itself, or as side
effects to structured objects or global values.

In this chapter a simple subset of the \texttt{FUNCTION}s you can write is presented, namely \texttt{FUNCTION}s which ``act
like'' \texttt{SUBR}s with a fixed number of arguments. While this class corresponds to about 90\% of the
\texttt{FUNCTION}s ever written, you won't be able to do very much with them until you read further and learn more about
MDL's control and manipulatory machinery. However, all that machinery is just a bunch of \texttt{SUBR}s and
\texttt{FSUBR}s, and you already know how to ``use'' them; you just need to be told what they do. Once you have
\texttt{FUNCTION}s under your belt, you can immediately make use of everything presented from this point on in the
document. In fact, we recommend that you do so.

\subsection{5.2. Representation {[}1{]}}\label{representation-1-1}

A \texttt{FUNCTION} is just another data object in MDL, of \texttt{TYPE} \texttt{FUNCTION}. It can be manipulated like any
other data object. \texttt{PRINT} represents a \texttt{FUNCTION} like this:

\begin{verbatim}
#FUNCTION (elements)
\end{verbatim}

that is, a number sign, the \texttt{ATOM} \texttt{FUNCTION}, a left parenthesis, each of the elements of the
\texttt{FUNCTION}, and a right parenthesis. Since \texttt{PRINT} represents \texttt{FUNCTION}s like this, you can type them
in to \texttt{READ} this way. (But there are a few \texttt{TYPE}s for which that implication is false.)

The elements of a \texttt{FUNCTION} can be ``any number of anythings''; however, when you \textbf{use} a \texttt{FUNCTION}
(apply it with a \texttt{FORM}), \texttt{EVAL} will complain if the \texttt{FUNCTION} does not look like

\begin{verbatim}
#FUNCTION (act:atom arguments:list decl body)
\end{verbatim}

where \emph{act} and \emph{decl} are optional (section 9.8 and chapter 14); \emph{body} is \textbf{at least one} MDL object
-- any old MDL object; and, in this simple case, \emph{arguments} is

\begin{verbatim}
(any number of ATOMs)
\end{verbatim}

that is, something \texttt{READ} and \texttt{PRINT}ed as: left parenthesis, any number -- including zero -- of
\texttt{ATOM}s, right parenthesis. (This is actually a normal MDL object of \texttt{TYPE} \texttt{LIST}, containing only
\texttt{ATOM}s.)

Thus, these \texttt{FUNCTION}s will cause errors -- but only \textbf{when used}:

\begin{longtable}[]{@{}ll@{}}
\toprule
Input & Explanation\tabularnewline
\midrule
\endhead
\texttt{\#FUNCTION\ ()} & -- no argument \texttt{LIST} or body\tabularnewline
\texttt{\#FUNCTION\ ((1)\ 2\ 7.3)} & -- non-\texttt{ATOM} in argument \texttt{LIST}\tabularnewline
\texttt{\#FUNCTION\ ((A\ B\ C\ D))} & -- no body\tabularnewline
\texttt{\#FUNCTION\ (\textless{}+\ 1\ 2\textgreater{}\ A\ C)} & -- no argument \texttt{LIST}\tabularnewline
\bottomrule
\end{longtable}

These \texttt{FUNCTION}s will never cause errors because of format:

\begin{verbatim}
#FUNCTION (() 1 2 3 4 5)
#FUNCTION ((A) A)
#FUNCTION (()()()()()()()())
#FUNCTION ((A B C D EE F G H HIYA) <+ .A .HIYA>)
#FUNCTION ((Q) <SETG C <* .Q ,C>> <+ <MOD ,C 3> .Q>)
\end{verbatim}

and the last two actually do something which might be useful. (The first three are rather pathological, but legal.)

\subsection{5.3. Application of FUNCTIONs: Binding {[}1{]}}\label{application-of-functions-binding-1}

\texttt{FUNCTION}s, like \texttt{SUBR}s and \texttt{FSUBR}s, are applied using \texttt{FORM}s. So,

\begin{verbatim}
<#FUNCTION ((X) <* .X .X>) 5>$
25
\end{verbatim}

applied the indicated \texttt{FUNCTION} to 5 and returned 25.

What \texttt{EVAL} does when applying a \texttt{FUNCTION} is the following:

\begin{enumerate}
\def\labelenumi{\arabic{enumi}.}
\tightlist
\item
  Create a ``world'' in which the \texttt{ATOM}s of the argument \texttt{LIST} have been \textbf{\texttt{SET}}
  \index{\texttt{SET}} to the values applied to the \texttt{FUNCTION}, and all other \texttt{ATOM}s have their original
  values. This is called ``binding''.
\end{enumerate}

\begin{itemize}
\tightlist
\item
  In the above, this is a ``world'' in which \texttt{X} is \texttt{SET} to \texttt{5}.
\end{itemize}

\begin{enumerate}
\def\labelenumi{\arabic{enumi}.}
\setcounter{enumi}{1}
\tightlist
\item
  In that new ``world'', evaluate all the objects in the body of the \texttt{FUNCTION}, one after the other, from first to
  last.
\end{enumerate}

\begin{itemize}
\tightlist
\item
  In the above, this means evaluate \texttt{\textless{}*\ .X\ .X\textgreater{}} in a ``world'' where \texttt{X} is
  \texttt{SET} to \texttt{5}.
\end{itemize}

\begin{enumerate}
\def\labelenumi{\arabic{enumi}.}
\setcounter{enumi}{2}
\tightlist
\item
  Throw away the ``world'' created, and restore the \texttt{LVAL}s\index{\texttt{LVAL}} of all \texttt{ATOM}s bound in this
  application of the \texttt{FUNCTION} to their originals (if any). This is called ``unbinding''.
\end{enumerate}

\begin{itemize}
\tightlist
\item
  In the above, this simply gives \texttt{X} back the local value, if any, that it had before binding.
\end{itemize}

\begin{enumerate}
\def\labelenumi{\arabic{enumi}.}
\setcounter{enumi}{3}
\tightlist
\item
  Return as a value the \textbf{last value obtained} when the \texttt{FUNCTION}'s body was evaluated in step (2).
\end{enumerate}

\begin{itemize}
\tightlist
\item
  In the above, this means return \texttt{25} as the value.
\end{itemize}

The ``world'' mentioned above is actually an object of \texttt{TYPE} \texttt{ENVIRONMENT}\index{\texttt{ENVIRONMENT}}. The
fact that such ``worlds'' are separate from the \texttt{FUNCTION}s which cause their generation means that \textbf{all} MDL
\texttt{FUNCTION}s can be used recursively.

The only thing that is at all troublesome in this sequence is the effect of creating these new ``worlds'', in particular,
the fact that the \textbf{previous} world is completely restored. This means that if, inside a \texttt{FUNCTION}, you
\texttt{SET} one of its argument \texttt{ATOM}s to something, that new \texttt{LVAL} will \textbf{not} be remembered when
\texttt{EVAL} leaves the \texttt{FUNCTION}. However, if you \texttt{SET} an \texttt{ATOM} which is \textbf{not} in the
argument \texttt{LIST} (or \texttt{SETG}\index{\texttt{SETG}} \textbf{any} \texttt{ATOM}) the new local (or global) value
\textbf{will} be remembered. Examples:

\begin{verbatim}
<SET X 0>$
0
<#FUNCTION ((X) <SET X <* .X .X>>) 5>$
25
.X$
0
\end{verbatim}

On the other hand,

\begin{verbatim}
<SET Y 0>$
0
<#FUNCTION ((X) <SET Y <* .X .X>>) 5>$
25
.Y$
25
\end{verbatim}

By using \texttt{PRINT} as a \texttt{SUBR}, we can ``see'' that an argument's \texttt{LVAL} really is changed while
\texttt{EVAL}uating the body of a \texttt{FUNCTION}:

\begin{verbatim}
<SET X 5>$
5
<#FUNCTION ((X) <PRINT .X> <+ .X 10>) 3>$
3 13
.X$
5
\end{verbatim}

The first number after the application \texttt{FORM} was typed out by the \texttt{PRINT}; the second is the value of the
application.

Remembering that \texttt{LVAL}s of \texttt{ATOM}s \textbf{not} in argument \texttt{LIST}s are not changed, we can reference
them within \texttt{FUNCTION}s, as in

\begin{verbatim}
<SET Z 100>$
100
<#FUNCTION ((Y) </ .Z .Y>) 5>$
20
\end{verbatim}

\texttt{ATOM}s used like \texttt{Z} or \texttt{Y} in the above examples are referred to as ``free variables''. The use of
free variables, while often quite convenient, is rather dangerous unless you know \textbf{exactly} how a \texttt{FUNCTION}
will \textbf{always} be used: if a \texttt{FUNCTION} containing free variables is used within a \texttt{FUNCTION} within a
\texttt{FUNCTION} within \ldots{}, one of those \texttt{FUNCTION}s might just happen to use your free variable in its
argument \texttt{LIST}, binding it to some unknown value and possibly causing your use of it to be erroneous. Please note
that ``dangerous'', as used above, really means that it may be effectively \textbf{impossible} (1) for other people to use
your \texttt{FUNCTION}s, and (2) for \textbf{you} to use your \texttt{FUNCTION}s a month (two weeks?) later.

\subsection{5.4. Defining FUNCTIONs (FUNCTION and DEFINE) {[}1{]}}\label{defining-functions-function-and-define-1}

Obviously, typing \texttt{\#FUNCTION\ (...)} all the time is neither reasonable nor adequate for many purposes. Normally,
you just want a \texttt{FUNCTION}\index{\texttt{FUNCTION}|textbf} to be the \texttt{GVAL}\index{\texttt{GVAL}} of some
\texttt{ATOM} -- the way \texttt{SUBR}s and \texttt{FSUBR}s\index{\texttt{FSUBR}} are -- so you can use it repeatedly (and
recursively). Note that you generally do \textbf{not} want a \texttt{FUNCTION} to be the \texttt{LVAL} of an \texttt{ATOM};
this has the same problems as free variables. (Of course, there are always cases where you are being clever and
\textbf{want} the \texttt{ATOM} to be re-bound\ldots{}.)

One way to ``name'' a \texttt{FUNCTION} is

\begin{verbatim}
<SETG SQUARE #FUNCTION ((X) <* .X .X>)>$
#FUNCTION ((X) <* .X .X>)
\end{verbatim}

So that

\begin{verbatim}
<SQUARE 5>$
25
<SQUARE 100>$
10000
\end{verbatim}

Another way, which is somewhat cleaner in its typing:

\begin{verbatim}
<SETG SQUARE <FUNCTION (X) <* .X .X>>>$
#FUNCTION ((X) <* .X .X>)
\end{verbatim}

\texttt{FUNCTION} is an \texttt{FSUBR} which simply makes a \texttt{FUNCTION} out of its arguments and returns the created
\texttt{FUNCTION}.

This, however, is generally the \textbf{best} way:

\begin{verbatim}
<DEFINE SQUARE (X) <* .X .X>>$
SQUARE
,SQUARE$
#FUNCTION ((X) <* .X .X>
\end{verbatim}

The last two lines immediately above are just to prove that \texttt{DEFINE}\index{\texttt{DEFINE}|textbf} did the ``right
thing''.

\texttt{DEFINE} is an \texttt{FSUBR} which \texttt{SETG}s \texttt{EVAL} of its first argument to the \texttt{FUNCTION} it
makes from the rest of its arguments, and then returns \texttt{EVAL} of its first argument. \texttt{DEFINE} obviously
requires the least typing of the above methods, and is ``best'' from that standpoint. However, the real reason for using
\texttt{DEFINE} is the following: If \texttt{EVAL} of \texttt{DEFINE}'s first argument \textbf{already has} a
\texttt{GVAL}, \texttt{DEFINE} produces an error. This helps to keep you from accidentally redefining things -- like MDL
\texttt{SUBR}s and \texttt{FSUBR}s. The \texttt{SETG} constructions should be used only when you really do want to redefine
something. \texttt{DEFINE} will be used in the rest of this document.

{[}Actually, if it is absolutely necessary to use \texttt{DEFINE} to ``redefine'' things, there is a ``switch'' which can
be used: if the \texttt{LVAL} of the \texttt{ATOM} \texttt{REDEFINE}\index{\texttt{REDEFINE}|textbf} is \texttt{T} (or
anything not of \texttt{TYPE} \texttt{FALSE}), \texttt{DEFINE} will produce no errors. The normal state can be restored by
evaluating \texttt{\textless{}SET\ REDEFINE\ \textless{}\textgreater{}\textgreater{}}. See chapter 8.{]}

\subsection{5.5. Examples (Comments) {[}1{]}}\label{examples-comments-1}

Using \texttt{SQUARE} as defined above:

\begin{verbatim}
<DEFINE HYPOT (SIDE-1 SIDE-2)
        ;"This is a comment. This FUNCTION finds the
          length of the hypotenuse of a right triangle
          of sides SIDE-1 and SIDE-2."
    <SQRT <+ <SQUARE .SIDE-1> <SQUARE .SIDE-2>>>>$
HYPOT
<HYPOT 3 4>$
5.0
\end{verbatim}

Note that carriage-returns, line-feeds, tabs, etc. are just separators, like spaces. A comment is \textbf{any single} MDL
object which follows a \texttt{;} \index{\texttt{;}|textbf} (semicolon). A comment can appear between any two MDL objects.
A comment is totally ignored by \texttt{EVAL} but remembered and associated by \texttt{READ} with the place in the
\texttt{FUNCTION} (or any other structured object) where it appeared. (This will become clearer after chapter 13.) The
\texttt{"}s (double-quotes) serve to make everything between them a single MDL object, whose \texttt{TYPE} is
\texttt{STRING} (chapter 7). (\texttt{SQRT}\index{\texttt{SQRT}|textbf} is the \texttt{SUBR} which returns the square root
of its argument. It always returns a \texttt{FLOAT}.)

A whimsical \texttt{FUNCTION}:

\begin{verbatim}
<DEFINE ONE (THETA) ;"This FUNCTION always returns 1."
        <+ <SQUARE <SIN .THETA>>
           <SQUARE <COS .THETA>>>>$
ONE
<ONE 5>$
0.99999994
<ONE 0.23>$
0.99999999
\end{verbatim}

\texttt{ONE} always returns (approximately) one, since the sum of the squares of sin(x) and cos(x) is unity for any x.
(\texttt{SIN} \index{\texttt{SIN}|textbf} and \texttt{COS}\index{\texttt{COS}|textbf} always return \texttt{FLOAT}s, and
each takes its argument in radians. \texttt{ATAN}\index{\texttt{ATAN}|textbf} (arctangent) returns its value in radians.
Any other trigonometric function can be compounded from these three.)

MDL doesn't have a general ``to the power'' \texttt{SUBR}, so let's define one using \texttt{LOG}
\index{\texttt{LOG}|textbf} and \texttt{EXP} \index{\texttt{EXP}|textbf} (log base e, and e to a power, respectively;
again, they return \texttt{FLOAT}s).

\begin{verbatim}
<DEFINE ** (NUM PWR) <EXP <* .PWR <LOG .NUM>>>>$
**
<** 2 2>$
4.0000001
<** 5 3>$
125.00000
<** 25 0.5>$
5.0000001
\end{verbatim}

Two \texttt{FUNCTION}s which use a single global variable (Since the \texttt{GVAL}\index{\texttt{GVAL}} is used, it cannot
be rebound.):

\begin{verbatim}
<DEFINE START () <SETG GV 0>>$
START
<DEFINE STEP () <SETG GV <+ ,GV 1>>>$
STEP
<START>$
0
<STEP>$
1
<STEP>$
2
<STEP>$
3
\end{verbatim}

\texttt{START} and \texttt{STEP} take no arguments, so their argument \texttt{LIST}s are empty.

An interesting, but pathological, \texttt{FUNCTION}:

\begin{verbatim}
<DEFINE INC (ATM) <SET .ATM <+ ..ATM 1>>>$
INC
<SET A 0>$
0
<INC A>$
1
<INC A>$
2
.A$
2
\end{verbatim}

\texttt{INC} takes an \textbf{\texttt{ATOM}} as an argument, and \texttt{SET}s that \texttt{ATOM} to its current
\texttt{LVAL} plus \texttt{1}. Note that inside \texttt{INC}, the \texttt{ATOM} \texttt{ATM} is \texttt{SET} to the
\texttt{ATOM} which is its argument; thus \texttt{..ATM} returns the \texttt{LVAL} of the \textbf{argument}. However, there
is a problem:

\begin{verbatim}
<SET ATM 0>$
0
<INC ATM>$

*ERROR*
ARG-WRONG-TYPE
+
LISTENING-AT-LEVEL 2 PROCESS 1
<ARGS <FRAME <FRAME>>>$
[ATM 1]
\end{verbatim}

The error occurred because \texttt{.ATM} was \texttt{ATM}, the argument to \texttt{INC}, and thus \texttt{..ATM} was
\texttt{ATM} also. We really want the outermost \texttt{.} in \texttt{..ATM} to be done in the ``world''
(\texttt{ENVIRONMENT}) which existed \textbf{just before} \texttt{INC} was entered -- and this definition of \texttt{INC}
does both applications of \texttt{LVAL} in its own ``world''. Techniques for doing \texttt{INC} ``correctly'' will be
covered below. Read on.

\section{Chapter 6. Data Types}\label{chapter-6.-data-types}

\subsection{6.1. General {[}1{]}}\label{general-1-3}

A MDL object consists of two parts: its \texttt{TYPE} and its ``data part'' (appendix 1). The interpretation of the ``data
part'' of an object depends of course on its \texttt{TYPE}. The structural organization of an object, that is, the way it
is organized in storage, is referred to as its ``primitive type''. While there are many different \texttt{TYPE}s of objects
in MDL, there are fewer primitive types.

All structured objects in MDL are ordered sequences of elements. As such, there are \texttt{SUBR}s which operate on all of
them uniformly, as ordered sequences. On the other hand, the reason for having different primitive types of structured
objects is that there are useful qualities of structured objects which are mutually incompatible. There are, therefore,
\texttt{SUBR}s which do not work on all structured objects: these \texttt{SUBR}s exist to take full advantage of those
mutually incompatible qualities. The most-commonly-used primitive types of structured objects are discussed in chapter 7,
along with those special \texttt{SUBR}s operating on them.

It is very easy to make a new MDL object that differs from an old one only in \texttt{TYPE}, as long as the primitive type
is unchanged. It is relatively difficult to make a new structured object that differs from an old one in primitive type,
even if it has the same elements.

Before talking any more about structured objects, some information needs to be given about \texttt{TYPE}s in general.

\subsection{6.2. Printed Representation {[}1{]}}\label{printed-representation-1}

There are many \texttt{TYPE}s for which MDL has no specific representation. There aren't enough different kinds of
brackets. The representation used for \texttt{TYPE}s without any special representation is

\begin{verbatim}
#type representation-as-if-it-were-its-primitive-type
\end{verbatim}

\index{\texttt{\#}|textbf} \texttt{READ} will understand that format for \textbf{any} \texttt{TYPE}, and \texttt{PRINT}
will use it by default. This representational format will be referred to below as ``\# notation''. It was used above to
represent \texttt{FUNCTION}s.

\subsection{6.3. SUBRs Related to TYPEs}\label{subrs-related-to-types}

\subsubsection{6.3.1. TYPE {[}1{]}}\label{type-1}

\begin{verbatim}
<TYPE any>
\end{verbatim}

\index{\texttt{TYPE}|textbf} returns an \textbf{\texttt{ATOM}} whose \texttt{PNAME} corresponds to the \texttt{TYPE} of
\emph{any}. There is no \texttt{TYPE} ``TYPE''. To type a \texttt{TYPE} (aren't homonyms wonderful?), just type the
appropriate \texttt{ATOM}, like \texttt{FIX} or \texttt{FLOAT} or \texttt{ATOM} etc. However, in this document we will use
the convention that a metasyntactic variable can have \emph{type} for a ``data type'': for example, \emph{foo:type} means
that the \texttt{TYPE} of \emph{foo} is \texttt{ATOM}, but the \texttt{ATOM} must be something that the \texttt{SUBR}
\texttt{TYPE} can return.

Examples:

\begin{verbatim}
<TYPE 1>$
FIX
<TYPE 1.0>$
FLOAT
<TYPE +>$
ATOM
<TYPE ,+>$
SUBR
<TYPE GEORGE>$
ATOM
\end{verbatim}

\subsubsection{6.3.2. PRIMTYPE {[}1{]}}\label{primtype-1}

\begin{verbatim}
<PRIMTYPE any>
\end{verbatim}

\index{\texttt{PRIMTYPE}|textbf} evaluates to the primitive type of \emph{any}. The \texttt{PRIMTYPE} of \emph{any} is an
\texttt{ATOM} which also represents a \texttt{TYPE}. The way an object can be \textbf{manipulated} depends solely upon its
\texttt{PRIMTYPE}; the way it is \textbf{evaluated} depends upon its \texttt{TYPE}.

Examples:

\begin{verbatim}
<PRIMTYPE 1>$
WORD
<PRIMTYPE 1.0>$
WORD
<PRIMTYPE ,+>$
WORD
<PRIMTYPE GEORGE>$
ATOM
\end{verbatim}

\subsubsection{6.3.3. TYPEPRIM {[}1{]}}\label{typeprim-1}

\begin{verbatim}
<TYPEPRIM type>
\end{verbatim}

\index{\texttt{TYPEPRIM}|textbf} returns the \texttt{PRIMTYPE} of an object whose \texttt{TYPE} is \emph{type}. \emph{type}
is, as usual, an \texttt{ATOM} used to designate a \texttt{TYPE}.

Examples:

\begin{verbatim}
<TYPEPRIM FIX>$
WORD
<TYPEPRIM FLOAT>$
WORD
<TYPEPRIM SUBR>$
WORD
<TYPEPRIM ATOM>$
ATOM
<TYPEPRIM FORM>$
LIST
\end{verbatim}

\subsubsection{6.3.4. CHTYPE {[}1{]}}\label{chtype-1}

\begin{verbatim}
<CHTYPE any type>
\end{verbatim}

\index{\texttt{CHTYPE}|textbf} (``change type'') returns a new object that has \texttt{TYPE} \emph{type} and the same
``data part'' as \emph{any} (appendix 1).

\begin{verbatim}
<CHTYPE (+ 2 2) FORM>$
<+ 2 2>
\end{verbatim}

An error is generated if the \texttt{PRIMTYPE} of \emph{any} is not the same as the \texttt{TYPEPRIM} of \emph{type}. An
error will also be generated if the attempted \texttt{CHTYPE} is dangerous and/or senseless, for example,
\texttt{CHTYPE}ing a \texttt{FIX} to a \texttt{SUBR}. Unfortunately, there are few useful examples we can do at this point.

{[}\texttt{CHTYPE}ing a \texttt{FIX} to a \texttt{FLOAT} or vice versa produces, in general, nonsense, since the bit
formats for \texttt{FIX}es and \texttt{FLOAT}s are different. The \texttt{SUBR}s \texttt{FIX} and \texttt{FLOAT} convert
between those formats. Useful obscurity: because of their internal representations on the PDP-10,
\texttt{\textless{}CHTYPE\ \textless{}MAX\textgreater{}\ FIX\textgreater{}} gives the least possible \texttt{FIX}, and
analogously for \texttt{MIN}.{]}

Passing note: ``\# notation'' \index{\texttt{\#}} is just an instruction to \texttt{READ} saying ``\texttt{READ} the
representation of the \texttt{PRIMTYPE} normally and (literally) \texttt{CHTYPE} it to the specified \texttt{TYPE}''.
{[}Or, if the \texttt{PRIMTYPE} is \texttt{TEMPLATE}, ``apply the \texttt{GVAL} of the \texttt{TYPE} name (which should be
a \texttt{TEMPLATE} constructor) to the given elements of the \texttt{PRIMTYPE} \texttt{TEMPLATE} as arguments.''{]}

\subsection{6.4. More SUBRs Related to TYPEs}\label{more-subrs-related-to-types}

\subsubsection{6.4.1. ALLTYPES}\label{alltypes}

\begin{verbatim}
<ALLTYPES>
\end{verbatim}

\index{\texttt{ALLTYPES}|textbf} returns a \texttt{VECTOR} (chapter 7) containing just those \texttt{ATOM}s which can
currently be returned by \texttt{TYPE} or \texttt{PRIMTYPE}. This is the very ``\texttt{TYPE} vector'' (section 22.1) that
the interpreter uses: look, but don't touch. No examples: try it, or see appendix 3.

\subsubsection{6.4.2. VALID-TYPE?}\label{valid-type}

\begin{verbatim}
<VALID-TYPE? atom>
\end{verbatim}

\index{\texttt{VALID-TYPE?}|textbf} returns \texttt{\#FALSE\ ()} if \emph{atom} is not the name of a \texttt{TYPE}, and the
same object that \texttt{\textless{}TYPE-C\ atom\textgreater{}} (section 19.5) returns if it is.

\subsubsection{6.4.3. NEWTYPE}\label{newtype}

MDL is a type-extensible language, in the sense that the programmer can invent new \texttt{TYPE}s and use them in every way
that the predefined \texttt{TYPE}s can be used. A program-defined \texttt{TYPE} is called a
\texttt{NEWTYPE}\index{\texttt{NEWTYPE}|textbf}. New \texttt{PRIMTYPE}s cannot be invented except by changing the
interpreter; thus the \texttt{TYPEPRIM} of a \texttt{NEWTYPE} must be chosen from those already available. But the name of
a \texttt{NEWTYPE} (an \texttt{ATOM} of course) can be chosen freely -- so long as it does not conflict with an existing
\texttt{TYPE} name. More importantly, the program that defines a \texttt{NEWTYPE} can be included in a set of programs for
manipulating objects of the \texttt{NEWTYPE} in ways that are more meaningful than the predefined \texttt{SUBR}s of MDL.

Typically an object of a \texttt{NEWTYPE} is a structure that is a model of some entity in the real world -- or whatever
world the program is concerned with -- and the elements of the structure are models of parts or aspects of the real-world
entity. A \texttt{NEWTYPE} definition is a convenient way of formalizing this correspondence, of writing it down for all to
see and use rather than keeping it in your head. If the defining set of programs provides functions for manipulating the
\texttt{NEWTYPE} objects in all ways that are meaningful for the intended uses of the \texttt{NEWTYPE}, then any other
program that wants to use the \texttt{NEWTYPE} can call the manipulation functions for all its needs, and it need never
know or care about the internal details of the \texttt{NEWTYPE} objects. This technique is a standard way of providing
modularity and abstraction.

For example, suppose you wanted to deal with airline schedules. If you were to construct a set of programs that define and
manipulate a \texttt{NEWTYPE} called \texttt{FLIGHT}, then you could make that set into a standard package of programs and
call on it to handle all information pertaining to scheduled airline flights. Since all \texttt{FLIGHT}s would have the
same quantity of information (more or less) and you would want quick access to individual elements, you would not want the
\texttt{TYPEPRIM} to be \texttt{LIST}. Since the elements would be of various \texttt{TYPE}s, you would not want the
\texttt{TYPEPRIM} to be \texttt{UVECTOR} -- nor its variations \texttt{STRING} or \texttt{BYTES}. The natural choice would
be a \texttt{TYPEPRIM} of \texttt{VECTOR} (although you could gain space and lose time with \texttt{TEMPLATE} instead).

Now, the individual elements of a \texttt{FLIGHT} would, no doubt, have \texttt{TYPE}s and meanings that don't change. The
elements of a \texttt{FLIGHT} might be airline code, flight number, originating-airport code, list of intermediate stops,
destination-airport code, type of aircraft, days of operation, etc. Each and every \texttt{FLIGHT} would have the airline
code for its first element (say), the flight number for its second, and so on. It is natural to invent names
(\texttt{ATOM}s) for these elements and always refer to the elements by name. For example, you could
\texttt{\textless{}SETG\ AIRLINE\ 1\textgreater{}} or
\texttt{\textless{}SETG\ AIRLINE\ \textless{}OFFSET\ 1\ FLIGHT\textgreater{}\textgreater{}} -- and in either case
\texttt{\textless{}MANIFEST\ AIRLINE\textgreater{}} so the compiler can generate more efficient code. Then, if the local
value of \texttt{F} were a \texttt{FLIGHT}, \texttt{\textless{}AIRLINE\ .F\textgreater{}} would return the airline code,
and \texttt{\textless{}AIRLINE\ .F\ AA\textgreater{}} would set the airline code to \texttt{AA}. Once that is done, you can
forget about which element comes first: all you need to know are the names of the offsets.

The next step is to notice that, outside the package of \texttt{FLIGHT} functions, no one needs to know whether
\texttt{AIRLINE} is just an offset or in fact a function of some kind. For example, the scheduled duration of a flight
might not be explicitly stored in a \texttt{FLIGHT}, just the scheduled times of departure and arrival. But, if the package
had the proper \texttt{DURATION} function for calculating the duration, then the call
\texttt{\textless{}DURATION\ .F\textgreater{}} could return the duration, no matter how it is found. In this way the
internal details of the package are conveniently hidden from view and abstracted away.

The form of \texttt{NEWTYPE} definition allows for the \texttt{TYPE}s of all components of a \texttt{NEWTYPE} to be
declared (chapter 14), for use both by a programmer while debugging programs that use the \texttt{NEWTYPE} and by the
compiler for generating faster code. It is very convenient to have the type declaration in the \texttt{NEWTYPE} definition
itself, rather than replicating it everywhere the \texttt{NEWTYPE} is used. (If you think this declaration might be
obtrusive while debugging the programs in the \texttt{NEWTYPE} package, when inconsistent improvements are being made to
various programs, you can either dissociate any declaration from the \texttt{NEWTYPE} or turn off MDL type-checking
completely. Actually this declaration is typically more useful to a programmer during development than it is to the
compiler.)

\begin{verbatim}
<NEWTYPE atom type>
\end{verbatim}

returns \emph{atom}, after causing it to become the representation of a brand-new \texttt{TYPE} whose \texttt{PRIMTYPE} is
\texttt{\textless{}TYPEPRIM\ type\textgreater{}}. What \texttt{NEWTYPE} actually does is make \emph{atom} a legal argument
to \texttt{CHTYPE} and \texttt{TYPEPRIM}. (Note that names of new \texttt{TYPE}s can be blocked lexically to prevent
collision with other names, just like any other \texttt{ATOM}s -- chapter 15.) Objects of a \texttt{NEWTYPE}-created
\texttt{TYPE} can be generated by creating an object of the appropriate \texttt{PRIMTYPE} and using \texttt{CHTYPE}. They
will be \texttt{PRINT}ed (initially), and can be directly typed in, by the use of ``\# notation'' as described above.
\texttt{EVAL} of any object whose \texttt{TYPE} was created by \texttt{NEWTYPE} is initially the object itself, and,
initially, you cannot \texttt{APPLY} something of a generated \texttt{TYPE} to arguments. But see below.

Examples:

\begin{verbatim}
<NEWTYPE GARGLE FIX>$
GARGLE
<TYPEPRIM GARGLE>$
WORD
<SET A <CHTYPE 1 GARGLE>>$
#GARGLE *000000000001*
<SET B #GARGLE 100>$
#GARGLE *000000000144*
<TYPE .B>$
GARGLE
<PRIMTYPE .B>$
WORD
\end{verbatim}

\subsubsection{6.4.4. PRINTTYPE, EVALTYPE and APPLYTYPE}\label{printtype-evaltype-and-applytype}

\begin{verbatim}
<PRINTTYPE type how>

<EVALTYPE type how>

<APPLYTYPE type how>
\end{verbatim}

all return \emph{type}, after specifying \emph{how} MDL is to deal with it.

These three \texttt{SUBR}s can be used to make newly-generated \texttt{TYPE}s behave in arbitrary ways, or to change the
characteristics of standard MDL \texttt{TYPE}s. \texttt{PRINTTYPE}\index{\texttt{PRINTTYPE}|textbf} tells MDL how to print
\emph{type}, \texttt{EVALTYPE}\index{\texttt{EVALTYPE}|textbf} how to evaluate it, and
\texttt{APPLYTYPE}\index{\texttt{APPLYTYPE}|textbf} how to apply it in a \texttt{FORM}.

\emph{how} can be either a \texttt{TYPE} or something that can be applied to arguments.

If \emph{how} is a \texttt{TYPE}, MDL will treat \emph{type} just like the \texttt{TYPE} given as \emph{how}. \emph{how}
must have the same \texttt{TYPEPRIM} as \emph{type}.

If \emph{how} is applicable, it will be used in the following way:

For \texttt{PRINTTYPE}, \emph{how} should take one argument: the object being output. \emph{how} should output something
without formatting (\texttt{PRIN1}-style); its result is ignored. (Note: \emph{how} cannot use an output \texttt{SUBR} on
\emph{how}'s own \emph{type}: endless recursion will result. \texttt{OUTCHAN}\index{\texttt{OUTCHAN}} is bound during the
application to the \texttt{CHANNEL} in use, or to a pseudo-internal channel for \texttt{FLATSIZE} -- chapter 11.) If
\emph{how} is the \texttt{SUBR} \texttt{PRINT}\index{\texttt{PRINT}}, \emph{type} will receive no special treatment in
printing, that is, it will be printed as it was in an initial MDL or immediately after its defining \texttt{NEWTYPE}.

For \texttt{EVALTYPE}, \emph{how} should take one argument: the object being evaluated. The value returned by \emph{how}
will be used as \texttt{EVAL}\index{\texttt{EVAL}} of the object. If \emph{how} is the \texttt{SUBR} \texttt{EVAL},
\emph{type} will receive no special treatment in its evaluation.

For \texttt{APPLYTYPE}, \emph{how} should take at least one argument. The first argument will be the object being applied:
the rest will be the objects it was given as arguments. The result returned by \emph{how} will be used as the result of the
application. If \emph{how} is the \texttt{SUBR} \texttt{APPLY}\index{\texttt{APPLY}}, \emph{type} will receive no special
treatment in application to arguments.

If any of these \texttt{SUBR}s is given only one argument, that is if \emph{how} is omitted, it returns the currently
active \emph{how} (a \texttt{TYPE} or an applicable object), or else \texttt{\#FALSE\ ()} if \emph{type} is receiving no
special treatment in that operation.

Unfortunately, these examples are fully understandable only after you have read through chapter 11.

\begin{verbatim}
<DEFINE ROMAN-PRINT (NUMB)
<COND (<OR <L=? .NUMB 0> <G? .NUMB 3999>>
       <PRINC <CHTYPE .NUMB TIME>>)
      (T
       <RCPRINT </ .NUMB 1000> '![!\M]>
       <RCPRINT </ .NUMB  100> '![!\C !\D !\M]>
       <RCPRINT </ .NUMB   10> '![!\X !\L !\C]>
       <RCPRINT    .NUMB       '![!\I !\V !\X]>)>>$
ROMAN-PRINT

<DEFINE RCPRINT (MODN V)
<SET MODN <MOD .MODN 10>>
<COND (<==? 0 .MODN>)
      (<==? 1 .MODN> <PRINC <1 .V>>)
      (<==? 2 .MODN> <PRINC <1 .V>> <PRINC <1 .V>>)
      (<==? 3 .MODN> <PRINC <1 .V>> <PRINC <1 .V>> <PRINC <1 .V>>)
      (<==? 4 .MODN> <PRINC <1 .V>> <PRINC <2 .V>>)
      (<==? 5 .MODN> <PRINC <2 .V>>)
      (<==? 6 .MODN> <PRINC <2 .V>> <PRINC <1 .V>>)
      (<==? 7 .MODN> <PRINC <2 .V>> <PRINC <1 .V>> <PRINC <1 .V>>)
      (<==? 8 .MODN>
       <PRINC <2 .V>>
       <PRINC <1 .V>>
       <PRINC <1 .V>>
       <PRINC <1 .V>>)
      (<==? 9 .MODN> <PRINC <1 .V>> <PRINC <3 .V>>)>>$
RCPRINT

<PRINTTYPE TIME FIX> ;"fairly harmless but necessary here"$
TIME
<PRINTTYPE FIX ,ROMAN-PRINT>    ;"hee hee!"$
FIX
<+ 2 2>$
IV
1984$
MCMLXXXIV
<PRINTTYPE FIX ,PRINT>$
FIX

<NEWTYPE GRITCH LIST>   ;"a new TYPE of PRIMTYPE LIST"$
GRITCH
<EVALTYPE GRITCH>$
#FALSE ()
<EVALTYPE GRITCH LIST>  ;"evaluated like a LIST"$
GRITCH
<EVALTYPE GRITCH>$
LIST
#GRITCH (A <+ 1 2 3> !<SET A "ABC">)    ;"Type in one."$
#GRTICH (A 6 !\A !\B !\C)

<NEWTYPE HARRY VECTOR>  ;"a new TYPE of PRIMTYPE VECTOR"$
HARRY
<EVALTYPE HARRY #FUNCTION ((X) <1 .X>)>
    ;"When a HARRY is EVALed, return its first element."$
HARRY
#HARRY [1 2 3 4]$
1

<NEWTYPE WINNER LIST>   ;"a TYPE with funny application"$
WINNER
<APPLYTYPE WINNER>$
#FALSE ()
<APPLYTYPE WINNER <FUNCTION (W "TUPLE" T) (!.W !.T)>>$
WINNER
<APPLYTYPE WINNER>$
#FUNCTION ((W "TUPLE" T (!.W !.T))
<#WINNER (A B C) <+ 1 2> q>$
(A B C 3 q)
\end{verbatim}

The following sequence makes MDL look just like Lisp. (This example is understandable only if you know Lisp (Moon, 1974);
it is included only because it is so beautiful.)

\begin{verbatim}
<EVALTYPE LIST FORM>$
LIST
<EVALTYPE ATOM ,LVAL>$
ATOM
\end{verbatim}

So now:

\begin{verbatim}
(+ 1 2)$
3
(SET 'A 5)$
5
A$
5
\end{verbatim}

To complete the job, of course, we would have to do some \texttt{SETG}'s: \texttt{car} is \texttt{1}, \texttt{cdr} is
\texttt{,REST}, and \texttt{lambda} is \texttt{,FUNCTION}. If you really do this example, you should ``undo'' it before
continuing:

\begin{verbatim}
<EVALTYPE 'ATOM ,EVAL>$
ATOM
<EVALTYPE LIST ,EVAL>$
LIST
\end{verbatim}

\section{Chapter 7. Structured Objects}\label{chapter-7.-structured-objects}

This chapter discusses structured objects in general and the five basic structured \texttt{PRIMTYPE}s. {[}We defer detailed
discussion of the structured \texttt{PRIMTYPE}s \texttt{TUPLE} (section 9.2) and \texttt{STORAGE} (section 22.2.2).{]}

\subsection{7.1. Manipulation}\label{manipulation}

The following \texttt{SUBR}s operate uniformly on all structured objects and generate an error if not applied to a
structured object. Hereafter, \emph{structured} represents a structured object.

\subsubsection{7.1.1. LENGTH {[}1{]}}\label{length-1}

\begin{verbatim}
<LENGTH structured>
\end{verbatim}

\index{\texttt{LENGTH}|textbf} evaluates to the number of elements in \emph{structured}.

\subsubsection{7.1.2. NTH {[}1{]}}\label{nth-1}

\begin{verbatim}
<NTH structured fix>
\end{verbatim}

\index{\texttt{NTH}|textbf} evaluates to the \emph{fix}'th element of \emph{structured}. An error occurs if \emph{fix} is
less than 1 or greater than \texttt{\textless{}LENGTH\ structured\textgreater{}}. \emph{fix} is optional, 1 by default.

\subsubsection{7.1.3. REST {[}1{]}}\label{rest-1}

\begin{verbatim}
<REST structured fix>
\end{verbatim}

\index{\texttt{REST}|textbf} evaluates to \emph{structured} without its first \emph{fix} elements. \emph{fix} is optional,
1 by default.

Obscure but important side effect: \texttt{REST} actually returns \emph{structured} ``\texttt{CHTYPE}d'' (but not through
application of \texttt{CHTYPE}) to its \texttt{PRIMTYPE}. For example, \texttt{REST} of a \texttt{FORM} is a \texttt{LIST}.
\texttt{REST} with an explicit second argument of \texttt{0} has no effect except for this \texttt{TYPE} change.

\subsubsection{7.1.4. PUT {[}1{]}}\label{put-1}

\begin{verbatim}
<PUT structured fix anything-legal>
\end{verbatim}

\index{\texttt{PUT}|textbf} first makes \emph{anything-legal} the \emph{fix}'th element of \emph{structured}, then
evaluates to \emph{structured}. \emph{anything-legal} is anything which can legally be an element of \emph{structured};
often, this is synonymous with ``any MDL object'', but see below. An error occurs if \emph{fix} is less than 1 or greater
than \texttt{\textless{}LENGTH\ structured\textgreater{}}. (\texttt{PUT} is actually more general than this -- chapter 13.)

\subsubsection{7.1.5. GET}\label{get}

\begin{verbatim}
<GET structured fix>
\end{verbatim}

\index{\texttt{GET}|textbf} evaluates the same as \texttt{\textless{}NTH\ structured\ fix\textgreater{}}. It is more
general than \texttt{NTH}, however (chapter 13), and is included here only for symmetry with \texttt{PUT}.

\subsubsection{7.1.6. APPLYing a FIX {[}1{]}}\label{applying-a-fix-1}

\texttt{EVAL} understands the application of an object of \texttt{TYPE} \texttt{FIX}\index{\texttt{FIX}} as a ``shorthand''
call to \texttt{NTH} or \texttt{PUT}, depending on whether it is given one or two arguments, respectively {[}unless the
\texttt{APPLYTYPE} of \texttt{FIX} is changed{]}. That is, \texttt{EVAL} considers the following two to be identical:

\begin{verbatim}
<fix structured>
<NTH structured fix>
\end{verbatim}

and these:

\begin{verbatim}
<fix structured object>
<PUT structured fix object>
\end{verbatim}

{[}However, the compiler (Lebling, 1979) cannot generate efficient code from the longer forms unless it is sure that
\emph{fix} is a \texttt{FIX} (section 9.10). The two constructs are not identical even to \texttt{EVAL}, if the order of
evaluation is significant: for example, these two:

\begin{verbatim}
<NTH .X <LENGTH <SET X .Y>>>        <<LENGTH <SET X .Y>> .X>
\end{verbatim}

are \textbf{not} identical.{]}

\subsubsection{7.1.7. SUBSTRUC}\label{substruc}

\index{\texttt{SUBSTRUC}|textbf} \texttt{SUBSTRUC} (``substructure'') facilitates the construction of structures that are
composed of sub-parts of existing structures. A special case of this would be a ``substring'' function.

\begin{verbatim}
<SUBSTRUC from:structured rest:fix amount:fix to:structured>
\end{verbatim}

copies the first \emph{amount} elements of \texttt{\textless{}REST\ from\ rest\textgreater{}} into another object and
returns the latter. All arguments are optional except \emph{from}, which must be of \texttt{PRIMTYPE} \texttt{LIST},
\texttt{VECTOR}, \texttt{TUPLE} (treated like a \texttt{VECTOR}), \texttt{STRING}, \texttt{BYTES}, or \texttt{UVECTOR}.
\emph{rest} is \texttt{0} by default, and \emph{amount} is all the elements by default. \emph{to}, if given, receives the
copied elements, starting at its beginning; it must be an object whose \texttt{TYPE} is the \texttt{PRIMTYPE} of
\emph{from} (a \texttt{VECTOR} if \emph{from} is a \texttt{TUPLE}). If \emph{to} is not given, a new object is returned, of
\texttt{TYPE} \texttt{\textless{}PRIMTYPE\ from\textgreater{}} (a \texttt{VECTOR} if \emph{from} is a \texttt{TUPLE}),
which \textbf{never} shares with \emph{from}. The copying is done in one fell swoop, not an element at a time. Note: due to
an implementation restriction, if \emph{from} is of \texttt{PRIMTYPE} \texttt{LIST}, it must not share any elements with
\emph{to}.

\subsection{7.2. Representation of Basic Structures}\label{representation-of-basic-structures}

\subsubsection{7.2.1. LIST {[}1{]}}\label{list-1}

\begin{verbatim}
( element-1 element-2 ... element-N )
\end{verbatim}

\index{\texttt{(}|textbf} \index{\texttt{)}|textbf} represents a \texttt{LIST}\index{\texttt{LIST}|textbf} of \emph{N}
elements.

\subsubsection{7.2.2. VECTOR {[}1{]}}\label{vector-1}

\begin{verbatim}
[ element-1 element-2 ... element-N ]
\end{verbatim}

\index{\texttt{[}|textbf} \index{\texttt{]}|textbf} represents a \texttt{VECTOR}\index{\texttt{VECTOR}|textbf} of \emph{N}
elements. {[}A \texttt{TUPLE} is just like a \texttt{VECTOR}, but it lives on the control stack.{]}

\subsubsection{7.2.3. UVECTOR {[}1{]}}\label{uvector-1}

\begin{verbatim}
![ element-1 element-2 ... element-N !]
\end{verbatim}

\index{\texttt{"![}|textbf}\index{\texttt{"!]}|textbf} represents a \texttt{UVECTOR}\index{\texttt{UVECTOR}|textbf}
(uniform vector) of \emph{N} elements. The second \texttt{!} (exclamation-point) is optional for input. {[}A
\texttt{STORAGE} is an archaic kind of \texttt{UVECTOR} that is not garbage-collected.{]}

\subsubsection{7.2.4. STRING {[}1{]}}\label{string-1}

\begin{verbatim}
"characters"
\end{verbatim}

represents a \texttt{STRING}\index{\texttt{STRING}|textbf} of ASCII text. A \texttt{STRING} containing the character
\texttt{"} \index{\texttt{""}|textbf} (double-quote) is represented by placing a
\texttt{\textbackslash{}}\index{\texttt{"\textbackslash{}}|textbf} (backslash) before the double-quote inside the
\texttt{STRING}. A \texttt{\textbackslash{}} in a \texttt{STRING} is represented by two consecutive backslashes.

\subsubsection{7.2.5. BYTES}\label{bytes}

\begin{verbatim}
#n {element-1 element-2 ... element-N}
\end{verbatim}

represents a string of \emph{N} uniformly-sized bytes\index{\texttt{BYTES}|textbf} of size \emph{n} bits.

\subsubsection{7.2.6. TEMPLATE}\label{template}

\begin{verbatim}
{ element-1 element-2 ... element-N }
\end{verbatim}

\index{\texttt{\char123}|textbf} \index{\texttt{\char125}|textbf} represents a
\texttt{TEMPLATE}\index{\texttt{TEMPLATE}|textbf} of \emph{N} elements when output, not input -- when input, a \texttt{\#}
and a \texttt{TYPE} must precede it.

\subsection{7.3. Evaluation of Basic Structures}\label{evaluation-of-basic-structures}

This section and the next two describe how \texttt{EVAL} treats the basic structured \texttt{TYPE}s {[}in the absence of
any modifying \texttt{EVALTYPE} calls (section 6.4.4){]}.

\texttt{EVAL} of a \texttt{STRING} {[}or \texttt{BYTES} or \texttt{TEMPLATE}{]} is just the original object.

\texttt{EVAL} acts exactly the same with \texttt{LIST}s, \texttt{VECTOR}s, and \texttt{UVECTOR}s: it generates a
\textbf{new} object with elements equal to \texttt{EVAL} of the elements it is given. This is one of the simplest means of
constructing a structure. However, see section 7.7.

\subsection{7.4. Examples {[}1{]}}\label{examples-1}

\begin{verbatim}
(1 2 <+ 3 4>)$
(1 2 7)
<SET FOO [5 <- 3> <TYPE "ABC">]>$
[5 -3 STRING]
<2 .FOO>$
-3
<TYPE <3 .FOO>>$
ATOM
<SET BAR ![("meow") (.FOO)]>$
![("meow") ([5 -3 STRING])!]
<LENGTH .BAR>$
2
<REST <1 <2 .BAR>>>$
[-3 STRING]
[<SUBSTRUC <1 <2 .BAR>> 0 2>]$
[[5 -3]]
<PUT .FOO 1 SNEAKY>          ;"Watch out for .BAR !"$
[SNEAKY -3 STRING]
.BAR$
![("meow") ([SNEAKY -3 STRING])!]
<SET FOO <REST <1 <1 .BAR>> 2>>$
"ow"
.BAR$
![("meow") ([SNEAKY -3 STRING])!]
\end{verbatim}

\index{\texttt{PUT}}\index{\texttt{REST}}\index{\texttt{SUBSTRUC}}

\subsection{7.5. Generation of Basic Structures}\label{generation-of-basic-structures}

Since \texttt{LIST}s, \texttt{VECTOR}s, \texttt{UVECTOR}s, and \texttt{STRING}s {[}and \texttt{BYTES}es{]} are all
generated in a fairly uniform manner, methods of generating them will be covered together here. {[}\texttt{TEMPLATE}s
cannot be generated by the interpreter itself: see Lebling (1979).{]}

\subsubsection{7.5.1. Direct Representation {[}1{]}}\label{direct-representation-1}

Since \texttt{EVAL} of a \texttt{LIST}, \texttt{VECTOR}, or \texttt{UVECTOR} is a new \texttt{LIST}, \texttt{VECTOR}, or
\texttt{UVECTOR} with elements which are \texttt{EVAL} of the original elements, simply evaluating a representation of the
object you want will generate it. (Care must be taken when representing a \texttt{UVECTOR} that all elements have the same
\texttt{TYPE}.) This method of generation was exclusively used in the examples of section 7.4. Note that new
\texttt{STRING}s {[}and \texttt{BYTES}es{]} will not be generated in this manner, since the contents of a \texttt{STRING}
are not interpreted or copied by \texttt{EVAL}. The same is true of any other \texttt{TYPE} whose \texttt{TYPEPRIM} happens
to be \texttt{LIST}, \texttt{VECTOR}, or \texttt{UVECTOR} {[}again, assuming it neither has been \texttt{EVALTYPE}d nor has
a built-in \texttt{EVALTYPE}, as do \texttt{FORM} and \texttt{SEGMENT}{]}.

\subsubsection{7.5.2. QUOTE {[}1{]}}\label{quote-1}

\texttt{QUOTE}\index{\texttt{QUOTE}|textbf} is an \texttt{FSUBR}\index{\texttt{FSUBR}} of one argument which returns its
argument unevaluated. \texttt{READ} and \texttt{PRINT} understand the character \texttt{\textquotesingle{}}
\index{\texttt{'}|textbf} (single-quote) as an abbreviation for a call to \texttt{QUOTE}, the way period and comma work for
\texttt{LVAL} and \texttt{GVAL}. Examples:

\begin{verbatim}
<+ 1 2>$
3
'<+ 1 2>$
<+ 1 2>
\end{verbatim}

Any \texttt{LIST}\index{\texttt{LIST}}, \texttt{VECTOR}\index{\texttt{VECTOR}}, or \texttt{UVECTOR}\index{\texttt{UVECTOR}}
in a program that is constant and need not have its elements evaluated should be represented directly and \textbf{inside a
call to \texttt{QUOTE}.} This technique prevents the structure from being copied each time that portion of the program is
executed. Examples hereafter will adhere to this dictum. (Note: one should \textbf{never} modify a \texttt{QUOTE}d object.
The compiler will one day put it in read-only (pure) storage.)

\subsubsection{7.5.3. LIST, VECTOR, UVECTOR, and STRING (the SUBRs)
{[}1{]}}\label{list-vector-uvector-and-string-the-subrs-1}

Each of the \texttt{SUBR}s \texttt{LIST}\index{\texttt{LIST}|textbf}, \texttt{VECTOR}\index{\texttt{VECTOR}|textbf},
\texttt{UVECTOR}\index{\texttt{UVECTOR}|textbf}, and \texttt{STRING}\index{\texttt{STRING}|textbf} takes any number of
arguments and returns an object of the appropriate \texttt{TYPE} whose elements are \texttt{EVAL} of its arguments. There
are limitations on what the arguments to \texttt{UVECTOR} and \texttt{STRING} may \texttt{EVAL} to, due to the nature of
the objects generated. See sections 7.6.5 and 7.6.6.

\texttt{LIST}, \texttt{VECTOR}, and \texttt{UVECTOR} are generally used only in special cases, since Direct Representation
usually produces exactly the same effect (in the absence of errors), and the intention is more apparent. {[}Note: if
\texttt{.L} is a \texttt{LIST}, \texttt{\textless{}LIST\ !.L\textgreater{}} makes a copy of \texttt{.L} whereas
\texttt{(!.L)} doesn't; see section 7.7.{]} \texttt{STRING}, on the other hand, produces effect very different from literal
\texttt{STRING}s.

Examples:

\begin{verbatim}
<LIST 1 <+ 2 3> ABC>$
(1 5 ABC)
(1 <+ 2 3> ABC)$
(1 5 ABC)
<STRING "A" <2 "QWERT"> <REST "ABC"> "hello">$
"AWBChello"
"A <+ 2 3> (5)"$
"A <+ 2 3> (5)"
\end{verbatim}

\subsubsection{7.5.4. ILIST, IVECTOR, IUVECTOR, and ISTRING {[}1{]}}\label{ilist-ivector-iuvector-and-istring-1}

Each of the \texttt{SUBR}s \texttt{ILIST}\index{\texttt{ILIST}|textbf}, \texttt{IVECTOR}\index{\texttt{IVECTOR}|textbf},
\texttt{IUVECTOR}\index{\texttt{IUVECTOR}|textbf}, and \texttt{ISTRING}\index{\texttt{ISTRING}|textbf} (``implicit'' or
``iterated'' whatever) creates and returns an object of the obvious \texttt{TYPE}. The format of an application of any of
them is

\begin{verbatim}
< Ithing number-of-elements:fix expression:any >
\end{verbatim}

where \emph{Ithing} is one of \texttt{ILIST}, \texttt{IVECTOR}, \texttt{IUVECTOR}, or \texttt{ISTRING}. An object of
\texttt{LENGTH} \emph{number-of-elements} is generated, whose elements are \texttt{EVAL} of \emph{expression}.

\emph{expression} is optional. When it is not specified, \texttt{ILIST}, \texttt{IVECTOR}, and \texttt{IUVECTOR} return
objects filled with objects of \texttt{TYPE} \texttt{LOSE}\index{\texttt{LOSE}} (\texttt{PRIMTYPE} \texttt{WORD}) as place
holders, a \texttt{TYPE} which can be passed around and have its \texttt{TYPE} checked, but otherwise is an illegal
argument. If \emph{expression} is not specified in \texttt{ISTRING}, you get a \texttt{STRING} made up of
\texttt{\^{}@}\index{\texttt{"\^{}"@}} characters.

When \emph{expression} is supplied as an argument, it is re-\texttt{EVAL}uated each time a new element is generated.
(Actually, \texttt{EVAL} of \emph{expression} is re-\texttt{EVAL}uated, since all of these are \texttt{SUBR}s.) See the
last example for how this argument may be used.

{[}By the way, in a construct like \texttt{\textless{}IUVECTOR\ 9\ \textquotesingle{}.X\textgreater{}}, even if the
\texttt{LVAL} of \texttt{X} evaluates to itself, so that the \texttt{\textquotesingle{}} could be omitted without changing
the result, the compiler is much happier with the \texttt{\textquotesingle{}} in place.{]}

\texttt{IUVECTOR} and \texttt{ISTRING} again have limitations on what \emph{expression} may \texttt{EVAL} to; again, see
sections 7.6.5 and 7.6.6.

Examples:

\begin{verbatim}
<ILIST 5 6>$
(6 6 6 6 6)
<IVECTOR 2>$
[#LOSE *000000000000* #LOSE *000000000000*]

<SET A 0>$
0
<IUVECTOR 9 '<SET A <+ .A 1>>>$
![1 2 3 4 5 6 7 8 9!]
\end{verbatim}

\subsubsection{7.5.5. FORM and IFORM}\label{form-and-iform}

Sometimes the need arises to create a \texttt{FORM}\index{\texttt{FORM}|textbf} without \texttt{EVAL}ing it or making it
the body of a \texttt{FUNCTION}. In such cases the \texttt{SUBR}s \texttt{FORM} and
\texttt{IFORM}\index{\texttt{IFORM}|textbf} (``implicit form'') can be used (or \texttt{QUOTE} can be used). They are
entirely analogous to \texttt{LIST} and \texttt{ILIST}. Example:

\begin{verbatim}
<DEFINE INC-FORM (A)
        <FORM SET .A <FORM + 1 <FORM LVAL .A>>>>$
INC-FORM
<INC-FORM FOO>$
<SET FOO <+ 1 .FOO>>
\end{verbatim}

\subsection{7.6. Unique Properties of Primitive TYPEs}\label{unique-properties-of-primitive-types}

\subsubsection{7.6.1. LIST (the PRIMTYPE) {[}1{]}}\label{list-the-primtype-1}

An object of \texttt{PRIMTYPE} \texttt{LIST}\index{\texttt{LIST}|textbf} may be considered as a ``pointer chain'' (appendix
1). Any MDL object may be an element of a \texttt{PRIMTYPE} \texttt{LIST}. It is easy to add and remove elements of a
\texttt{PRIMTYPE} \texttt{LIST}, but the higher N is, the longer it takes to refer to the Nth element. The \texttt{SUBR}s
which work only on objects of \texttt{PRIMTYPE} \texttt{LIST} are these:

\paragraph{7.6.1.1. PUTREST {[}1{]}}\label{putrest-1}

\begin{verbatim}
<PUTREST head:primtype-list tail:primtype-list>
\end{verbatim}

\index{\texttt{PUTREST}|textbf} changes \emph{head} so that \texttt{\textless{}REST\ head\textgreater{}} is \emph{tail}
(actually \texttt{\textless{}CHTYPE\ tail\ LIST\textgreater{}}), then evaluates to \emph{head}. Note that this actually
changes \emph{head}; it also changes anything having \emph{head} as an element or a value. For example:

\begin{verbatim}
<SET BOW [<SET ARF (B W)>]>$
[(B W)]
<PUTREST .ARF '(3 4)>$
(B 3 4)
.BOW$
[(B 3 4)]
\end{verbatim}

\texttt{PUTREST} is probably most often used to splice lists together. For example, given that \texttt{.L} is of
\texttt{PRIMTYPE} \texttt{LIST}, to leave the first \emph{m} elements of it intact and take out the next \emph{n} elements
of it,
\texttt{\textless{}PUTREST\ \textless{}REST\ .L\ \textless{}-\ m\ 1\textgreater{}\textgreater{}\ \textless{}REST\ .L\ \textless{}+\ m\ n\textgreater{}\textgreater{}\textgreater{}}.
Specifically,

\begin{verbatim}
<SET NUMS (1 2 3 4 5 6 7 8 9)>$
(1 2 3 4 5 6 7 8 9)
<PUTREST <REST .NUMS 3> <REST .NUMS 7>>$
(4 8 9)
.NUMS$
(1 2 3 4 8 9)
\end{verbatim}

\paragraph{7.6.1.2. CONS}\label{cons}

\begin{verbatim}
<CONS new list>
\end{verbatim}

\index{\texttt{CONS}|textbf} (``construct'') adds \emph{new} to the front of \emph{list}, without copying \emph{list}, and
returns the resulting \texttt{LIST}. References to \emph{list} are not affected.

{[}Evaluating \texttt{\textless{}CONS\ .E\ .LIST\textgreater{}} is equivalent to evaluating \texttt{(.E\ !.LIST)} (section
7.7) but is less preferable to the compiler (Lebling, 1979).{]}

\subsubsection{\texorpdfstring{7.6.2. ``Array'' PRIMTYPEs
{[}1{]}}{7.6.2. Array PRIMTYPEs {[}1{]}}}\label{array-primtypes-1}

\texttt{VECTORS}, \texttt{UVECTOR}s, and \texttt{STRING}s {[}and \texttt{BYTES}es and \texttt{TEMPLATE}s{]} may be
considered as ``arrays'' (appendix 1). It is easy to refer to the Nth element irrespective of how large N is, and it is
relatively difficult to add and delete elements. The following \texttt{SUBR}s can be used only with an object of
\texttt{PRIMTYPE} \texttt{VECTOR}, \texttt{UVECTOR}, or \texttt{STRING} {[}or \texttt{BYTES} or \texttt{TEMPLATE}{]}. (In
this section \emph{array} represents an object of such a \texttt{PRIMTYPE}.)

\paragraph{7.6.2.1. BACK {[}1{]}}\label{back-1}

\begin{verbatim}
<BACK array fix>
\end{verbatim}

\index{\texttt{BACK}|textbf} This is the opposite of \texttt{REST}. It evaluates to \emph{array}, with \emph{fix} elements
put back onto its front end, and changed to its \texttt{PRIMTYPE}. \emph{fix} is optional, 1 by default. If \emph{fix} is
greater than the number of elements which have been \texttt{REST}ed off, an error occurs. Example:

\begin{verbatim}
<SET ZOP <REST '![1 2 3 4] 3>>$
![4!]
<BACK .ZOP 2>$
![2 3 4!]
<SET S <REST "Right is might." 15>>$
""
<BACK .S 6>$
"might."
\end{verbatim}

\paragraph{7.6.2.2. TOP {[}1{]}}\label{top-1}

\begin{verbatim}
<TOP array>
\end{verbatim}

\index{\texttt{TOP}|textbf} ``\texttt{BACK}s up all the way'' -- that is, evaluates to \emph{array}, with all the elements
which have been \texttt{REST}ed off put back onto it, and changed to its \texttt{PRIMTYPE}. Example:

\begin{verbatim}
<TOP .ZOP>$
![1 2 3 4!]
\end{verbatim}

\subsubsection{\texorpdfstring{7.6.3. ``Vector'' PRIMTYPEs}{7.6.3. Vector PRIMTYPEs}}\label{vector-primtypes}

\paragraph{7.6.3.1. GROW}\label{grow}

\begin{verbatim}
<GROW vu end:fix beg:fix>
\end{verbatim}

\index{\texttt{GROW}|textbf} adds/removes elements to/from either or both ends of \emph{vu}, and returns the entire
(\texttt{TOP}ped) resultant object. \emph{vu} can be of \texttt{PRIMTYPE} \texttt{VECTOR} or \texttt{UVECTOR}. \emph{end}
specifies a lower bound for the number of elements to be added to the \textbf{end} of \emph{vu}; \emph{beg} specifies the
same for the \textbf{beginning}. A negative \emph{fix} specifies removal of elements.

The number of elements added to each respective end is \emph{end} or \emph{beg} \textbf{increased} to an integral multiple
of \emph{X}, where \emph{X} is 32 for \texttt{PRIMTYPE} \texttt{VECTOR} and 64 for \texttt{PRIMTYPE} \texttt{UVECTOR}
(\texttt{1} produces 32 or 64; \texttt{-1} produces 0). The elements added will be \texttt{LOSE}s\index{\texttt{LOSE}} if
\emph{vu} is of \texttt{PRIMTYPE} \texttt{VECTOR}, and ``empty'' whatever-they-are's if \emph{vu} is of \texttt{PRIMTYPE}
\texttt{UVECTOR}. An ``empty'' object of \texttt{PRIMTYPE} \texttt{WORD} contains zero. An ``empty'' object of any other
\texttt{PRIMTYPE} has zero in its ``value word'' (appendix 1) and is not safe to play with: it should be replaced via
\texttt{PUT}.

Note that, if elements are added to the beginning of \emph{vu}, previously-existing references to \emph{vu} will have to
use \texttt{TOP} or \texttt{BACK} to get at the added elements.

\textbf{Caution:} \texttt{GROW} is a \textbf{very} expensive operation; it \textbf{requires} a garbage collection (section
22.4) \textbf{every} time it is used. It should be reserved for \textbf{very special} circumstances, such as where the
pattern of shared elements is terribly important.

Example:

\begin{verbatim}
<SET A '![1]>$
![1!]
<GROW .A 0 1>$
![0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0
0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0
0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 1!]
.A$
![1!]
\end{verbatim}

\paragraph{7.6.3.2. SORT}\label{sort}

\index{\texttt{SORT}|textbf} This \texttt{SUBR} will sort \texttt{PRIMTYPE}s \texttt{VECTOR}, \texttt{UVECTOR} and
\texttt{TUPLE} (section 9.2). It works most efficiently if the sort keys are of \texttt{PRIMTYPE} \texttt{WORD},
\texttt{ATOM} or \texttt{STRING}. However, the keys may be of any \texttt{TYPE}, and \texttt{SORT} will still work.
\texttt{SORT} acts on fixed-length records which consist of one or more contiguous elements in the structure being sorted.
One element in the record is declared to be the sort key. Also, any number of additional structures can be rearranged based
on how the main structure is sorted.

\begin{verbatim}
<SORT pred s1 l1 off s2 l2 s3 l3 sN lN>
\end{verbatim}

where:

\emph{pred} is either (see chapter 8 for information about predicates):

\begin{enumerate}
\def\labelenumi{\arabic{enumi}.}
\tightlist
\item
  \texttt{TYPE} \texttt{FALSE}, in which case the \texttt{TYPE}s of all the sort keys must be the same; they must be of
  \texttt{PRIMTYPE} \texttt{WORD}, \texttt{STRING} or \texttt{ATOM}; and a radix-exchange sort is used; or
\item
  something applicable to two sort keys which returns \texttt{TYPE} \texttt{FALSE} if the first is not bigger than the
  second, in which case a shell sort is used. For example, \texttt{,G?} sorts numbers in ascending order, \texttt{,L?} in
  descending order. Note: if your \emph{pred} is buggy, the \texttt{SORT} may never terminate.
\end{enumerate}

\emph{s1} \ldots{} \emph{sN} are the (\texttt{PRIMTYPE}) \texttt{VECTOR}s, \texttt{UVECTOR}s or \texttt{TUPLE}s being
sorted, and \emph{s1} contains the sort keys;

\emph{l1} \ldots{} \emph{lN} are the corresponding lengths of sort records (optional, one by default); and

\emph{off} is the offset from start of record to sort key (optional, zero by default).

\texttt{SORT} returns the sorted \emph{s1} as a value.

Note: the \texttt{SUBR} \texttt{SORT} calls the \texttt{RSUBR} (chapter 19) \texttt{SORTX}\index{\texttt{SORTX}}; if the
\texttt{RSUBR} must be loaded, you may see some output from the loader on your terminal.

Examples:

\begin{verbatim}
<SORT <> <SET A <IUVECTOR 500 '<RANDOM>>>>$
![...!]
\end{verbatim}

sorts a \texttt{UVECTOR} of random integers.

\begin{verbatim}
<SET V [1 MONEY 2 SHOW 3 READY 4 GO]>$
[...]
<SORT <> .V 2 1>$
[4 GO 1 MONEY 3 READY 2 SHOW]

<SORT ,L? .V 2>$
[4 GO 3 READY 2 SHOW 1 MONEY]
.V$
[4 GO 3 READY 2 SHOW 1 MONEY]

<SORT <> ![2 1 4 3 6 5 8 7] 1 0 .V>$
![1 2 3 4 5 6 7 8!]
.V$
[GO 4 READY 3 SHOW 2 MONEY 1]
\end{verbatim}

The first sort was based on the \texttt{ATOM}s' \texttt{PNAME}s, considering records to be two elements. The second one
sorted based on the \texttt{FIX}es. The third interchanged pairs of elements of each of its structured arguments.

\subsubsection{7.6.4. VECTOR (the PRIMTYPE) {[}1{]}}\label{vector-the-primtype-1}

Any MDL object may be an element of a \texttt{PRIMTYPE} \texttt{VECTOR}. A \texttt{PRIMTYPE} \texttt{VECTOR} takes two
words of storage more than an equivalent \texttt{PRIMTYPE} \texttt{LIST}, but takes it all in a contiguous chunk, whereas a
\texttt{PRIMTYPE} \texttt{LIST} may be physically spread out in storage (appendix 1). There are no \texttt{SUBR}s or
\texttt{FSUBR}s which operate only on \texttt{PRIMTYPE} \texttt{VECTOR}.

\subsubsection{7.6.5. UVECTOR (the PRIMTYPE) {[}1{]}}\label{uvector-the-primtype-1}

\index{\texttt{UVECTOR}|textbf} The difference between \texttt{PRIMTYPE}s \texttt{UVECTOR} and
\texttt{VECTOR}\index{\texttt{VECTOR}|textbf} is that every element of a \texttt{PRIMTYPE} \texttt{UVECTOR} must be of the
same \texttt{TYPE}. A \texttt{PRIMTYPE} \texttt{UVECTOR} takes approximately half the storage of a \texttt{PRIMTYPE}
\texttt{VECTOR} or \texttt{PRIMTYPE} \texttt{LIST} and, like a \texttt{PRIMTYPE} \texttt{VECTOR}, takes it in a contiguous
chunk (appendix 1).

{[}Note: due to an implementation restriction (appendix 1), \texttt{PRIMTYPE} \texttt{STRING}s, \texttt{BYTES}es,
\texttt{LOCD}s (chapter 12), and objects on the control stack (chapter 22) may \textbf{not} be elements of
\texttt{PRIMTYPE} \texttt{UVECTOR}s.{]}

The ``same \texttt{TYPE}'' restriction causes an equivalent restriction to apply to \texttt{EVAL} of the arguments to
either of the \texttt{SUBR}s \texttt{UVECTOR} or \texttt{IUVECTOR}. Note that attempting to say

\begin{verbatim}
![1 .A!]
\end{verbatim}

will cause \texttt{READ} to produce an error, since you're attempting to put a \texttt{FORM} and a \texttt{FIX} into the
same \texttt{UVECTOR}. On the other hand,

\begin{verbatim}
<UVECTOR 1 .A>
\end{verbatim}

is legal, and will \texttt{EVAL} to the appropriate \texttt{UVECTOR} without error if \texttt{.A} \texttt{EVAL}s to a
\texttt{TYPE} \texttt{FIX}.

The following \texttt{SUBR}s work on \texttt{PRIMTYPE} \texttt{UVECTOR}s along.

\paragraph{7.6.5.1. UTYPE {[}1{]}}\label{utype-1}

\begin{verbatim}
<UTYPE primtype-uvector>
\end{verbatim}

\index{\texttt{UTYPE}|textbf} (``uniform type'') evaluates to the \texttt{TYPE} of every element in its argument. Example:

\begin{verbatim}
<UTYPE '![A B C]>$
ATOM
\end{verbatim}

\paragraph{7.6.5.2. CHUTYPE {[}1{]}}\label{chutype-1}

\begin{verbatim}
<CHUTYPE uv:primtype-uvector type>
\end{verbatim}

\index{\texttt{CHUTYPE}|textbf} (``change uniform type'') changes the \texttt{UTYPE} of \emph{uv} to \emph{type},
simultaneously changing the \texttt{TYPE} of all elements of \emph{uv}, and returns the new, changed, \emph{uv}. This works
only when the \texttt{PRIMTYPE} of the elements of \emph{uv} can remain the same through the whole procedure. (Exception: a
\emph{uv} of \texttt{UTYPE} \texttt{LOSE}\index{\texttt{LOSE}} can be \texttt{CHUTYPE}d to any \emph{type} (legal in a
\texttt{UVECTOR} of course); the resulting elements are ``empty'', as for \texttt{GROW}.)

\texttt{CHUTYPE} actually changes \emph{uv}; hence \textbf{all} references to that object will reflect the change. This is
quite different from \texttt{CHTYPE}.

Examples:

\begin{verbatim}
<SET LOST <IUVECTOR 2>>$
![#LOSE *000000000000* #LOSE *000000000000*!]
<UTYPE .LOST>$
LOSE
<CHUTYPE .LOST FORM>$
![<> <>!]
.LOST$
![<> <>!]
<CHUTYPE .LOST LIST>$
![() ()!]
\end{verbatim}

\subsubsection{7.6.6. STRING (the PRIMTYPE) and CHARACTER {[}1{]}}\label{string-the-primtype-and-character-1}

The best mental image of a \texttt{PRIMTYPE} \texttt{STRING}\index{\texttt{STRING}|textbf} is a \texttt{PRIMTYPE}
\texttt{UVECTOR} of \texttt{CHARACTER}s -- where \texttt{CHARACTER}\index{\texttt{CHARACTER}|textbf} is the MDL
\texttt{TYPE} for a single ASCII character. The representation of a \texttt{CHARACTER}, by the way, is
\index{\texttt{"!"\textbackslash{}}|textbf}

\begin{verbatim}
!\any-ASCII-character
\end{verbatim}

That is, the characters \texttt{!\textbackslash{}} (exclamation-point backslash) preceding a single ASCII character
represent the corresponding object of \texttt{TYPE} \texttt{CHARACTER} (\texttt{PRIMTYPE} \texttt{WORD}). (The characters
\texttt{!"} \index{\texttt{"!""}} (exclamation-point double-quote) preceding a character are also acceptable for inputting
a \texttt{CHARACTER}, for historical reasons.)

The \texttt{SUBR} \texttt{ISTRING}\index{\texttt{ISTRING}} will produce an error if you give it an argument that produces a
non-\texttt{CHARACTER}. \texttt{STRING} can take either \texttt{CHARACTER}s or \texttt{STRING}s.

There are no \texttt{SUBR}s which uniquely manipulate \texttt{PRIMTYPE} \texttt{STRING}s, but some are particularly useful
in connection with them:

\paragraph{7.6.6.1. ASCII {[}1{]}}\label{ascii-1}

\begin{verbatim}
<ASCII fix-or-character>
\end{verbatim}

If its argument is of \texttt{TYPE} \texttt{FIX}, \texttt{ASCII}\index{\texttt{ASCII}|textbf} evaluates to the
\texttt{CHARACTER} with the 7-bit ASCII code of its argument. Example: \texttt{\textless{}ASCII\ 65\textgreater{}}
evaluates to \texttt{!\textbackslash{}A}.

If its argument is of \texttt{TYPE} \texttt{CHARACTER}, \texttt{ASCII} evaluates to the \texttt{FIX}ed-point number which
is its argument's 7-bit ASCII code. Example: \texttt{\textless{}ASCII\ !\textbackslash{}Z\textgreater{}} evaluates to
\texttt{90}.

{[}Actually, a \texttt{FIX} can be \texttt{CHTYPE}d to a \texttt{CHARACTER} (or vice versa) directly, but \texttt{ASCII}
checks in the former case that the \texttt{FIX} is within the permissible range.{]}

\paragraph{7.6.6.2. PARSE {[}1{]}}\label{parse-1}

\begin{verbatim}
<PARSE string radix:fix>
\end{verbatim}

\index{\texttt{PARSE}|textbf} \texttt{PARSE} applies to its argument \texttt{READ}'s algorithm for converting ASCII
representations to MDL objects and returns the \textbf{first} object created. The remainder of \emph{string}, after the
first object represented, is ignored. \emph{radix} (optional, ten by default) is used for converting any \texttt{FIX}es
that occur. {[}See also sections 15.7.2 and 17.1.3 for additional arguments.{]}

\paragraph{7.6.6.3. LPARSE {[}1{]}}\label{lparse-1}

\index{\texttt{LPARSE}|textbf} \texttt{LPARSE} (``list parse'') is exactly like \texttt{PARSE} (above), except that it
parses the \textbf{entire} \emph{string} and returns a \texttt{LIST} of \textbf{all} objects created. If given an empty
\texttt{STRING} or one containing only separators, \texttt{LPARSE} returns an empty \texttt{LIST}, whereas \texttt{PARSE}
gets an error.

\paragraph{7.6.6.4. UNPARSE {[}1{]}}\label{unparse-1}

\begin{verbatim}
<UNPARSE any radix:fix>
\end{verbatim}

\index{\texttt{UNPARSE}|textbf} \texttt{UNPARSE} applies to its argument \texttt{PRINT}'s algorithm for converting MDL
objects to ASCII representations and returns a \texttt{STRING} which contains the \texttt{CHARACTER}s \texttt{PRINT} would
have typed out. {[}However, this \texttt{STRING} will \textbf{not} contain any of the gratuitous carriage-returns
\texttt{PRINT} adds to accommodate a \texttt{CHANNEL}'s\index{\texttt{CHANNEL}} finite line-width (section 11.2.8).{]}
\emph{radix} (optional, ten by default) is used for converting any \texttt{FIX}es that occur.

\subsubsection{7.6.7. BYTES}\label{bytes-1}

\index{\texttt{BYTES}|textbf} A (\texttt{PRIMTYPE}) \texttt{BYTES} is a string of uniformly-sized bytes. The bytes can be
any size between 1 and 36 bits inclusive. A \texttt{BYTES} is similar in some ways to a
\texttt{UVECTOR}\index{\texttt{UVECTOR}} of \texttt{FIX}es and in some ways to a \texttt{STRING}\index{\texttt{STRING}} of
non-seven-bit bytes. The elements of a \texttt{BYTES} are always of \texttt{TYPE} \texttt{FIX}.

The \texttt{SUBR}s \texttt{BYTES} and \texttt{IBYTES}\index{\texttt{IBYTES}|textbf} are similar to \texttt{STRING} and
\texttt{ISTRING}, respectively, except that each of the former takes a first argument giving the size of the bytes in the
generated \texttt{BYTES}. \texttt{BYTES} takes one required argument which is a \texttt{FIX} specifying a byte size and any
number of \texttt{PRIMTYPE} \texttt{WORD}s. It returns an object of \texttt{TYPE} \texttt{BYTES} with that byte size
containing the objects as elements. These objects will be \texttt{ANDB}ed \index{\texttt{ANDB}} with the appropriate mask
of 1-bits to fit in the byte size. \texttt{IBYTES} takes two required \texttt{FIX}es and one optional argument. It uses the
first \texttt{FIX} to specify the byte size and the second to specify the number of elements. The third argument is
repeatedly evaluated to generate \texttt{FIX}es that become elements of the \texttt{BYTES} (if it is omitted, bytes filled
with zeros are generated). The analog to \texttt{UTYPE} is \texttt{BYTE-SIZE}\index{\texttt{BYTE-SIZE}|textbf}. Examples:

\begin{verbatim}
<BYTES 3 <+ 2 2> 9 -1>$
#3 {4 1 7}
<SET A 0>$
0
<IBYTES 3 9 '<SET A <+ .A 1>>>$
#3 {1 2 3 4 5 6 7 0 1}
<IBYTES 3 4>$
#3 {0 0 0 0}
<BYTE-SIZE <BYTES 1>>$
1
\end{verbatim}

\subsubsection{7.6.8. TEMPLATE}\label{template-1}

\index{\texttt{TEMPLATE}|textbf} A \texttt{TEMPLATE} is similar to a PL/I ``structure'' of one level: the elements are
packed together and reduced in size to save storage space, while an auxiliary internal data structure describes the packing
format and the elements' real \texttt{TYPE}s (appendix 1). The interpreter is not able to create objects of
\texttt{PRIMTYPE} \texttt{TEMPLATE} (Lebling, 1979); however, it can apply the standard built-in Subroutines to them, with
the same effects as with other ``arrays''.

\subsection{7.7. SEGMENTs {[}1{]}}\label{segments-1}

Objects of \texttt{TYPE} \texttt{SEGMENT}\index{\texttt{SEGMENT}|textbf} (whose \texttt{TYPEPRIM} is \texttt{LIST}) look
very much like \texttt{FORM}s. \texttt{SEGMENT}s, however, undergo a non-standard evaluation designed to ease the
construction of structured objects from elements of other structured objects.

\subsubsection{7.7.1. Representation {[}1{]}}\label{representation-1-2}

The representation of an object of \texttt{TYPE} \texttt{SEGMENT} is the following:

\begin{verbatim}
!< func arg-1 arg-2 ... arg-N !>
\end{verbatim}

\index{\texttt{"!<}|textbf}\index{\texttt{"!>}|textbf} where the second \texttt{!} (exclamation-point) is optional, and
\emph{func} and \emph{arg-1} through \emph{arg-N} are any legal constituents of a \texttt{FORM} (that is, anything). The
pointed brackets can be implicit, as in the period and comma notation for \texttt{LVAL} and \texttt{GVAL}.

All of the following are \texttt{SEGMENT}s:

\begin{verbatim}
!<3 .FOO>    !.FOO    !,FOO
\end{verbatim}

\index{\texttt{"!.}|textbf}\index{\texttt{"!,}|textbf}

\subsubsection{7.7.2. Evaluation {[}1{]}}\label{evaluation-1-1}

A \texttt{SEGMENT} is evaluated in exactly the same manner as a \texttt{FORM}, with the following three exceptions:

\begin{enumerate}
\def\labelenumi{\arabic{enumi}.}
\tightlist
\item
  It had better be done inside an \texttt{EVAL} of a structure; otherwise an error occurs. (See special case of
  \texttt{FORM}s in section 7.7.5.)
\item
  It had better \texttt{EVAL} to a structured object; otherwise an error occurs.
\item
  What actually gets inserted into the structure being built are the elements of the structure returned by the
  \texttt{FORM}-like evaluation.
\end{enumerate}

\subsubsection{7.7.3. Examples {[}1{]}}\label{examples-1-1}

\begin{verbatim}
<SET ZOP '![2 3 4]>$
![2 3 4!]
<SET ARF (B 3 4)>$
(B 3 4)
(.ARF !.ZOP)$
((B 3 4) 2 3 4)
![!.ZOP !<REST .ARF>!]$
![2 3 4 3 4!]

<SET S "STRUNG.">$
"STRUNG."
(!.S)$
(!\S !\T !\R !\U !\N !\G !\.)

<SET NIL ()>$
()
[!.NIL]$
[]
\end{verbatim}

\subsubsection{7.7.4. Note on Efficiency {[}1{]}}\label{note-on-efficiency-1}

Most of the cases in which is is possible to use \texttt{SEGMENT}s require \texttt{EVAL} to generate an entire new object.
Naturally, this uses up both storage and time. However, there is one case which it is possible to handle without copying,
and \texttt{EVAL} uses it. When the structure being built is a \texttt{PRIMTYPE} \texttt{LIST}\index{\texttt{LIST}}, and
the segment value of a \texttt{PRIMTYPE} \texttt{LIST} is the last (rightmost) element being concatenated, that last
\texttt{PRIMTYPE} \texttt{LIST} is not copied. This case is similar to \texttt{CONS} and is the principle reason why
\texttt{PRIMTYPE} \texttt{LIST}s have their structures more easily varied than \texttt{PRIMTYPE} \texttt{VECTOR} or
\texttt{UVECTOR}.

Examples:

\begin{verbatim}
.ARF$
(B 3 4)
\end{verbatim}

This does not copy ARF:

\begin{verbatim}
(1 2 !.ARF)$
(1 2 B 3 4)
\end{verbatim}

These do:

\begin{verbatim}
(1 !.ARF 2)              ;"not last element"$
(1 B 3 4 2)
[1 2 !.ARF]              ;"not PRIMTYPE LIST"$
[1 2 B 3 4]
(1 2 !.ARF !<REST '(1)>) ;"still not last element"$
(1 2 B 3 4)
\end{verbatim}

Note the following, which occurs because copying does \textbf{not} take place:

\begin{verbatim}
<SET DOG (A !.ARF)>$
(A B 3 4)
<PUT .ARF 1 "BOWOW">$
("BOWOW" 3 4)
.DOG$
(A "BOWOW" 3 4)
<PUT .DOG 3 "WOOF">$
(A "BOWOW" "WOOF" 4)
.ARF$
("BOWOW" "WOOF" 4)
\end{verbatim}

\index{\texttt{PUT}} Since \texttt{ARF} was not copied, it was literally part of \texttt{DOG}. Hence, when an element of
\texttt{ARF} was changed, \texttt{DOG} was changed. Similarly, when an element of \texttt{DOG} which \texttt{ARF} shared
was changed, \texttt{ARF} was changed too.

\subsubsection{7.7.5. SEGMENTs in FORMs {[}1{]}}\label{segments-in-forms-1}

When a \texttt{SEGMENT} appears as an element of a \texttt{FORM}, the effect is approximately the same as if the elements
of the \texttt{EVAL} of the \texttt{SEGMENT} were in the \texttt{FORM}. Example:

\begin{verbatim}
<SET A '![1 2 3 4]>$
![1 2 3 4!]
<+ !.A 5>$
15
\end{verbatim}

Note: the elements of the structure segment-evaluated in a \texttt{FORM} are \textbf{not} re-evaluated if the thing being
applied is a \texttt{SUBR}. Thus if \texttt{.A} were \texttt{(1\ 2\ \textless{}+\ 3\ 4\textgreater{}\ 5)}, the above
example would produce an error: you can't add up \texttt{FORM}s.

You could perform the same summation of \texttt{5} and the elements of \texttt{A} by using

\begin{verbatim}
<EVAL <CHTYPE (+ !.A 5) FORM>>
\end{verbatim}

(Note that \texttt{EVAL} must be explicitly called as a \texttt{SUBR}; if it were not so called, you would just get the
\texttt{FORM} \texttt{\textless{}+\ 1\ 2\ 3\ 4\ 5\textgreater{}} -- not its ``value''.) However, the latter is more
expensive both in time and in storage: when you use the \texttt{SEGMENT} directly in the \texttt{FORM}, a new \texttt{FORM}
is, in fact, \textbf{not} generated as it is in the latter case. (The elements are put on ``the control stack'' with the
other arguments.)

\subsection{7.8. Self-referencing Structures}\label{self-referencing-structures}

It is possible for a structured object to ``contain'' itself, either as a subset or as an element, as an element of a
structured element, etc. Such an object cannot be \texttt{PRINT}ed, because recursion begins and never terminates. Warning:
if you try the examples in this section with a live MDL, be sure you know how to use \texttt{\^{}S} (section 1.2) to save
\texttt{PRINT} from endless agony. (Certain constructs with \texttt{ATOM}s can give \texttt{PRINT} similar trouble: see
chapters 12 and 15.)

\subsubsection{7.8.1. Self-subset}\label{self-subset}

\begin{verbatim}
<PUTREST head:primtype-list tail:primtype-list>
\end{verbatim}

\index{\texttt{PUTREST}} If \emph{head} is a subset of \emph{tail}, that is, if
\texttt{\textless{}REST\ tail\ fix\textgreater{}} is the same object as \texttt{\textless{}REST\ head\ 0\textgreater{}} for
some \emph{fix}, then both \emph{head} and \emph{tail} will be ``circular'' (and this self-referencing) after the
\texttt{PUTREST}. Example:

\begin{verbatim}
<SET WALTZ (1 2 3)>$
(1 2 3)
<PUTREST <REST .WALTZ 2> .WALTZ>$
(3 1 2 3 1 2 3 1 2 3 1 2 3 ...
\end{verbatim}

\subsubsection{7.8.2. Self-element}\label{self-element}

\begin{verbatim}
<PUT s1:structured fix s2:structured>
\end{verbatim}

If \emph{s1} is the same object as \emph{s2}, then it will ``contain'' itself (and thus be self-referencing) after the
\texttt{PUT}. Examples:

\begin{verbatim}
<SET S <LIST 1 2 3>>        ;"or VECTOR"$
(1 2 3)
<PUT .S 3 .S>$
(1 2 (1 2 (1 2 (1 2 ...
<SET U ![![]]>$
![![!]!]
<PUT .U 1 .U>$
![![![![![![...
\end{verbatim}

Test your reaction time or your terminal's bracket-maker. Amaze your friends.

\section{Chapter 8. Truth}\label{chapter-8.-truth}

\subsection{8.1. Truth Values {[}1{]}}\label{truth-values-1}

MDL represents ``false'' with an object of a particular \texttt{TYPE}: \texttt{TYPE}
\texttt{FALSE}\index{\texttt{FALSE}|textbf} (unsurprisingly). \texttt{TYPE} \texttt{FALSE} is structured: its
\texttt{PRIMTYPE} is \texttt{LIST}. Thus, you can give reasons or excuses by making them elements of a \texttt{FALSE}.
(Again, \texttt{EVAL}ing a \texttt{FALSE} neither copies it nor \texttt{EVAL}s its elements, so it is not necessary to
\texttt{QUOTE} a \texttt{FALSE} appearing in a program.) Objects of \texttt{TYPE} \texttt{FALSE} are represented in ``\#
notation'':

\begin{verbatim}
#FALSE list-of-its-elements
\end{verbatim}

The empty \texttt{FORM}\index{\texttt{FORM}} evaluates to the empty \texttt{FALSE}:

\begin{verbatim}
<>$
#FALSE ()
\end{verbatim}

Anything which is not \texttt{FALSE}, is, reasonably enough, true. In this document the ``data type'' \emph{false-or-any}
in metasyntactic variables means that the only significant attribute of the object in that context is whether its
\texttt{TYPE} is \texttt{FALSE} or not.

\subsection{8.2. Predicates {[}1{]}}\label{predicates-1}

There are numerous MDL F/SUBRs which can return a \texttt{FALSE} or a true. See appendix 2 to find them all. Most return
either \texttt{\#FALSE\ ()} or the \texttt{ATOM} with \texttt{PNAME} \texttt{T}\index{\texttt{T}|textbf}. (The latter is
for historical reasons, namely Lisp (Moon, 1974).) Some predicates which are meaningful now are described next.

\subsubsection{8.2.1. Arithmetic {[}1{]}}\label{arithmetic-1}

\begin{verbatim}
<0? fix-or-float>
\end{verbatim}

\index{\texttt{0?}|textbf} evaluates to \texttt{T} only if its argument is identically equal to \texttt{0} or \texttt{0.0}.

\begin{verbatim}
<1? fix-or-float>
\end{verbatim}

\index{\texttt{1?}|textbf} evaluates to \texttt{T} only if its argument is identically equal to \texttt{1} or \texttt{1.0}.

\begin{verbatim}
<G? n:fix-or-float m:fix-or-float>
\end{verbatim}

\index{\texttt{G?}|textbf} evaluates to \texttt{T} only if \emph{n} is algebraically greater than \emph{m}.
\texttt{L=?}\index{\texttt{L=?}|textbf} is the Boolean complement of \texttt{G?}; that is, it is \texttt{T} only if
\emph{n} is not algebraically greater than \emph{m}.

\begin{verbatim}
<L? n:fix-or-float m:fix-or-float>
\end{verbatim}

\index{\texttt{L?}|textbf} evaluates to \texttt{T} only if \emph{n} is algebraically less than \emph{m}.
\texttt{G=?}\index{\texttt{G=?}|textbf} is the Boolean complement of \texttt{L?}.

\subsubsection{8.2.2. Equality and Membership {[}1{]}}\label{equality-and-membership-1}

\begin{verbatim}
<==? e1:any e2:any>
\end{verbatim}

\index{\texttt{==?}|textbf} evaluates to \texttt{T} only if \emph{e1} is the \textbf{same object} as \emph{e2} (appendix
1). Two objects that look the same when \texttt{PRINT}ed may not be \texttt{==?}. Two \texttt{FIX}es of the same ``value''
are ``the same object''; so are two \texttt{FLOAT}s of \textbf{exactly} the same ``value''. Empty objects of
\texttt{PRIMTYPE} \texttt{LIST}\index{\texttt{LIST}} (and no other structured \texttt{PRIMTYPE}) are \texttt{==?} if their
\texttt{TYPE}s are the same. Example:

\begin{verbatim}
<==? <SET X "RANDOM STRING"> <TOP <REST .X 6>>>$
T
<==? .X "RANDOM STRING">$
#FALSE ()
\end{verbatim}

\texttt{N==?}\index{\texttt{N==?}|textbf} is the Boolean complement of \texttt{==?}.

\begin{verbatim}
<=? e1:any e2:any>
\end{verbatim}

\index{\texttt{=?}|textbf} evaluates to \texttt{T} if \emph{e1} and \emph{e2} have the same \texttt{TYPE} and are
structurally equal -- that is, they ``look the same'', their printed representations are the same. \texttt{=?} is much
slower than \texttt{==?}. \texttt{=?} should be used only when its characteristics are necessary: they are not in any
comparisons of unstructured objects. \texttt{==?} and \texttt{=?} always return the same value for \texttt{FIX}es,
\texttt{FLOAT}s, \texttt{ATOM}s, etc. (Mnemonically, \texttt{==?} tests for ``more equality'' than \texttt{=?}; in fact, it
tests for actual physical identity.)

Example, illustrating non-copying of a \texttt{SEGMENT}\index{\texttt{SEGMENT}} in Direct Representation of a
\texttt{LIST}:

\begin{verbatim}
<SET A '(1 2 3)>$
(1 2 3)
<==? .A (!.A)>$
T
<==? .A <SET B <LIST !.A>>>$
#FALSE ()
<=? .A .B>$
T
\end{verbatim}

\texttt{N=?}\index{\texttt{N=?}|textbf} is the Boolean complement of \texttt{=?}.

\begin{verbatim}
<MEMBER object:any structured>
\end{verbatim}

\index{\texttt{MEMBER}|textbf} runs down \emph{structured} from first to last element, comparing each element of
\emph{structured} with \emph{object}. If it finds an element of \emph{structured} which is \texttt{=?} to \emph{object}, it
returns \texttt{\textless{}REST\ structured\ i\textgreater{}} (which is of \texttt{TYPE}
\texttt{\textless{}PRIMTYPE\ structured\textgreater{}}), where the (\emph{i}+1)th element of \emph{structured} is
\texttt{=?} to \emph{object}. That is, the first element of what it returns is the \textbf{first} element of
\emph{structured} that is \texttt{=?} to \emph{object}.

If no element of \emph{structured} is \texttt{=?} to \emph{object}, \texttt{MEMBER} returns \texttt{\#FALSE\ ()}.

The search is more efficient if \emph{structured} is of \texttt{PRIMTYPE} \texttt{VECTOR} (or \texttt{UVECTOR}, if
possible) than if it is of \texttt{PRIMTYPE} \texttt{LIST}. As usual, if \emph{structured} is constant, it should be
\texttt{QUOTE}d.

If \emph{object} and \emph{structured} are of \texttt{PRIMTYPE} \texttt{STRING} {[}or \texttt{BYTES}{]}, \texttt{MEMBER}
does a substring search. Example:

\begin{verbatim}
<MEMBER "PART" "SUM OF PARTS">$
"PARTS"
\end{verbatim}

\texttt{\textless{}MEMQ\ object:any\ structured\textgreater{}}\index{\texttt{MEMQ}|textbf} (``member quick'') is exactly
the same as \texttt{MEMBER}, except that the comparison test is \texttt{==?}.

\begin{verbatim}
<STRCOMP s1 s2>
\end{verbatim}

\index{\texttt{STRCOMP}|textbf} (``string comparison'') can be given either two \texttt{STRING}s or two \texttt{ATOM}s as
arguments. In the latter case the \texttt{PNAME}s are used. It actually isn't a predicate, since it can return three
possible values: \texttt{0} if \emph{s1} is \texttt{=?} to \emph{s2}; \texttt{1} if \emph{s1} sorts alphabetically after
\emph{s2}; and \texttt{-1} if \emph{s1} sorts alphabetically before \emph{s2}. ``Alphabetically'' means, in this case,
according to the numeric order of ASCII, with the standard alphabetizing rules.

{[}A predicate suitable for an ascending \texttt{SORT}\index{\texttt{SORT}} (which see) is
\texttt{\textless{}G?\ \textless{}STRCOMP\ .ARG1\ .ARG2\textgreater{}\ 0\textgreater{}}.{]}

\subsubsection{8.2.3. Boolean Operators {[}1{]}}\label{boolean-operators-1}

\begin{verbatim}
<NOT e:false-or-any>
\end{verbatim}

\index{\texttt{NOT}|textbf} evaluates to \texttt{T} only if \emph{e} evaluates to a \texttt{FALSE}, and to
\texttt{\#FALSE\ ()} otherwise.

\begin{verbatim}
<AND e1 e2 ... eN>
\end{verbatim}

\texttt{AND} \index{\texttt{AND}|textbf} is an \texttt{FSUBR}\index{\texttt{FSUBR}}. It evaluates its arguments from first
to last as they appear in the \texttt{FORM}. As soon as one of them evaluates to a \texttt{FALSE}, it returns that
\texttt{FALSE}, ignoring any remaining arguments. If none of them evaluate to \texttt{FALSE}, it returns \texttt{EVAL} of
its last argument. \texttt{\textless{}AND\textgreater{}} returns \texttt{T}. \texttt{AND?} \index{\texttt{AND?}|textbf} is
the \texttt{SUBR} equivalent to \texttt{AND}, that is, all its arguments are evaluated before any of them is tested.

\begin{verbatim}
<OR e1 e2 ... eN>
\end{verbatim}

\index{\texttt{OR}|textbf} \texttt{OR} is an \texttt{FSUBR}. It evaluates its arguments from first to last as they appear
in the \texttt{FORM}. As soon as one of them evaluates to a non-\texttt{FALSE}, it returns that non-\texttt{FALSE} value,
ignoring any remaining arguments. If this never occurs, it returns the last \texttt{FALSE} it saw.
\texttt{\textless{}OR\textgreater{}} returns \texttt{\#FALSE\ ()}. \texttt{OR?}\index{\texttt{OR?}|textbf} is the
\texttt{SUBR} equivalent to \texttt{OR}.

\subsubsection{8.2.4. Object Properties {[}1{]}}\label{object-properties-1}

\begin{verbatim}
<TYPE? any type-1 ... type-N>
\end{verbatim}

\index{\texttt{TYPE?}|textbf} evaluates to \emph{type-i} only if
\texttt{\textless{}==?\ type-i\ \textless{}TYPE\ any\textgreater{}\textgreater{}}\index{\texttt{TYPE}} is true. It is
faster and gives more information than \texttt{OR}ing tests for each \texttt{TYPE}. If the test fails for all
\emph{type-i}'s, \texttt{TYPE?} returns \texttt{\#FALSE\ ()}.

\begin{verbatim}
<APPLICABLE? e>
\end{verbatim}

\index{\texttt{APPLICABLE?}|textbf} evaluates to \texttt{T} only if \emph{e} is of a \texttt{TYPE} that can legally be
applied to arguments in a \texttt{FORM}, that is, be (\texttt{EVAL} of) the first element of a \texttt{FORM} being
evaluated (appendix 3).

\begin{verbatim}
<MONAD? e>
\end{verbatim}

\index{\texttt{MONAD?}|textbf} evaluates to \texttt{\#FALSE\ ()} only if \texttt{NTH} and
\texttt{REST}\index{\texttt{REST}} (with non-zero second argument) can be performed on its argument without error. An
unstructured or empty structured object will cause \texttt{MONAD?} to return \texttt{T}.

\begin{verbatim}
<STRUCTURED? e>
\end{verbatim}

\index{\texttt{STRUCTURED?}|textbf} evaluates to \texttt{T} only if \emph{e} is a structured object. It is \textbf{not} the
inverse of \texttt{MONAD?}, since each returns \texttt{T} if its argument is an empty structure.

\begin{verbatim}
<EMPTY? structured>
\end{verbatim}

\index{\texttt{EMPTY?}|textbf} evaluates to \texttt{T} only if its argument, which must be a structured object, has no
elements.

\begin{verbatim}
<LENGTH? structured fix>
\end{verbatim}

\index{\texttt{LENGTH?}|textbf} evaluates to \texttt{\textless{}LENGTH\ structured\textgreater{}}\index{\texttt{LENGTH}}
only if that is less than or equal to \emph{fix}; otherwise, it evaluates to \texttt{\#FALSE\ ()}. Mnemonically, you can
think of the first two letters of \texttt{LENGTH?} as signifying the ``less than or equal to'' sense of the test.

This \texttt{SUBR} was invented to use on lists, because MDL can determine their lengths only by stepping along the list,
counting the elements. If a program needs to know only how the length compares with a given number, \texttt{LENGTH?} will
tell without necessarily stepping all the way to the end of the list, in contrast to \texttt{LENGTH}.

{[}If \emph{structured} is a circular \texttt{PRIMTYPE} \texttt{LIST}, \texttt{LENGTH?} will return a value, whereas
\texttt{LENGTH} will execute forever. To see if you can do
\texttt{\textless{}REST\ structured\ \textless{}+\ 1\ fix\textgreater{}\textgreater{}} without error, do the test
\texttt{\textless{}NOT\ \textless{}LENGTH?\ structured\ fix\textgreater{}\textgreater{}}.{]}

\subsection{8.3. COND {[}1{]}}\label{cond-1}

The MDL Subroutine which is most used for varying evaluation depending on a truth value is the
\texttt{FSUBR}\index{\texttt{FSUBR}} \texttt{COND}\index{\texttt{COND}|textbf} (``conditional''). A call to \texttt{COND}
has this format:

\begin{verbatim}
<COND clause-1:list ... clause-N:list>
\end{verbatim}

where \emph{N} is at least one.

\texttt{COND} always returns the result of the \textbf{last} evaluation it performs. The following rules determine the
order of evaluations performed.

\begin{enumerate}
\def\labelenumi{\arabic{enumi}.}
\tightlist
\item
  Evaluate the first element of each clause (from first to last) until either a non-\texttt{FALSE} object results or the
  clauses are exhausted.
\item
  If a non-\texttt{FALSE} object is found in (1), immediately evaluate the remaining elements (if any) of that clause and
  ignore any remaining clauses.
\end{enumerate}

In other words, \texttt{COND} goes walking down its clauses, \texttt{EVAL}ing the first element of each clause, looking for
a non-\texttt{FALSE} result. As soon as it finds a non-\texttt{FALSE}, it forgets about all the other clauses and
evaluates, in order, the other elements of the current clause and returns the last thing it evaluates. If it can't find a
non-\texttt{FALSE}, it returns the last \texttt{FALSE} it saw.

\subsubsection{8.3.1. Examples}\label{examples-2}

\begin{verbatim}
<SET F '(1)>$
(1)
<COND (<EMPTY? .F> EMP) (<1? <LENGTH .F>> ONE)>$
ONE
<SET F ()>$
()
<COND (<EMPTY? .F> EMP) (<1? <LENGTH .F>> ONE)>$
EMP
<SET F '(1 2 3)>$
(1 2 3)
<COND (<EMPTY? .F> EMP) (<1? <LENGTH .F>> ONE)>$
#FALSE ()
<COND (<LENGTH? .F 2> SMALL) (BIG)>$
BIG

<DEFINE FACT (N)        ;"the standard recursive factorial"
        <COND (<0? .N> 1)
              (ELSE <* .N <FACT <- .N 1>>>)>>$
FACT
<FACT 5>$
120
\end{verbatim}

\subsection{8.4. Shortcuts with Conditionals}\label{shortcuts-with-conditionals}

\subsubsection{8.4.1. AND and OR as Short CONDs}\label{and-and-or-as-short-conds}

Since \texttt{AND} \index{\texttt{AND}} and \texttt{OR}\index{\texttt{OR}} are \texttt{FSUBR}s, they can be used as
miniature \texttt{COND}s. A construct of the form

\begin{verbatim}
<AND pre-conditions action(s)>
\end{verbatim}

or

\begin{verbatim}
<OR pre-exclusions action(s)>
\end{verbatim}

will allow \emph{action(s)} to be evaluated only if all the \emph{pre-conditions} are true or only if all the
\emph{pre-exclusions} are false, respectively. By nesting and using both \texttt{AND} and \texttt{OR}, fairly powerful
constructs can be made. Of course, if \emph{action(s)} are more than one thing, you must be careful that none but the last
returns false or true, respectively. Watch out especially for \texttt{TERPRI}\index{\texttt{TERPRI}} (chapter 11).
Examples:

\begin{verbatim}
<AND <ASSIGNED? FLAG> .FLAG <FCN .ARG>>
\end{verbatim}

\index{\texttt{ASSIGNED?}} applies \texttt{FCN} only if someone else has \texttt{SET} \texttt{FLAG} to true.
(\texttt{ASSIGNED?} is true if its argument \texttt{ATOM} has an \texttt{LVAL}.) No error can occur in the testing of
\texttt{FLAG} because of the order of evaluation.

\begin{verbatim}
<AND <SET C <OPEN "READ" "A FILE">> <LOAD .C> <CLOSE .C>>
\end{verbatim}

effectively \texttt{FLOAD}s\index{\texttt{FLOAD}} the file (chapter 11) without the possibility of getting an error if the
file cannot be opened.

\subsubsection{8.4.2. Embedded Unconditionals}\label{embedded-unconditionals}

One of the disadvantages of \texttt{COND} is that there is no straightforward way to do things unconditionally in between
tests. One way around this problem is to insert a dummy clause that never succeeds, because its only \texttt{LIST} element
is an \texttt{AND} that returns a \texttt{FALSE} for the test. Example:

\begin{verbatim}
<COND   (<0? .N> <F0 .N>)
        (<1? .N> <F1 .N>)
        (<AND <SET N <* 2 <FIX </ .N 2>>>>
                        ;"Round .N down to even number."
              <>>)
        (<LENGTH? .VEC .N> '[])
        (T <REST .VEC <+ 1 .N>>)>
\end{verbatim}

A variation is to make the last \texttt{AND} argument into the test for the \texttt{COND} clause. (That is, the third and
fourth clauses in the above example can be combined.) Of course, you must be careful that no other \texttt{AND} argument
evaluates to a \texttt{FALSE}; most Subroutines do not return a \texttt{FALSE} without a very good reason for it. (A
notable exception is \texttt{TERPRI} (which see).) Even safer is to use \texttt{PROG} (section 10.1) instead of
\texttt{AND}.

Another variation is to increase the nesting with a new \texttt{COND} after the unconditional part. At least this method
does not make the code appear to a human reader as though it does something other than what it really does. The above
example could be done this way:

\begin{verbatim}
<COND   (<0? .N> <F0 .N>)
        (<1? .N> <F1 .N>)
        (T
         <SET N <* 2 <FIX </ .N 2>>>>
         <COND  (<LENGTH? .VEC .N> '[])
                (T <REST .VEC <+ 1 .N>>)>)>
\end{verbatim}

\section{Chapter 9. Functions}\label{chapter-9.-functions}

This chapter could be named ``fun and games with argument \texttt{LIST}s''. Its purpose is to explain the more complicated
things which can be done with \texttt{FUNCTION}s, and this involves, basically, explaining all the various tokens which can
appear in the argument \texttt{LIST} of a \texttt{FUNCTION}\index{\texttt{FUNCTION}|textbf}. Topics are covered in what is
approximately an order of increasing complexity. This order has little to do with the order in which tokens can actually
appear in an argument \texttt{LIST}, so what an argument \texttt{LIST} ``looks like'' overall gets rather lost in the
shuffle. To alleviate this problem, section 9.9 is a summary of everything that can go into an argument \texttt{LIST}, in
the correct order. If you find yourself getting lost, please refer to that summary.

\subsection{\texorpdfstring{9.1. ``OPTIONAL'' {[}1{]}}{9.1. OPTIONAL {[}1{]}}}\label{optional-1}

MDL provides very convenient means for allowing optional arguments. The \texttt{STRING} \texttt{"OPTIONAL"} (or
\texttt{"OPT"} \index{\texttt{""OPT""}|textbf} \index{\texttt{""OPTIONAL""}|textbf} -- they're totally equivalent) in the
argument \texttt{LIST} allows the specification of optional arguments with values to be assigned by default. The syntax of
the \texttt{"OPTIONAL"} part of the argument \texttt{LIST} is as follows:

\begin{verbatim}
"OPTIONAL" al-1 al-2 ... al-N
\end{verbatim}

First, there is the \texttt{STRING} \texttt{"OPTIONAL"}. Then there is any number of either \texttt{ATOM}s or two-element
\texttt{LIST}s, intermixed, one per optional argument. The first element of each two-element \texttt{LIST} must be an
\texttt{ATOM}; this is the dummy variable. The second element is an arbitrary MDL expression. If there are required
arguments, they must come before the \texttt{"OPTIONAL"}.

When \texttt{EVAL} is binding the variables of a \texttt{FUNCTION} and sees \texttt{"OPTIONAL"}, the following happens:

\begin{itemize}
\tightlist
\item
  If an explicit argument was given in the position of an optional one, the explicit argument is bound to the corresponding
  dummy \texttt{ATOM}.
\item
  If there is no explicit argument and the \texttt{ATOM} stands alone, that is, it is not the first element of a
  two-element \texttt{LIST}, that \texttt{ATOM} becomes ``bound'', but no local value is assigned to it {[}see below{]}. A
  local value can be assigned to it by using \texttt{SET}.
\item
  If there is no explicit argument and the \texttt{ATOM} is the first element of a two-element \texttt{LIST}, the MDL
  expression in the \texttt{LIST} with the \texttt{ATOM} is evaluated and bound to the \texttt{ATOM}.
\end{itemize}

{[}Until an \texttt{ATOM} is assigned, any attempt to reference its \texttt{LVAL} will produce an error. The predicate
\texttt{SUBR}s \texttt{BOUND?}\index{\texttt{BOUND?}|textbf} and \texttt{ASSIGNED?}\index{\texttt{ASSIGNED?}|textbf} can be
used to check for such situations. \texttt{BOUND?} returns \texttt{T} if its argument is currently bound via an argument
\texttt{LIST} or has ever been \texttt{SET} while not bound via an argument \texttt{LIST}. The latter kind of binding is
called ``top-level binding'', because it is done outside all active argument-\texttt{LIST} binding. \texttt{ASSIGNED?} will
return \texttt{\#FALSE\ ()} if its argument is \textbf{either} unassigned \textbf{or} unbound. By the way, there are two
predicates for global values similar to \texttt{BOUND?} and \texttt{ASSIGNED?}, namely
\texttt{GBOUND?}\index{\texttt{GBOUND?}} and \texttt{GASSIGNED?}\index{\texttt{GASSIGNED?}|textbf}. Each returns \texttt{T}
only if its argument, which (as in \texttt{BOUND?} and \texttt{ASSIGNED?}) must be an \texttt{ATOM}, has a global value
``slot'' (chapter 22) or a global value, respectively.{]}

Example:

\begin{verbatim}
<DEFINE INC1 (A "OPTIONAL" (N 1)) <SET .A <+ ..A .N>>>$
INC1
<SET B 0>$
0
<INC1 B>$
1
<INC1 B 5>$
0
\end{verbatim}

Here we defined another (not quite working) increment \texttt{FUNCTION}. It now takes an optional argument specifying how
much to increment the \texttt{ATOM} it is given. If not given, the increment is \texttt{1}. Now, \texttt{1} is a pretty
simple MDL expression: there is no reason why the optional argument cannot be complicated -- for example, a call to a
\texttt{FUNCTION} which reads a file on an I/O device.

\subsection{9.2. TUPLEs}\label{tuples}

\subsubsection{\texorpdfstring{9.2.1. ``TUPLE'' and TUPLE (the TYPE)
{[}1{]}}{9.2.1. TUPLE and TUPLE (the TYPE) {[}1{]}}}\label{tuple-and-tuple-the-type-1}

There are also times when you want to be able to have an arbitrary number of arguments. You can always do this by defining
the \texttt{FUNCTION} as having a structure as its argument, with the arbitrary number of arguments as elements of the
structure. This can, however, lead to inelegant-looking \texttt{FORM}s and extra garbage to be collected. The
\texttt{STRING} \texttt{"TUPLE"} \index{\texttt{""TUPLE""}|textbf} appearing in the argument \texttt{LIST} allows you to
avoid that. It must follow explicit and optional dummy arguments (if there are any of either) and must be followed by an
\texttt{ATOM}.

The effect of \texttt{"TUPLE"} appearing in an argument \texttt{LIST} is the following: any arguments left in the
\texttt{FORM}, after satisfying explicit and optional arguments, are \texttt{EVAL}ed and made sequential elements of an
object of \texttt{TYPE} and \texttt{PRIMTYPE} \texttt{TUPLE}. The \texttt{TUPLE} is the bound to the \texttt{ATOM}
following \texttt{"TUPLE"} in the argument \texttt{LIST}. If there were no arguments left by the time the \texttt{"TUPLE"}
was reached, an empty \texttt{TUPLE} is bound to the \texttt{ATOM}.

An object of \texttt{TYPE} \texttt{TUPLE}\index{\texttt{TUPLE}|textbf} is exactly the same as a \texttt{VECTOR} except that
a \texttt{TUPLE} is not held in garbage-collected storage. It is instead held with \texttt{ATOM} bindings in a control
stack. This does not affect manipulation of the \texttt{TUPLE} within the function generating it or any function called
within that one: it can be treated just like a \texttt{VECTOR}. Note, however, that a \texttt{TUPLE} ceases to exist when
the function which generated it returns. Returning a \texttt{TUPLE} as a value is a good way to generate an error. (A copy
of a \texttt{TUPLE} can easily be generated by segment-evaluating the \texttt{TUPLE} into something; that copy can be
returned.) The predicate \texttt{LEGAL?}\index{\texttt{LEGAL?}} returns \texttt{\#FALSE\ ()} if it is given a
\texttt{TUPLE} generated by an \texttt{APPLICABLE} object which has already returned, and \texttt{T} if it is given a
\texttt{TUPLE} which is still ``good''.

Example:

\begin{verbatim}
<DEFINE NTHARG (N "TUPLE" T)
                ;"Get all but first argument into T."
    <COND (<==? 1 .N> 1)
                ;"If N is 1, return 1st arg, i.e., .N,
                  i.e., 1.  Note that <1? .N> would be
                  true even if .N were 1.0."
          (<L? <LENGTH .T> <SET N <- .N 1>>>
           #FALSE ("DUMMY"))
                ;"Check to see if there is an Nth arg,
                  and make N a good index into T while
                  you're at it.
                  If there isn't an Nth arg, complain."
          (ELSE <NTH .T .N>)>>
\end{verbatim}

\texttt{NTHARG}, above, takes any number of arguments. Its first argument must be of \texttt{TYPE} \texttt{FIX}. It returns
\texttt{EVAL} of its Nth argument, if it has an Nth argument. If it doesn't, it returns \texttt{\#FALSE\ ("DUMMY")}. (The
\texttt{ELSE} is not absolutely necessary in the last clause. If the Nth argument is a \texttt{FALSE}, the \texttt{COND}
will return that \texttt{FALSE}.) Exercise for the reader: \texttt{NTHARG} will generate an error if its first argument is
not \texttt{FIX}. Where and why? (How about \texttt{\textless{}NTHARG\ 1.5\ 2\ 3\textgreater{}}?) Fix it.

\subsubsection{9.2.2. TUPLE (the SUBR) and ITUPLE}\label{tuple-the-subr-and-ituple}

These \texttt{SUBR}s are the same as \texttt{VECTOR} and \texttt{IVECTOR}, except that they build
\texttt{TUPLE}s\index{\texttt{TUPLE}|textbf} (that is, vectors on the control stack). They can be used only at top level in
an \texttt{"OPTIONAL"} list or \texttt{"AUX"} list (see below). The clear advantage of \texttt{TUPLE} and
\texttt{ITUPLE}\index{\texttt{ITUPLE}|textbf} (``implicit tuple'') is in storage-management efficiency. They produce no
garbage, since they are flushed automatically upon function return.

Examples:

\begin{verbatim}
<DEFINE F (A B "AUX" (C <ITUPLE 10 3>)) ...>
\end{verbatim}

creates a 10-element \texttt{TUPLE} and \texttt{SET}s \texttt{C} to it.

\begin{verbatim}
<DEFINE H ("OPTIONAL" (A <ITUPLE 10 '<I>>)
                "AUX" (B <TUPLE !.A 1 2 3>))
                ...>
\end{verbatim}

These are valid uses of \texttt{TUPLE} and \texttt{ITUPLE}. However, the following is \textbf{not} a valid use of
\texttt{TUPLE}, because it is not called at top level of the \texttt{"AUX"}:

\begin{verbatim}
<DEFINE NO (A B "AUX" (C <REST <TUPLE !.A>>)) ...>
\end{verbatim}

However, the desired effect could be achieved by

\begin{verbatim}
<DEFINE OK (A B "AUX" (D <TUPLE !.A>) (C <REST .D>)) ...>
\end{verbatim}

\subsection{\texorpdfstring{9.3. ``AUX'' {[}1{]}}{9.3. AUX {[}1{]}}}\label{aux-1}

\texttt{"AUX"} \index{\texttt{""AUX""}|textbf} (or \texttt{"EXTRA"} \index{\texttt{""EXTRA""}|textbf} -- they're totally
equivalent) are \texttt{STRING}s which, placed in an argument \texttt{LIST}, serve to dynamically allocate temporary
variables for the use of a Function.

\texttt{"AUX"} must appear in the argument \texttt{LIST} after any information about explicit arguments. It is followed by
\texttt{ATOM}s or two-element \texttt{LIST}s as if it were \texttt{"OPTIONAL"}. \index{\texttt{""OPTIONAL""}}
\texttt{ATOM}s in the two-element \texttt{LIST}s are bound to \texttt{EVAL} of the second element in the \texttt{LIST}.
Atoms not in such \texttt{LIST}s are initially \textbf{unassigned}: they are explicitly given ``no'' \texttt{LVAL}.

All binding specified in an argument \texttt{LIST} is done sequentially from first to last, so initialization expressions
for \texttt{"AUX"} (or \texttt{"OPTIONAL"}) can refer to objects which have just been bound. For example, this works:

\begin{verbatim}
<DEFINE AUXEX ("TUPLE" T
                 "AUX" (A <LENGTH .T>) (B <* 2 .A>))
        ![.A .B]>$
AUXEX
<AUXEX 1 2 "FOO">$
![3 6!]
\end{verbatim}

\subsection{9.4. QUOTEd arguments}\label{quoted-arguments}

If an \texttt{ATOM} in an argument \texttt{LIST} which is to be bound to a required or optional argument is surrounded by a
call to \texttt{QUOTE}\index{\texttt{QUOTE}}, that \texttt{ATOM} is bound to the \textbf{unevaluated} argument. Example:

\begin{verbatim}
<DEFINE Q2 (A 'B) (.A .B)>$
Q2
<Q2 <+ 1 2> <+ 1 2>>$
(3 <+ 1 2>)
\end{verbatim}

It is not often appropriate for a function to take its arguments unevaluated, because such a practice makes it less modular
and harder to maintain: it and the programs that call it tend to need to know more about each other, and a change in its
argument structure would tend to require more changes in the programs that call it. And, since few functions, in practice,
do take unevaluated arguments, users tend to assume that no functions do (except \texttt{FSUBR}s of course), and confusion
inevitably results.

\subsection{\texorpdfstring{9.5. ``ARGS''}{9.5. ARGS}}\label{args}

The indicator \texttt{"ARGS"} \index{\texttt{""ARGS""}|textbf} can appear in an argument \texttt{LIST} with precisely the
same syntax as \texttt{"TUPLE"}. However, \texttt{"ARGS"} causes the \texttt{ATOM} following it to be bound to a
\texttt{LIST} of the remaining \textbf{unevaluated} arguments.

\texttt{"ARGS"} does not cause any copying to take place. It simply gives you

\begin{verbatim}
<REST application:form fix>
\end{verbatim}

with an appropriate \emph{fix}. The \texttt{TYPE} change to \texttt{LIST} is a result of the \texttt{REST}. Since the
\texttt{LIST} shares all its elements with the original \texttt{FORM}, \texttt{PUT}s into the \texttt{LIST} will change the
calling program, however dangerous that may be.

Examples:

\begin{verbatim}
<DEFINE QIT (N "ARGS" L) <.N .L>>$
QIT
<QIT 2 <+ 3 4 <LENGTH ,QALL> FOO>$
<LENGTH ,QALL>

<DEFINE FUNCT1 ("ARGS" ARGL-AND-BODY)
        <CHTYPE .ARGL-AND-BODY FUNCTION>>$
FUNCT1
<FUNCT1 (A B) <+ .A .B>>$
#FUNCTION ((A B) <+ .A .B>)
\end{verbatim}

The last example is a perfectly valid equivalent of the \texttt{FSUBR} \texttt{FUNCTION}.

\subsection{\texorpdfstring{9.6. ``CALL''}{9.6. CALL}}\label{call}

The indicator \texttt{"CALL"} \index{\texttt{""CALL""}|textbf} is an ultimate \texttt{"ARGS"}. If it appears in an argument
\texttt{LIST}, it must be followed by an \texttt{ATOM} and must be the only thing used to gather arguments. \texttt{"CALL"}
causes the \texttt{ATOM} which follows it to become bound to the actual \texttt{FORM} that is being evaluated -- that is,
you get the ``function call'' itself. Since \texttt{"CALL"} binds to the \texttt{FORM} itself, and not a copy,
\texttt{PUT}s into that \texttt{FORM} will change the calling code.

\texttt{"CALL"} exists as a Catch-22 for argument manipulation. If you can't do it with \texttt{"CALL"}, it can't be done.

\subsection{\texorpdfstring{9.7. EVAL and ``BIND''}{9.7. EVAL and BIND}}\label{eval-and-bind}

Obtaining unevaluated arguments, for example, for \texttt{QUOTE}\index{\texttt{QUOTE}} and \texttt{"ARGS"}, very often
implies that you wish to evaluate them at some point. You can do this by explicitly calling
\texttt{EVAL}\index{\texttt{EVAL}|textbf}, which is a \texttt{SUBR}. Example:

\begin{verbatim}
<SET F '<+ 1 2>>$
<+ 1 2>
<EVAL .F>$
3
\end{verbatim}

\texttt{EVAL} can take a second argument, of \texttt{TYPE} \texttt{ENVIRONMENT}\index{\texttt{ENVIRONMENT}|textbf} (or
others, see section 20.8). An \texttt{ENVIRONMENT} consists basically of a state of \texttt{ATOM} bindings; it is the
``world'' mentioned in chapter 5. Now, since binding changes the \texttt{ENVIRONMENT}, if you wish to use \texttt{EVAL}
within a \texttt{FUNCTION}\index{\texttt{FUNCTION}}, you probably want to get hold of the environment which existed
\textbf{before} that \texttt{FUNCTION}'s binding took place. The indicator \texttt{"BIND"}
\index{\texttt{""BIND""}|textbf}, which must, if it is used, be the first thing in an argument \texttt{LIST}, provides this
information. It binds the \texttt{ATOM} immediately following it to the \texttt{ENVIRONMENT} existing ``at call time'' --
that is, just before any binding is done for its \texttt{FUNCTION}. Example:

\begin{verbatim}
<SET A 0>$
0
<DEFINE WRONG ('B "AUX" (A 1)) <EVAL .B>>$
WRONG
<WRONG .A>
1
<DEFINE RIGHT ("BIND" E 'B "AUX" (A 1)) <EVAL .B .E>>$
RIGHT
<RIGHT .A>$
0
\end{verbatim}

\subsubsection{9.7.1. Local Values versus ENVIRONMENTs}\label{local-values-versus-environments}

\texttt{SET}, \texttt{LVAL}, \texttt{VALUE}, \texttt{BOUND?}, \texttt{ASSIGNED?}, and \texttt{UNASSIGN} all take a final
optional argument which has not previously been mentioned: an \texttt{ENVIRONMENT}\index{\texttt{ENVIRONMENT}} (or other
\texttt{TYPE}s, see section 20.8). If this argument is given, the \texttt{SET} or \texttt{LVAL} is done in the
\texttt{ENVIRONMENT} specified. \texttt{LVAL} cannot be abbreviated by \texttt{.} (period) if it is given an explicit
second argument.

This feature is just what is needed to cure the \texttt{INC} bug mentioned in chapter 5. A ``correct'' \texttt{INC} can be
defined as follows:

\begin{verbatim}
<DEFINE INC ("BIND" OUTER ATM)
        <SET .ATM <+ 1 <LVAL .ATM .OUTER>> .OUTER>>
\end{verbatim}

\subsection{\texorpdfstring{9.8. ACTIVATION, ``NAME'', ``ACT'', ``AGAIN'', and RETURN
{[}1{]}}{9.8. ACTIVATION, NAME, ACT, AGAIN, and RETURN {[}1{]}}}\label{activation-name-act-again-and-return-1}

\index{\texttt{""ACT""}|textbf} \index{\texttt{ACTIVATION}|textbf} \index{\texttt{AGAIN}|textbf} \texttt{EVAL}uation of a
\texttt{FUNCTION}\index{\texttt{FUNCTION}}, after the argument \texttt{LIST} has been taken care of, normally consists of
\texttt{EVAL}uating each of the objects in the body in the order given, and returning the value of the last thing
\texttt{EVAL}ed. If you want to vary this sequence, you need to know, at least, where the \texttt{FUNCTION} begins.
Actually, \texttt{EVAL} normally hasn't the foggiest idea of where its current \texttt{FUNCTION} began. ``Where'd I start''
information is bundled up with a \texttt{TYPE} called \texttt{ACTIVATION}. In ``normal'' \texttt{FUNCTION}
\texttt{EVAL}uation, \texttt{ACTIVATION}s are not generated: one can be generated, and bound to an \texttt{ATOM}, in either
of the two following ways:

\begin{enumerate}
\def\labelenumi{\arabic{enumi}.}
\tightlist
\item
  Put an \texttt{ATOM} immediately before the argument \texttt{LIST}. The \texttt{ACTIVATION} of the Function will be bound
  to that \texttt{ATOM}.
\item
  As the last thing in the argument \texttt{LIST}, insert either of the \texttt{STRING}s \texttt{"NAME"}
  \index{\texttt{""NAME""}|textbf} or \texttt{"ACT"} and follow it with an \texttt{ATOM}. The \texttt{ATOM} will be bound
  to the \texttt{ACTIVATION} of the Function.
\end{enumerate}

In this document ``Function''\index{\texttt{Function}|textbf} (capitalized) will designate anything that can generate an
\texttt{ACTIVATION}; besides \texttt{TYPE} \texttt{FUNCTION}, this class includes the \texttt{FSUBR}s
\texttt{PROG}\index{\texttt{PROG}}, \texttt{BIND}\index{\texttt{BIND}}, and \texttt{REPEAT}\index{\texttt{REPEAT}}, yet to
be discussed.

Each \texttt{ACTIVATION} refers explicitly to a particular evaluation of a Function. For example, if a recursive
\texttt{FUNCTION} generates an \texttt{ACTIVATION}, a new \texttt{ACTIVATION} referring explicitly to each recursion step
is generated on every recursion.

Like \texttt{TUPLE}s, \texttt{ACTIVATION}s are held in a control stack. Unlike \texttt{TUPLE}s, there is \textbf{no way} to
get a copy of an \texttt{ACTIVATION} which can usefully be returned as a value. (This is a consequence of the fact that
\texttt{ACTIVATION}s refer to evaluations; when the evaluation is finished, the \texttt{ACTIVATION} no longer exists.)
\texttt{ACTIVATION}s can be tested, like \texttt{TUPLE}s, by \texttt{LEGAL?}\index{\texttt{LEGAL?}} for legality. They are
used by the \texttt{SUBR}s \texttt{AGAIN} and \texttt{RETURN}.

\texttt{AGAIN} can take one argument: an \texttt{ACTIVATION}. It means ``start doing this again'', where ``this'' is
specified by the \texttt{ACTIVATION}. Specifically, \texttt{AGAIN} causes \texttt{EVAL} to return to where it started
working on the \textbf{body} of the Function in the evaluation specified by the \texttt{ACTIVATION}. The evaluation is not
redone completely: in particular, no re-binding (of arguments, \texttt{"AUX"} variables, etc.) is done.

\index{\texttt{RETURN}|textbf} \texttt{RETURN} can take two arguments: an arbitrary expression and an \texttt{ACTIVATION},
in that order. It causes the Function evaluation whose \texttt{ACTIVATION} it is given to terminate and return
\texttt{EVAL} of \texttt{RETURN}'s first argument. That is, \texttt{RETURN} means ``quit doing this and return that'',
where ``this'' is the \texttt{ACTIVATION} -- its second argument -- and ``that'' is the expression -- its first argument.
Example:

\begin{verbatim}
<DEFINE MY+ ("TUPLE" T "AUX" (M 0) "NAME" NM)
        <COND (<EMPTY? .T> <RETURN .M .NM>)>
        <SET M <+ .M <1 .T>>>
        <SET T <REST .T>>
        <AGAIN .NM>>$
MY+
<MY+ 1 3 <LENGTH "FOO">>$
7
<MY+>$
0
\end{verbatim}

Note: suppose an \texttt{ACTIVATION} of one Function (call it \texttt{F1}) is passed to another Function (call it
\texttt{F2}) -- for example, via an application of \texttt{F2} within \texttt{F1} with \texttt{F1}'s \texttt{ACTIVATION} as
an argument. If \texttt{F2} \texttt{RETURN}s to \texttt{F1}'s \texttt{ACTIVATION}, \texttt{F2} \textbf{and} \texttt{F1}
terminate immediately, and \textbf{\texttt{F1}} returns the \texttt{RETURN}'s first argument. This technique is suitable
for error exits. \texttt{AGAIN} can clearly pull a similar trick. In the following example, \texttt{F1} computes the sum of
\texttt{F2} applied to each of its arguments; \texttt{F2} computes the product of the elements of its structured argument,
but it aborts if it finds an element that is not a number.

\begin{verbatim}
<DEFINE F1 ACT ("TUPLE" T "AUX" (T1 .T))
        <COND (<NOT <EMPTY? .T1>>
               <PUT .T1 1 <F2 <1 .T1> .ACT>>
               <SET T1 <REST .T1>>
               <AGAIN .ACT>)
              (ELSE <+ !.T>)>>$
F1
<DEFINE F2 (S A "AUX" (S1 .S))
        <REPEAT MY-ACT ((PRD 1))
           <COND (<NOT <EMPTY? .S1>>
                  <COND (<NOT <TYPE? 1 .S1> FIX FLOAT>>
                         <RETURN #FALSE ("NON-NUMBER") .A>)
                        (ELSE <SET PRD <* .PRD <1 .S1>>>)>
                  <SET S1 <REST .S1>>)
                 (ELSE <RETURN .PRD>)>>>$
F2

<F1 '(1 2) '(3 4)>$
14
<F1 '(T 2) '(3 4)>$
#FALSE ("NON-NUMBER")
\end{verbatim}

\subsection{9.9. Argument List Summary}\label{argument-list-summary}

The following is a listing of all the various tokens which can appear in the argument \texttt{LIST} of a \texttt{FUNCTION},
in the order in which they can occur. Short descriptions of their effects are included. \textbf{All} of them are
\textbf{optional} -- that is, any of them (in any position) can be left out or included -- but the order in which they
appear \textbf{must} be that of this list. ``\texttt{QUOTE}d \texttt{ATOM}'', ``matching object'', and ``2-list'' are
defined below.

\begin{enumerate}
\def\labelenumi{(\arabic{enumi})}
\tightlist
\item
  \texttt{"BIND"} \index{\texttt{""BIND""}}
\end{enumerate}

must be followed by an \texttt{ATOM}. It binds that \texttt{ATOM} to the \texttt{ENVIRONMENT} which existed when the
\texttt{FUNCTION} was applied.

\begin{enumerate}
\def\labelenumi{(\arabic{enumi})}
\setcounter{enumi}{1}
\tightlist
\item
  \texttt{ATOM}s and \texttt{QUOTE}d \texttt{ATOM}s (any number)
\end{enumerate}

are required arguments. \texttt{QUOTE}d \texttt{ATOM}s are bound to the matching object. \texttt{ATOM}s are bound to
\texttt{EVAL} of the matching object in the \texttt{ENVIRONMENT} existing when the \texttt{FUNCTION} was applied.

\begin{enumerate}
\def\labelenumi{(\arabic{enumi})}
\setcounter{enumi}{2}
\tightlist
\item
  \texttt{"OPTIONAL"} or \texttt{"OPT"} \index{\texttt{""OPT""}} \index{\texttt{""OPTIONAL""}} (they're equivalent)
\end{enumerate}

is followed by any number of \texttt{ATOM}s, \texttt{QUOTE}d \texttt{ATOM}s, or 2-lists. These are optional arguments. If a
matching object exists, an \texttt{ATOM} -- either standing alone or the first element of a 2-list -- is bound to
\texttt{EVAL} of the object, performed in the \texttt{ENVIRONMENT} existing when the \texttt{FUNCTION} was applied. A
\texttt{QUOTE}d \texttt{ATOM} -- alone or in a 2-list -- is bound to the matching object itself. If no such object exists,
\texttt{ATOM}s and \texttt{QUOTE}d \texttt{ATOM}s are left unbound, and the first element of each 2-list is bound to
\texttt{EVAL} of the corresponding second element. (This \texttt{EVAL} is done in the new \texttt{ENVIRONMENT} of the
Function as it is being constructed.)

\begin{enumerate}
\def\labelenumi{(\arabic{enumi})}
\setcounter{enumi}{3}
\tightlist
\item
  \texttt{"ARGS"} (and \textbf{not} \texttt{"TUPLE"})
\end{enumerate}

must be followed by an \texttt{ATOM}. The \texttt{ATOM} is bound to a \texttt{LIST} of \textbf{all} the remaining
arguments, \textbf{unevaluated}. (If there are no more arguments, the \texttt{LIST} is empty.) This \texttt{LIST} is
actually a \texttt{REST} of the \texttt{FORM} applying the \texttt{FUNCTION}. If \texttt{"ARGS"} \index{\texttt{""ARGS""}}
appears in the argument \texttt{LIST}, \texttt{"TUPLE"} should not appear.

\begin{enumerate}
\def\labelenumi{(\arabic{enumi})}
\setcounter{enumi}{3}
\tightlist
\item
  \texttt{"TUPLE"} \index{\texttt{""TUPLE""}} (and \textbf{not} \texttt{"ARGS"})
\end{enumerate}

must be followed by an \texttt{ATOM}. The \texttt{ATOM} is bound to a \texttt{TUPLE} (``\texttt{VECTOR} on the control
stack'') of all the remaining arguments, \textbf{evaluated} in the environment existing when the \texttt{FUNCTION} was
applied. (If no arguments remain, the \texttt{TUPLE} is empty.) If \texttt{"TUPLE"} appears in the argument \texttt{LIST},
\texttt{"ARGS"} should not appear.

\begin{enumerate}
\def\labelenumi{(\arabic{enumi})}
\setcounter{enumi}{4}
\tightlist
\item
  \texttt{"AUX"} or \texttt{"EXTRA"} \index{\texttt{""AUX""}} \index{\texttt{""EXTRA""}} (they're equivalent)
\end{enumerate}

is followed by any number of \texttt{ATOM}s or 2-lists. These are auxiliary variables, bound away from the previous
environment for the use of this Function. \texttt{ATOM}s are bound in the \texttt{ENVIRONMENT} of the Function, but they
are unassigned; the first element of each 2-list is both bound and assigned to \texttt{EVAL} of the corresponding second
element. (This \texttt{EVAL} is done in the new \texttt{ENVIRONMENT} of the Function as it is being constructed.)

\begin{enumerate}
\def\labelenumi{(\arabic{enumi})}
\setcounter{enumi}{5}
\tightlist
\item
  \texttt{"NAME"} \index{\texttt{""NAME""}} or \texttt{"ACT"} \index{\texttt{""ACT""}} (they're equivalent)
\end{enumerate}

must be followed by an \texttt{ATOM}. The \texttt{ATOM} is bound to the \texttt{ACTIVATION} of the current evaluation of
the Function.

\textbf{ALSO} -- in place of sections (2) (3) \textbf{and} (4), you can have \index{\texttt{""CALL""}}

(2-3-4) \texttt{"CALL"}

which must be followed by an \texttt{ATOM}. The \texttt{ATOM} is bound to the \texttt{FORM} which caused application of
this \texttt{FUNCTION}.

The special terms used above mean this:

``\texttt{QUOTE}d \texttt{ATOM}'' -- a two-element \texttt{FORM} whose first element is the \texttt{ATOM} \texttt{QUOTE},
and whose second element is any \texttt{ATOM}. (Can be typed -- and will be \texttt{PRINT}ed -- as
\texttt{\textquotesingle{}atom}.)

``Matching object'' -- that element of a \texttt{FORM} whose position in the \texttt{FORM} matches the position of a
required or optional argument in an argument \texttt{LIST}.

``2-list'' -- a two-element \texttt{LIST} whose first element is an \texttt{ATOM} (or \texttt{QUOTE}d \texttt{ATOM}: see
below) and whose second element can be anything but a \texttt{SEGMENT}. \texttt{EVAL} of the second element is assigned to
a new binding of the first element (the \texttt{ATOM}) as the ``value by default'' in \texttt{"OPTIONAL"} or the ``initial
value'' in \texttt{"AUX"}. In the case of \texttt{"OPTIONAL"}, the first element of a 2-list can be a \texttt{QUOTE}d
\texttt{ATOM}; in this case, an argument which is supplied is not \texttt{EVAL}ed, but if it is not supplied the second
element of the \texttt{LIST} \textbf{is} \texttt{EVAL}ed and assigned to the \texttt{ATOM}.

\subsection{9.10. APPLY {[}1{]}}\label{apply-1}

Occasionally there is a valid reason for the first element of a \texttt{FORM} not to be an \texttt{ATOM}. For example, the
object to be applied to arguments may be chosen at run time, or it may depend on the arguments in some way. While
\texttt{EVAL} is perfectly happy in this case to \texttt{EVAL}uate the first element and go on from there, the compiler
(Lebling, 1979) can generate more efficient code if it knows whether the result of the evaluation will (1) always be of
\texttt{TYPE} \texttt{FIX}, (2) always be an applicable non-\texttt{FIX} object that evaluates all its arguments, or (3)
neither. The easiest way to tell the compiler if (1) or (2) is true is to use the \texttt{ATOM}
\texttt{NTH}\index{\texttt{NTH}} (section 7.1.2) or \texttt{PUT}\index{\texttt{PUT}} (section 7.1.4) in case (1) or
\texttt{APPLY} in case (2) as the first element of the \texttt{FORM}. (Note: case (1) can compile into in-line code, but
case (2) compiles into a fully mediated call into the interpreter.)

\begin{verbatim}
<APPLY object arg-1 ... arg-N>
\end{verbatim}

\index{\texttt{APPLY}|textbf} evaluates \emph{object} and all the \emph{arg-i}'s and then applies the former to all the
latter. An error occurs if \emph{object} evaluates to something not applicable, or to an \texttt{FSUBR}, or to a
\texttt{FUNCTION} (or user Subroutine -- chapter 19) with \texttt{"ARGS"} or \texttt{"CALL"} or \texttt{QUOTE}d arguments.

Example:

\begin{verbatim}
<APPLY <NTH .ANALYZERS
            <LENGTH <MEMQ <TYPE .ARG> .ARGTYPES>>>
       .ARG>
\end{verbatim}

calls a function to analyze \texttt{.ARG}. Which function is called depends on the \texttt{TYPE} of the argument; this
represents the idea of a dispatch table.

\subsection{9.11. CLOSURE}\label{closure}

\begin{verbatim}
<CLOSURE function a1 ... aN>
\end{verbatim}

\index{\texttt{CLOSURE}|textbf} where \emph{function} is a \texttt{FUNCTION}, and \emph{a1} through \emph{aN} are any
number of \texttt{ATOM}s, returns an object of \texttt{TYPE} \texttt{CLOSURE}. This can be applied like any other function,
but, whenever it is applied, the \texttt{ATOM}s given in the call to \texttt{CLOSURE} are \textbf{first} bound to the
\texttt{VALUE}s they had when the \texttt{CLOSURE} was generated, then the \emph{function} is applied as normal. This is a
``poor man's \texttt{funarg}''.

A \texttt{CLOSURE} is useful when a \texttt{FUNCTION} must have state information remembered between calls to it,
especially in these two cases: when the \texttt{LVAL}s of external state \texttt{ATOM}s might be compromised by other
programs, or when more than one distinct sequence of calls are active concurrently. Example of the latter: each object of a
structured \texttt{NEWTYPE} might have an associated \texttt{CLOSURE} that coughs up one element at a time, with a value in
the \texttt{CLOSURE} that is a structure containing all the relevant information.

\section{Chapter 10. Looping}\label{chapter-10.-looping}

\subsection{10.1. PROG and REPEAT {[}1{]}}\label{prog-and-repeat-1}

\texttt{PROG} \index{\texttt{PROG}|textbf} and \texttt{REPEAT} \index{\texttt{REPEAT}|textbf} are almost identical
\texttt{FSUBR}s \index{\texttt{FSUBR}} which make it possible to vary the order of \texttt{EVAL}uation arbitrarily -- that
is, to have ``jumps''. The syntax of \texttt{PROG} (``program'') is

\begin{verbatim}
<PROG act:atom aux:list body>
\end{verbatim}

where

\begin{itemize}
\tightlist
\item
  \emph{act} is an optional \texttt{ATOM}, which is bound to the \texttt{ACTIVATION} of the \texttt{PROG}.
\item
  \emph{aux} is a \texttt{LIST} which looks exactly like that part of a \texttt{FUNCTION}'s argument \texttt{LIST} which
  follows an \texttt{"AUX"}, and serves exactly the same purpose. It is not optional. If you need no temporary variables or
  \texttt{"ACT"}, make it \texttt{()}.
\item
  \emph{body} is a non-zero number of arbitrary MDL expressions.
\end{itemize}

The syntax of \texttt{REPEAT} is identical, except that, of course, \texttt{REPEAT} is the first element of the
\texttt{FORM}, not \texttt{PROG}.

\subsubsection{10.1.1. Basic EVALuation {[}1{]}}\label{basic-evaluation-1}

Upon entering a \texttt{PROG}, an \texttt{ACTIVATION} is \textbf{always} generated. If there is an \texttt{ATOM} in the
right place, the \texttt{ACTIVATION} is also bound to that \texttt{ATOM}. The variables in the \emph{aux} (if any) are then
bound as indicated in the \emph{aux}. All of the expressions in \emph{body} are then \texttt{EVAL}uated in their order of
occurrence. If nothing untoward happens, you leave the \texttt{PROG} upon evaluating the last expression in \emph{body},
returning the value of that last expression.

\texttt{PROG} thus provides a way to package together a group of things you wish to do, in a somewhat more limited way than
can be done with a \texttt{FUNCTION}. But \texttt{PROG}s are generally used for their other properties.

\texttt{REPEAT} acts in all ways \textbf{exactly} like a \texttt{PROG} whose last expression is
\texttt{\textless{}AGAIN\textgreater{}}. The only way to leave a \texttt{REPEAT} is to explicitly use \texttt{RETURN} (or
\texttt{GO} with a \texttt{TAG} -- section 10.4).

\subsubsection{10.1.2. AGAIN and RETURN in PROG and REPEAT {[}1{]}}\label{again-and-return-in-prog-and-repeat-1}

Within a \texttt{PROG} or \texttt{REPEAT}, you always have a defined \texttt{ACTIVATION}, whether you bind it to an
\texttt{ATOM} or not. {[}In fact the interpreter binds it to the \texttt{ATOM} \texttt{LPROG\textbackslash{}\ !-INTERRUPTS}
\index{\texttt{LPROG"\textbackslash{}}|textbf} (``last PROG''). The \texttt{FSUBR} \index{\texttt{FSUBR}} \texttt{BIND}
\index{\texttt{BIND}|textbf} is identical to \texttt{PROG} except that \texttt{BIND} does not bind that \texttt{ATOM}, so
that \texttt{AGAIN} \index{\texttt{AGAIN}|textbf} and \texttt{RETURN} \index{\texttt{RETURN}|textbf} with no
\texttt{ACTIVATION} argument will not refer to it. This feature could be useful within \texttt{MACRO}s.
\index{\texttt{MACRO}}{]}

If \texttt{AGAIN} is used with no arguments, it uses the \texttt{ACTIVATION} of the closest surrounding \texttt{PROG} or
\texttt{REPEAT} \textbf{within the current function} (an error occurs if there is none) and re-starts the \texttt{PROG} or
\texttt{REPEAT} without rebinding the \emph{aux} variables, just the way it works in a \texttt{FUNCTION}. With an argument,
it can of course re-start any Function (\texttt{PROG} or \texttt{REPEAT} or \texttt{FUNCTION}) within which it is embedded
at run time.

As with \texttt{AGAIN}, if \texttt{RETURN} is given no \texttt{ACTIVATION} argument, it uses the \texttt{ACTIVATION} of the
closest surrounding \texttt{PROG} or \texttt{REPEAT} within the current function and causes that \texttt{PROG} or
\texttt{REPEAT} to terminate and return \texttt{RETURN}'s first argument. If \texttt{RETURN} is given \textbf{no}
arguments, it causes the closest surrounding \texttt{PROG} or \texttt{REPEAT} to return the \texttt{ATOM} \texttt{T}. Also
like \texttt{AGAIN}, it can, with an \texttt{ACTIVATION} argument, terminate any Function within which it is embedded at
run time.

\subsubsection{10.1.3. Examples {[}1{]}}\label{examples-1-2}

Examples of the use of \texttt{PROG} are difficult to find, since it is almost never necessary, and it slows down the
interpreter (chapter 24). \texttt{PROG} can be useful as a point of return from the middle of a computation, or inside a
\texttt{COND} (which see), but we won't exemplify those uses. Instead, what follows is an example of a typically poor use
of \texttt{PROG} which has been observed among Lisp (Moon, 1974) programmers using MDL. Then, the same thing is done using
\texttt{REPEAT}. In both cases, the example \texttt{FUNCTION} just adds up all its arguments and returns the sum. (The
\texttt{SUBR} \texttt{GO} is discussed in section 10.4.)

\begin{verbatim}
;"Lisp style"
    <DEFINE MY+ ("TUPLE" TUP)
            <PROG (SUM)
                    <SET SUM 0>
              LP    <COND (<EMPTY? .TUP> <RETURN .SUM>)>
                    <SET SUM <+ .SUM <1 .TUP>>>
                    <SET TUP <REST .TUP>>
                    <GO LP>>>

;"MDL style"
    <DEFINE MY+ ("TUPLE" TUP)
            <REPEAT ((SUM 0))
                    <COND (<EMPTY? .TUP> <RETURN .SUM>)>
                    <SET SUM <+ .SUM <1 .TUP>>
                    <SET TUP <REST .TUP>>>>
\end{verbatim}

Of course, neither of the above is optimal MDL code for this problem, since \texttt{MY+} can be written using
\texttt{SEGMENT} evaluation as

\begin{verbatim}
<DEFINE MY+ ("TUPLE" TUP) <+ !.TUP>>
\end{verbatim}

There are, of course, lots of problems which can't be handled so simply, and lots of uses for \texttt{REPEAT}.

\subsection{10.2. MAPF and MAPR: Basics {[}1{]}}\label{mapf-and-mapr-basics-1}

\texttt{MAPF} \index{\texttt{MAPF}|textbf} (``map first'') and \texttt{MAPR} \index{\texttt{MAPR}|textbf} (``map rest'')
are two \texttt{SUBR}s which take care of a majority of cases which require loops over data. The basic idea is the
following:

Suppose you have a \texttt{LIST} (or other structure) of data, and you want to apply a particular function to each element.
That is exactly what \texttt{MAPF} does: you give it the function and the structure, and it applies the function to each
element of the structure, starting with the first.

On the other hand, suppose you want to \textbf{change} each element of a structure according to a particular algorithm.
This can be done only with great pain using \texttt{MAPF}, since you don't have easy access to the \textbf{structure}
inside the function: you have only the structure's elements. \texttt{MAPR} solves the problem by applying a function to
\texttt{REST}s of a structure: first to \texttt{\textless{}REST\ structure\ 0\textgreater{}}, then to
\texttt{\textless{}REST\ structure\ 1\textgreater{}}, etc. Thus, the function can change the structure by changing its
argument, for example, by a \texttt{\textless{}PUT\ argument\ 1\ something\textgreater{}}. It can even \texttt{PUT} a new
element farther down the structure, which will be seen by the function on subsequent applications.

Now suppose, in addition to applying a function to a structure, you want to record the results -- the values returned by
the function -- in another structure. Both \texttt{MAPF} and \texttt{MAPR} can do this: they both take an additional
function as an argument, and, when the looping is over, apply the additional function to \textbf{all} the results, and then
return the results of that application. Thus, if the additional function is \texttt{,LIST}, you get a \texttt{LIST} of the
previous results; if it is \texttt{,VECTOR}, you get a \texttt{VECTOR} of results; etc.

Finally, it might be the case that you really want to loop a function over more than one structure simultaneously. For
instance, consider creating a \texttt{LIST} whose elements are the element-by-element sum of the contents of two other
\texttt{LIST}s. Both \texttt{MAPF} and \texttt{MAPR} allow this; you can, in fact, give each of them any number of
structures full of arguments for your looping function.

This was all mentioned because \texttt{MAPF} and \texttt{MAPR} appear to be complex when seen baldly, due to the fact that
the argument descriptions must take into account the general case. Simpler, degenerate cases are usually the ones used.

\subsubsection{10.2.1. MAPF {[}1{]}}\label{mapf-1}

\begin{verbatim}
<MAPF finalf loopf s1 s2 ... sN>
\end{verbatim}

\index{\texttt{MAPF}} where (after argument evaluation)

\begin{itemize}
\tightlist
\item
  \emph{finalf} is something applicable that evaluates all its arguments, or a \texttt{FALSE};
\item
  \emph{loopf} is something applicable to \emph{N} arguments that evaluates all its arguments; and
\item
  \emph{s1} through \emph{sN} are structured objects (any \texttt{TYPE})
\end{itemize}

does the following:

\begin{enumerate}
\def\labelenumi{\arabic{enumi}.}
\tightlist
\item
  First, it applies \emph{loopf} to \emph{N} arguments: the first element of each of the structures. Then it \texttt{REST}s
  each of the structures, and does the application again, looping until \textbf{any} of the structures runs out of
  elements. Each of the values returned by \emph{loopf} is recorded in a \texttt{TUPLE}.
\item
  Then, it applies \emph{finalf} to all the recorded values simultaneously, and returns the result of that application. If
  \emph{finalf} is a \texttt{FALSE}, the recorded values are ``thrown away'' (actually never recorded in the first place)
  and the \texttt{MAPF} returns only the last value returned by \emph{loopf}. If any of the \emph{si} structures is empty,
  to that \emph{loopf} is never invoked, \emph{finalf} is applied to \textbf{no} arguments; if \emph{finalf} is a
  \texttt{FALSE}, \texttt{MAPF} returns \texttt{\#FALSE\ ()}.
\end{enumerate}

\subsubsection{10.2.2. MAPR {[}1{]}}\label{mapr-1}

\begin{verbatim}
<MAPR finalf loopf s1 s2 ... sN>
\end{verbatim}

\index{\texttt{MAPR}} acts just like \texttt{MAPF}, but, instead of applying \emph{loopf} to \texttt{NTH}s of the
structures -- that is, \texttt{\textless{}NTH\ si\ 1\textgreater{}}, \texttt{\textless{}NTH\ si\ 2\textgreater{}}, etc. --
it applies it to \texttt{REST}s of the structures -- that is, \texttt{\textless{}REST\ si\ 0\textgreater{}},
\texttt{\textless{}REST\ si\ 1\textgreater{}}, etc.

\subsubsection{10.2.3. Examples {[}1{]}}\label{examples-1-3}

Make the element-wise sum of two \texttt{LIST}s:

\begin{verbatim}
<MAPF ,LIST ,+ '(1 2 3 4) '(10 11 12 13)>$
(11 13 15 17)
\end{verbatim}

Change a \texttt{UVECTOR} to contain double its values:

\begin{verbatim}
<SET UV '![5 6 7 8 9]>$
![5 6 7 8 9!]
<MAPR <>
       #FUNCTION ((L) <PUT .L 1 <* <1 .L> 2>>)
       .UV>$
![18!]
.UV$
![10 12 14 16 18!]
\end{verbatim}

Create a \texttt{STRING} from \texttt{CHARACTER}s:

\begin{verbatim}
<MAPF ,STRING 1 '["MODELING" "DEVELOPMENT" "LIBRARY"]>$
"MDL"
\end{verbatim}

Sum the squares of the elements of a \texttt{UVECTOR}:

\begin{verbatim}
<MAPF ,+ #FUNCTION ((N) <* .N .N>) '![3 4]>$
25
\end{verbatim}

A parallel assignment \texttt{FUNCTION} (Note that the arguments to \texttt{MAPF} are of different lengths.):

\begin{verbatim}
<DEFINE PSET ("TUPLE" TUP)
        <MAPF <>
              ,SET
              .TUP
              <REST .TUP </ <LENGTH .TUP> 2>>>>$
PSET
<PSET A B C 1 2 3>$
3
.A$
1
.B$
2
.C$
3
\end{verbatim}

Note: it is easy to forget that \emph{finalf} \textbf{must} evaluate its arguments, which precludes the use of an
\texttt{FSUBR}. It is primarily for this reason that the \texttt{SUBR}s \texttt{AND?} \index{\texttt{AND?}|textbf} and
\texttt{OR?} \index{\texttt{OR?}} were invented. As an example, the predicate \texttt{=?} \index{\texttt{=?}} could have
been defined this way:

\begin{verbatim}
<DEFINE =? (A B)
        <COND (<MONAD? .A> <==? .A .B>)
              (<AND <NOT <MONAD? .B>>
                    <==? <TYPE .A> <TYPE .B>>
                    <==? <LENGTH .A> <LENGTH .B>>>
               <MAPF ,AND? ,=? .A .B>)>>
\end{verbatim}

{[}By the way, the following shows how to construct a value that has the same \texttt{TYPE} \index{\texttt{TYPE}} as an
argument.

\begin{verbatim}
<DEFINE MAP-NOT (S)
 <COND (<MEMQ <PRIMTYPE .S> '![LIST VECTOR UVECTOR STRING]>
        <CHTYPE <MAPF ,<PRIMTYPE .S> ,NOT .S>
                <TYPE .S>>)>>
\end{verbatim}

It works because the \texttt{ATOM}s that name the common \texttt{STRUCTURED} \texttt{PRIMTYPS}s (\texttt{LIST},
\texttt{VECTOR}, \texttt{UVECTOR} and \texttt{STRING}) have as \texttt{GVAL}s the corresponding \texttt{SUBR}s to build
objects of those \texttt{TYPE}s.{]}

\subsection{10.3. More on MAPF and MAPR}\label{more-on-mapf-and-mapr}

\subsubsection{10.3.1. MAPRET}\label{mapret}

\texttt{MAPRET} \index{\texttt{MAPRET}|textbf} is a \texttt{SUBR} that enables the \emph{loopf} being used in a
\texttt{MAPR} or \texttt{MAPF} (and lexically within it, that is, not separated from it by a function call) to return from
zero to any number of values as opposed to just one. For example, suppose a \texttt{MAPF} of the following form is used:

\begin{verbatim}
<MAPF ,LIST <FUNCTION (E) ...> ...>
\end{verbatim}

Now suppose that the programmer wants to add no elements to the final \texttt{LIST} on some calls to the \texttt{FUNCTION}
and add many on other calls to the \texttt{FUNCTION}. To accomplish this, the \texttt{FUNCTION} simply calls
\texttt{MAPRET} with the elements it wants added to the \texttt{LIST}. More generally, \texttt{MAPRET} causes its arguments
to be added to the final \texttt{TUPLE} of arguments to which the \emph{finalf} will be applied.

Warning: \texttt{MAPRET} is guaranteed to work only if it is called from an explicit \texttt{FUNCTION} which is the second
argument to a \texttt{MAPF} or \texttt{MAPR}. In other words, the second argument to \texttt{MAPF} or \texttt{MAPR} must be
\texttt{\#FUNCTION\ (...)} or \texttt{\textless{}FUNCTION\ ...\textgreater{}} if \texttt{MAPRET} is to be used.

Example: the following returns a \texttt{LIST} of all the \texttt{ATOM}s in an \texttt{OBLIST} (chapter 15):

\begin{verbatim}
<DEFINE ATOMS (OB)
        <MAPF .LIST
              <FUNCTION (BKT) <MAPRET !.BKT>>
              .OB>>
\end{verbatim}

\subsubsection{10.3.2. MAPSTOP}\label{mapstop}

\texttt{MAPSTOP} \index{\texttt{MAPSTOP}|textbf} is the same as \texttt{MAPRET}, except that, after adding its arguments,
if any, to the final \texttt{TUPLE}, it forces the application of \emph{finalf} to occur, whether or not the structured
objects have run out of objects. Example: the following copies the first ten (or all) elements of its argument into a
\texttt{LIST}:

\begin{verbatim}
<DEFINE FIRST-TEN (STRUC "AUX" (I 10))
 <MAPF ,LIST
      <FUNCTION (E)
          <COND (<0? <SET I <- .I 1>>> <MAPSTOP .E>)>
          .E>
      .STRUC>>
\end{verbatim}

\subsubsection{10.3.3. MAPLEAVE}\label{mapleave}

\texttt{MAPLEAVE} \index{\texttt{MAPLEAVE}|textbf} is analogous to \texttt{RETURN}, except that it works in (lexically
within) \texttt{MAPF} or \texttt{MAPR} instead of \texttt{PROG} or \texttt{REPEAT}. It flushes the accumulated
\texttt{TUPLE} of results and returns its argument (optional, \texttt{T} by default) as the value of the \texttt{MAPF} or
\texttt{MAPR}. (It finds the MAPF/R that should returns in the current binding of the \texttt{ATOM}
\texttt{LMAP\textbackslash{}\ !-INTERRUPTS} \index{\texttt{LMAP"\textbackslash{}}|textbf} (``last map'').) Example: the
following finds and returns the first non-zero element of its argument, or \texttt{\#FALSE\ ()} if there is none:

\begin{verbatim}
<DEFINE FIRST-N0 (STRUC)
        <MAPF <>
              <FUNCTION (X)
                <COND (<N==? .X 0> <MAPLEAVE .X>)>>
              .STRUC>>
\end{verbatim}

\subsubsection{10.3.4. Only two arguments}\label{only-two-arguments}

If \texttt{MAPF} or \texttt{MAPR} is given only two arguments, the iteration function \emph{loopf} is applied to no
arguments each time, and the looping continues indefinitely until a \texttt{MAPLEAVE} or \texttt{MAPSTOP} is invoked.
Example: the following returns a \texttt{LIST} of the integers from one less than its argument to zero.

\begin{verbatim}
<DEFINE LNUM (N)
        <MAPF ,LIST
              <FUNCTION ()
                <COND (<=? <SET N <- .N 1>>> <MAPSTOP 0>)
                      (ELSE .N)>>>>
\end{verbatim}

One principle use of this form of MAPF/R involves processing input characters, in cases where you don't know how many
characters are going to arrive. The example below demonstrates this, using \texttt{SUBR}s which are more fully explained in
chapter 11. Another example can be found in chapter 13.

Example: the following \texttt{FUNCTION} reads characters from the current input channel until an \texttt{\$} (ESC) is
read, and then returns what was read as one \texttt{STRING}. (The \texttt{SUBR} \texttt{READCHR} \index{\texttt{READCHR}}
reads one character from the input channel and returns it. \texttt{NEXTCHR} \index{\texttt{NEXTCHR}} returns the next
\texttt{CHARACTER} which \texttt{READCHR} will return -- chapter 11.)

\begin{verbatim}
<DEFINE RDSTR ()
  <MAPF .STRING
        <FUNCTION () <COND (<NOT <==? <NEXTCHR> <ASCII 27>>>
                            <READCHR>)
                           (T
                            <MAPSTOP>)>>>>$
RDSTR

<PROG () <READCHR> ;"Flush the ESC ending this input."
             <RDSTR>>$
ABC123<+ 3 4>$"ABC123<+ 3 4>"
\end{verbatim}

\subsubsection{10.3.5. STACKFORM}\label{stackform}

The \texttt{FSUBR} \index{\texttt{FSUBR}} \texttt{STACKFORM} \index{\texttt{STACKFORM}} is archaic, due to improvements in
the implementation of MAPF/R, and it should not be used in new programs.

\begin{verbatim}
<STACKFORM function arg pred>
\end{verbatim}

is exactly equivalent to

\begin{verbatim}
<MAPF function
      <FUNCTION () <COND (pred arg) (T <MAPSTOP>)>>>
\end{verbatim}

In fact MAPF/R is more powerful, because \texttt{MAPRET}, \texttt{MAPSTOP}, and \texttt{MAPLEAVE} provide flexibility not
available with \texttt{STACKFORM}.

\subsection{10.4. GO and TAG}\label{go-and-tag}

\texttt{GO} \index{\texttt{GO}|textbf} is provided in MDL for people who can't recover from a youthful experience with
Basic, Fortran, PL/I, etc. The \texttt{SUBR}s previously described in this chapter are much more tasteful for making good,
clean, ``structured'' programs. \texttt{GO} just bollixes things.

\texttt{GO} is a \texttt{SUBR} which allows you to break the normal order of evaluation and re-start just before any
top-level expression in a \texttt{PROG} or \texttt{REPEAT}. It can take two \texttt{TYPE}s of arguments: \texttt{ATOM} or
\texttt{TAG}. \index{\texttt{TAG}|textbf}

Given an \texttt{ATOM}, \texttt{GO} searches the \emph{body} of the immediately surrounding \texttt{PROG} or
\texttt{REPEAT} within the current Function, starting after \emph{aux}, for an occurrence of that \texttt{ATOM} at the top
level of \emph{body}. (This search is effectively a \texttt{MEMQ}.) If it doesn't find the \texttt{ATOM}, an error occurs.
If it does, evaluation is resumed at the expression following the \texttt{ATOM}.

The \texttt{SUBR} \texttt{TAG} generates and returns objects of \texttt{TYPE} \texttt{TAG}. This \texttt{SUBR} takes one
argument: an \texttt{ATOM} which would be a legal argument for a \texttt{GO}. An object of \texttt{TYPE} \texttt{TAG}
contains sufficient information to allow you to \texttt{GO} to any top-level position in a \texttt{PROG} or \texttt{REPEAT}
from within any function called inside the \texttt{PROG} or \texttt{REPEAT}. \texttt{GO} with a \texttt{TAG} is vaguely
like \texttt{AGAIN} with an \texttt{ACTIVATION}; it allows you to ``go back'' to the middle of any \texttt{PROG} or
\texttt{REPEAT} which called you. Also like \texttt{ACTIVATION}s, \texttt{TAG}s into a \texttt{PROG} or \texttt{REPEAT} can
no longer be used after the \texttt{PROG} or \texttt{REPEAT} has returned. \texttt{LEGAL?} \index{\texttt{LEGAL?}} can be
used to see if a \texttt{TAG} is still valid.

\subsection{10.5. Looping versus Recursion}\label{looping-versus-recursion}

Since any program in MDL can be called recursively, champions of ``pure Lisp'' (Moon, 1974) or somesuch may be tempted to
implement any repetitive algorithm using recursion. The advantage of the looping techniques described in this chapter over
recursion is that the overhead of calls is eliminated. However, a long program (say, bigger than half a printed page) may
be more difficult to write iteratively than recursively and hence more difficult to maintain. A program whose repetition is
controlled by a structured object (for example, ``walking a tree'' to visit each monad in the object) often should use
looping for covering one ``level'' of the structure and recursion to change ``levels''.

\section{Chapter 11. Input/Output}\label{chapter-11.-inputoutput}

The MDL interpreter can transmit information between an object in MDL and an external device in three ways. Historically,
the first way was to \textbf{convert} an object into a string of characters, or vice versa. The transformation is nearly
one-to-one (although some MDL objects, for example \texttt{TUPLE}s, cannot be input in this way) and is similar in style to
Fortran's formatted I/O. It is what \texttt{READ} and \texttt{PRINT} do, and it is the normal method for terminal I/O.

The second way is used for the contents of MDL objects rather than the objects themselves. Here an \textbf{image} of
numbers or characters within an object is transmitted, similar in style to Fortran's unformatted I/O.

The third way is to \textbf{dump} an object in a clever format so that it can be reproduced exactly when input the next
time. Exact reproduction means that any sharing between structures or self-reference is preserved: only the garbage
collector itself can do I/O in this way.

\subsection{11.1. Conversion I/O}\label{conversion-io}

All conversion-I/O \texttt{SUBR}s in MDL take an optional argument which directs their attention to a specific I/O channel.
This section will describe \texttt{SUBR}s without their optional arguments. In this situation, they all refer to a
particular channel by default, initially the terminal running the MDL. When given an optional argument, that argument
follows any arguments indicated here. Some of these \texttt{SUBR}s also have additional optional arguments, relevant to
conversion, discussion of which will be deferred until later.

\subsubsection{11.1.1. Input}\label{input}

All of the following input Subroutines, when directed at a terminal, hang until \texttt{\$} \index{\texttt{\$}} (ESC) is
typed and allow normal use of rubout\index{\texttt{rubout}}, \^{}D\index{\texttt{"\^{}D}}, \^{}L\index{\texttt{"\^{}L}} and
\^{}@\index{\texttt{"\^{}"@}}.

\paragraph{11.1.1.1. READ}\label{read}

\begin{verbatim}
<READ>
\end{verbatim}

\index{\texttt{READ}|textbf} This returns the entire MDL object whose character representation is next in the input stream.
Successive \texttt{\textless{}READ\textgreater{}}s return successive objects. This is precisely the \texttt{SUBR}
\texttt{READ} mentioned in chapter 2. See also sections 11.3, 15.7.1, and 17.1.3 for optional arguments.

\paragraph{11.1.1.2. READCHR}\label{readchr}

\begin{verbatim}
<READCHR>
\end{verbatim}

\index{\texttt{READCHR}|textbf} (``read character'') returns the next \texttt{CHARACTER} in the input stream. Successive
\texttt{\textless{}READCHR\textgreater{}}s return successive \texttt{CHARACTER}s.

\paragraph{11.1.1.3. NEXTCHR}\label{nextchr}

\begin{verbatim}
<NEXTCHR>
\end{verbatim}

\index{\texttt{NEXTCHR}|textbf} (``next character'') returns the \texttt{CHARACTER} which \texttt{READCHR} will return the
next time \texttt{READCHR} is called. Multiple \texttt{\textless{}NEXTCHR\textgreater{}}s, with no input operations between
them, all return the same thing.

\subsubsection{11.1.2. Output}\label{output}

If an object to be output requires (or can tolerate) separators within it (for example, between the elements in a
structured object or after the \texttt{TYPE} name in ``\# notation''), these conversion-output \texttt{SUBR}s will use a
carriage-return/line-feed separator to prevent overflowing a line. Overflow is detected in advance from elements of the
\texttt{CHANNEL} in use (section 11.2.8).

\paragraph{11.1.2.1. PRINT}\label{print}

\begin{verbatim}
<PRINT any>
\end{verbatim}

\index{\texttt{PRINT}|textbf} This outputs, in order,

\begin{enumerate}
\def\labelenumi{\arabic{enumi}.}
\tightlist
\item
  a carriage-return line-feed,
\item
  the character representation of \texttt{EVAL} of its argument (\texttt{PRINT} is a \texttt{SUBR}), and
\item
  a space
\end{enumerate}

and then returns \texttt{EVAL} of its argument. This is precisely the \texttt{SUBR} \texttt{PRINT} mentioned in chapter 2.

\paragraph{11.1.2.2. PRIN1}\label{prin1}

\begin{verbatim}
<PRIN1 any>
\end{verbatim}

\index{\texttt{PRIN1}|textbf} outputs just the representation of, and returns, \texttt{EVAL} of \emph{any}.

\paragraph{11.1.2.3. PRINC}\label{princ}

\begin{verbatim}
<PRINC any>
\end{verbatim}

\index{\texttt{PRINC}|textbf} (``print characters'') acts exactly like \texttt{PRIN1}, except that

\begin{enumerate}
\def\labelenumi{\arabic{enumi}.}
\tightlist
\item
  if its argument is a \texttt{STRING} \index{\texttt{STRING}} or a \texttt{CHARACTER} \index{\texttt{CHARACTER}}, it
  suppresses the surrounding \texttt{"}s \index{\texttt{""}} or initial \texttt{!\textbackslash{}}
  \index{\texttt{"!"\textbackslash{}}} respectively; or
\item
  if its argument is an \texttt{ATOM} \index{\texttt{ATOM}}, it suppresses any
  \texttt{\textbackslash{}}s\index{\texttt{"\textbackslash{}}} or \texttt{OBLIST} \index{\texttt{OBLIST}} trailers (chapter
  15) which would otherwise be necessary.
\end{enumerate}

If \texttt{PRINC}'s argument is a structure containing \texttt{STRING}s, \texttt{CHARACTER}s, or \texttt{ATOM}s, the
service mentioned will be done for all of them. Ditto for the \texttt{ATOM} used to name the \texttt{TYPE} in ``\#
notation''. \index{\texttt{\#}}

\paragraph{11.1.2.4. TERPRI}\label{terpri}

\begin{verbatim}
<TERPRI>
\end{verbatim}

\index{\texttt{TERPRI}|textbf} (``terminate printing'') outputs a carriage-return line-feed and then returns
\texttt{\#\ FALSE\ ()}!

\paragraph{11.1.2.5. CRLF}\label{crlf}

\index{\texttt{CRLF}|textbf} (``carriage-return line-feed'') outputs a carriage-return line-feed and then returns
\texttt{T}.

\paragraph{11.1.2.6. FLATSIZE}\label{flatsize}

\begin{verbatim}
<FLATSIZE any max:fix radix:fix>
\end{verbatim}

\index{\texttt{FLATSIZE}|textbf} does not actually cause any output to occur and does not take a \texttt{CHANNEL} argument.
Instead, it compares \emph{max} with the number of characters \texttt{PRIN1} would take to print \emph{any}. If \emph{max}
is less than the number of characters needed (including the case where \emph{any} is self-referencing, \texttt{FLATSIZE}
returns \texttt{\#FALSE\ ()}; otherwise, it returns the number of characters needed by \texttt{PRIN1} \emph{any}.
\emph{radix} (optional, ten by default) is used for converting any \texttt{FIX}es that occur.

This \texttt{SUBR} is especially useful in conjunction with (section 11.2.8) those elements of a \texttt{CHANNEL} which
specify the number of characters per output line and the current position on an input line.

\subsection{11.2. CHANNEL (the TYPE)}\label{channel-the-type}

I/O channels are dynamically assigned in MDL, and are represented by an object of \texttt{TYPE}
\texttt{CHANNEL}\index{\texttt{CHANNEL}|textbf}, which is of \texttt{PRIMTYPE} \texttt{VECTOR}. The format of a
\texttt{CHANNEL} will be explained later, in section 11.2.8. First, how to generate and use them.

\subsubsection{11.2.1. OPEN}\label{open}

\begin{verbatim}
<OPEN mode file-spec>
\end{verbatim}

or

\begin{verbatim}
<OPEN mode name1 name2 device dir>
\end{verbatim}

\texttt{OPEN} \index{\texttt{OPEN}|textbf} is a \texttt{SUBR} which creates and returns a \texttt{CHANNEL}. All its
arguments must be of \texttt{TYPE} \texttt{STRING}, and \textbf{all} are optional. The preceding statement is false when
the \emph{device} is \texttt{"INT"} or \texttt{"NET"}; see sections 11.9 and 11.10. If the attempted opening of an
operating-system I/O channel fails, \texttt{OPEN} returns \texttt{\#FALSE\ (reason:string\ file-spec:string\ status:fix)},
where the \emph{reason} and the \emph{status} are supplied by the operating system, and the \texttt{file-spec} is the
standard name of the file (after any name transformations by the operating system) that MDL was trying to open.

The choice of \emph{mode} is usually determined by which \texttt{SUBR}s will be used on the \texttt{CHANNEL}, and whether
or not the \emph{device} is a terminal. The following table tells which \texttt{SUBR}s can be used with which modes, where
\texttt{OK} indicates an allowed use:

\begin{longtable}[]{@{}lllll@{}}
\toprule
``READ'' \index{\texttt{""READ""}} & ``PRINT'' \index{\texttt{PRINT}} & ``READB'' \index{\texttt{""READB""}} & ``PRINTB''
\index{\texttt{""PRINTB""}}, ``PRINTO'' \index{\texttt{""PRINTO""}|textbf} & mode / SUBRs\tabularnewline
\midrule
\endhead
OK & & OK & & \texttt{READ} \texttt{READCHR} \index{\texttt{READCHR}} \texttt{NEXTCHR} \index{\texttt{NEXTCHR}}
\texttt{READSTRING} \index{\texttt{READSTRING}}\tabularnewline
& & & & \texttt{FILECOPY} \texttt{FILE-LENGTH} \index{\texttt{FILE-LENGTH}} \texttt{LOAD}
\index{\texttt{LOAD}}\tabularnewline
& OK & & OK* & \texttt{PRINT} \index{\texttt{""PRINT""}|textbf} \texttt{PRIN1} \index{\texttt{PRIN1}} \texttt{PRINC}
\index{\texttt{PRINC}} \texttt{IMAGE} \index{\texttt{IMAGE}} \texttt{CRLF} \index{\texttt{CRLF}} \texttt{TERPRI}
\index{\texttt{TERPRI}}\tabularnewline
& & & & \(\ldots\) \texttt{FILECOPY} \index{\texttt{FILECOPY}} \texttt{PRINTSTRING} \index{\texttt{PRINTSTRING}}
\texttt{BUFOUT} \index{\texttt{BUFOUT}} \texttt{NETS} \index{\texttt{NETS}}\tabularnewline
& & & & \(\ldots\) \texttt{RENAME} \index{\texttt{RENAME}}\tabularnewline
& & OK & & \texttt{READB} \texttt{GC-READ} \index{\texttt{GC-READ}}\tabularnewline
& & & OK & \texttt{PRINTB} \texttt{GC-DUMP} \index{\texttt{GC-DUMP}}\tabularnewline
OK & & OK & OK & \texttt{ACCESS} \index{\texttt{ACCESS}}\tabularnewline
OK & OK & OK & OK & \texttt{RESET} \index{\texttt{RESET}}\tabularnewline
OK & OK & & & \texttt{ECHOPAIR} \index{\texttt{ECHOPAIR}}\tabularnewline
OK & & & & \texttt{TTYECHO} \index{\texttt{TTYECHO}} \texttt{TYI} \index{\texttt{TYI}}\tabularnewline
\bottomrule
\end{longtable}

\texttt{*} PRINTing (or \texttt{PRIN1}ing) an \texttt{RSUBR} (chapter 19) on a \texttt{"PRINTB"} or \texttt{"PRINTO"}
\texttt{CHANNEL} has special effects.

\texttt{"PRINTB"} differs from \texttt{"PRINTO"} in that the latter mode is used to update a \texttt{"DSK"}
\index{\texttt{""DSK""}|textbf} file without copying it. \texttt{"READB"} and \texttt{"PRINTB"} are not used with
terminals. \texttt{"READ"} is the mode used by default.

The next one to four arguments to \texttt{OPEN} specify the file involved. If only one \texttt{STRING} is used, it can
contain the entire specification, according to standard operating-system syntax. Otherwise, the string(s) are interpreted
as follows:

\emph{name1} is the first file name, that part to the left of the space (in the ITS \index{\texttt{ITS}} version) or period
(in the Tenex \index{\texttt{Tenex}} and Tops-20 \index{\texttt{Tops-20}} versions). The name used by default is
\texttt{\textless{}VALUE\ NM1\textgreater{}}\index{\texttt{NM1}|textbf}, if any, otherwise \texttt{"INPUT"}.
\index{\texttt{""INPUT""}|textbf}

\emph{name2} is the second file name, that part to the right of the space (ITS) or period (Tenex and Tops-20). The name
used by default is \texttt{\textless{}VALUE\ NM2\textgreater{}}\index{\texttt{NM2}|textbf}, if any, otherwise
\texttt{"\textgreater{}"} \index{\texttt{"">""}|textbf} or \texttt{"MUD"} \index{\texttt{""MUD""}|textbf} and highest
version number (Tenex) or generation number (Tops-20).

\emph{device} is the device name. The name used by default is
\texttt{\textless{}VALUE\ DEV\textgreater{}}\index{\texttt{DEV}|textbf}, if any, otherwise \texttt{"DSK"}. (Devices about
which MDL has no special knowledge are assumed to behave like \texttt{"DSK"}.)

\emph{dir} is the disk-directory name. The name used by default is
\texttt{\textless{}VALUE\ SNM\textgreater{}}\index{\texttt{SNM}|textbf}, if any, otherwise the ``working-directory'' name
as defined by the operating system.

Examples:

\texttt{\textless{}OPEN\ "PRINT"\ "TPL:"\textgreater{}} opens a conversion-output channel to the TPL device.

\texttt{\textless{}OPEN\ "PRINT"\ "DUMMY"\ "NAMES"\ "IPL"\textgreater{}} does the same.

\texttt{\textless{}OPEN\ "PRINT"\ "TPL"\textgreater{}} opens a \texttt{CHANNEL} to the file
\texttt{DSK:TPL\ \textgreater{}} (ITS version) or \texttt{DSK:TPL.MUD} (Tenex and Tops-20 versions).

\texttt{\textless{}OPEN\ "READ"\ "FOO"\ "\textgreater{}"\ "DSK"\ "GUEST"\textgreater{}} opens up a conversion-input
\texttt{CHANNEL} to the given file.

\texttt{\textless{}OPEN\ "READ"\ "GUEST;FOO"\textgreater{}} does the same in the ITS version.

\subsubsection{11.2.2. OPEN-NR}\label{open-nr}

\texttt{OPEN-NR} \index{\texttt{OPEN-NR}|textbf} is the same as \texttt{OPEN}, except that the date and time of last
reference of the opened file are not changes.

\subsubsection{11.2.3. CHANNEL (the SUBR)}\label{channel-the-subr}

\texttt{CHANNEL} \index{\texttt{CHANNEL}|textbf} is called exactly like \texttt{OPEN}, but it \textbf{always} return an
unopened \texttt{CHANNEL}, which can later be opened by \texttt{RESET} \index{\texttt{RESET}} (below) just as if it had
once been open.

\subsubsection{11.2.4. FILE-EXISTS?}\label{file-exists}

\texttt{FILE-EXISTS?} \index{\texttt{FILE-EXISTS?}|textbf} tests for the existence of a file without creating a
\texttt{CHANNEL}, which occupies about a hundred machine words of storage. It takes file-name arguments just like
\texttt{OPEN} (but no \emph{mode} argument) and returns either \texttt{T} or \texttt{\#FALSE\ (reason:string\ status:fix)},
where the \emph{reason} and the \emph{status} are supplied by the operating systen. The date and time of last reference of
the file are not changed.

\subsubsection{11.2.5. CLOSE}\label{close}

\begin{verbatim}
<CLOSE channel>
\end{verbatim}

\index{\texttt{CLOSE}|textbf} closes \emph{channel} and returns its argument, with its ``state'' changed to ``closed''. If
\emph{channel} is for output, all buffered output is written out first. No harm is done if \emph{channel} is already
\texttt{CLOSE}d.

\subsubsection{11.2.6. CHANLIST}\label{chanlist}

\begin{verbatim}
<CHANLIST>
\end{verbatim}

\index{\texttt{CHANLIST}|textbf} returns a \texttt{LIST} whose elements are all the currently open \texttt{CHANNEL}s. The
first two elements are usually \texttt{.INCHAN} and \texttt{.OUTCHAN} (see below). A \texttt{CHANNEL}
\index{\texttt{CHANNEL}} not referenced by anything except \texttt{\textless{}CHANLIST\textgreater{}} will be
\texttt{CLOSEd} during garbage collection.

\subsubsection{11.2.7. INCHAN and OUTCHAN}\label{inchan-and-outchan}

The channel used by default for input \texttt{SUBR}s is the local value of the \texttt{ATOM}
\texttt{INCHAN}\index{\texttt{INCHAN}|textbf}. The channel used by default for output SUBRs is the local value of the
\texttt{ATOM} \texttt{OUTCHAN}\index{\texttt{OUTCHAN}|textbf}.

You can direct I/O to a \texttt{CHANNEL} by \texttt{SET}ting \texttt{INCHAN} or \texttt{OUTCHAN} (remembering their old
values somewhere), or by giving the \texttt{SUBR} you wish to use an argument of \texttt{TYPE} \texttt{CHANNEL}. (These
actually have the same effect, because \texttt{READ} binds \texttt{INCHAN} to an explicit argument, and \texttt{PRINT}
binds \texttt{OUTCHAN} similarly. Thus the \texttt{CHANNEL} being used is available for \texttt{READ} macros (section
17.1), or by giving the \texttt{SUBR} you wish to use an argument of \texttt{TYPE} \texttt{CHANNEL}. Thus the
\texttt{CHANNEL} being used is available for \texttt{READ} macros (section 17.1) and \texttt{PRINTTYPE}s (section 6.4.4).)

By the way, a good trick for playing with \texttt{INCHAN} and \texttt{OUTCHAN} values within a function is to use the
\texttt{ATOM}s \texttt{INCHAN} and \texttt{OUTCHAN} as \texttt{"AUX"} \index{\texttt{""AUX""}} variables, re-binding their
local values to the \texttt{CHANNEL} you want. When you leave, of course, the old \texttt{LVAL}s are restored (which is the
whole point). The \texttt{ATOM}s must be declared \texttt{SPECIAL} (chapter 14) for this trick to compile correctly.

\texttt{INCHAN} and \texttt{OUTCHAN} also have global values, initially the \texttt{CHANNEL}s directed at the terminal
running \texttt{MDL}. Initially, \texttt{INCHAN}'s and \texttt{OUTCHAN}'s local and global values are the same.

\subsubsection{11.2.8. Contents of CHANNELs}\label{contents-of-channels}

The contents of an object of \texttt{TYPE} \texttt{CHANNEL} \index{\texttt{CHANNEL}} are referred to by the I/O
\texttt{SUBR}s each time such a \texttt{SUBR} is used. If you change the contents of a \texttt{CHANNEL} (for example, with
\texttt{PUT}), the next use of that \texttt{CHANNEL} will be changed appropriately. Some elements of \texttt{CHANNEL}s,
however, should be played with seldom, if ever, and only at your own peril. These are marked below with an \texttt{*}
(asterisk). Caveat user.

There follows a table of the contents of a \texttt{CHANNEL}, the \texttt{TYPE} of each element, and an interpretation. The
format used is the following:

\emph{element-number: type interpretation}

\paragraph{11.2.8.1. Output CHANNELs}\label{output-channels}

The contents of a \texttt{CHANNEL} used for output are as follows:

\begin{longtable}[]{@{}lll@{}}
\toprule
element-number & type & interpretation\tabularnewline
\midrule
\endhead
-1 & \texttt{LIST} & transcript channel(s) (see below)\tabularnewline
\texttt{*}0 & varies & device-dependent information\tabularnewline
\texttt{*}1 & \texttt{FIX} & channel number (ITS) or JFN (Tenex and Tops-20), \texttt{0} for internal or
closed\tabularnewline
\texttt{*}2 & \texttt{STRING} & mode\tabularnewline
\texttt{*}3 & \texttt{STRING} & first file name argument\tabularnewline
\texttt{*}4 & \texttt{STRING} & second file name argument\tabularnewline
\texttt{*}5 & \texttt{STRING} & device name argument\tabularnewline
\texttt{*}6 & \texttt{STRING} & directory name argument\tabularnewline
\texttt{*}7 & \texttt{STRING} & real first file name\tabularnewline
\texttt{*}8 & \texttt{STRING} & real second file name\tabularnewline
\texttt{*}9 & \texttt{STRING} & real device name\tabularnewline
\texttt{*}10 & \texttt{STRING} & real directory name\tabularnewline
\texttt{*}11 & \texttt{FIX} & various status bits\tabularnewline
\texttt{*}12 & \texttt{FIX} & PDP-10 instruction used to do one I/O operation\tabularnewline
13 & \texttt{FIX} & number of characters per line of output\tabularnewline
14 & \texttt{FIX} & current character position on a line\tabularnewline
15 & \texttt{FIX} & number of lines per page\tabularnewline
16 & \texttt{FIX} & current line number on a page\tabularnewline
17 & \texttt{FIX} & access pointer for file-oriented devices\tabularnewline
18 & \texttt{FIX} & radix for \texttt{FIX} conversion\tabularnewline
19 & \texttt{FIX} & sink for an internal \texttt{CHANNEL}\tabularnewline
\bottomrule
\end{longtable}

N.B.: The elements of a \texttt{CHANNEL} below number 1 are usually invisible but are obtainable via
\texttt{\textless{}NTH\ \textless{}TOP\ channel\textgreater{}\ fix\textgreater{}}, for some appropriate \emph{fix}.

The transcript-channels slot has this meaning: if this slot contains a \texttt{LIST} of \texttt{CHANNEL}s, then anything
input or output on the original \texttt{CHANNEL} is output on these \texttt{CHANNEL}s. Caution: do not use a
\texttt{CHANNEL} as its own transcript channel; you probably won't live to tell about it.

\paragraph{11.2.8.2. Input CHANNELs}\label{input-channels}

The contents of the elements up to number 12 of a \texttt{CHANNEL} used for input are the same as that for output. The
remaining elements are as follows ((same) indicates that the use is the same as that for output):

\begin{longtable}[]{@{}lll@{}}
\toprule
element-number & type & interpretation\tabularnewline
\midrule
\endhead
13 & varies & object evaluated when end of file is reached\tabularnewline
\texttt{*}14 & \texttt{FIX} & one ``look-ahead'' character, used by \texttt{READ}\tabularnewline
\texttt{*}15 & \texttt{FIX} & PDP-10 instruction executed waiting for input\tabularnewline
16 & \texttt{LIST} & queue of buffers for input from a terminal\tabularnewline
17 & \texttt{FIX} & access pointer for file-oriented devices (same)\tabularnewline
18 & \texttt{FIX} & radix for \texttt{FIX} conversion (same)\tabularnewline
19 & \texttt{STRING} & buffer for input or source for internal \texttt{CHANNEL}\tabularnewline
\bottomrule
\end{longtable}

\subsection{\texorpdfstring{11.3. End-of-File ``Routine''}{11.3. End-of-File Routine}}\label{end-of-file-routine}

As mentioned above, an explicit \texttt{CHANNEL} is the first optional argument of all \texttt{SUBR}s used for conversion
I/O. The second optional argument for conversion-\textbf{input} \texttt{SUBR}s is an ``end-of-file routine'' -- that is,
something for the input \texttt{SUBR} to \texttt{EVAL} and return, if it reaches the end of the file it is reading. A
typical end-of-file argument is a \texttt{QUOTE}d \texttt{FORM} which applies a function of yours. The value of this
argument used by default is a call to \texttt{ERROR}. Note: the \texttt{CHANNEL} has been \texttt{CLOSE}d by the time this
argument is evaluated.

Example: the following \texttt{FUNCTION} counts the occurrences of a character in a file, according to its arguments. The
file names, device, and directory are optional, with the usual names used by default. \index{\texttt{""AUX""}}
\index{\texttt{""READ""}} \index{\texttt{""TUPLE""}} \index{\texttt{OPEN}} \index{\texttt{READCHR}}

\begin{verbatim}
<DEFINE COUNT-CHAR
        (CHAR "TUPLE" FILE "AUX" (CNT 0) (CHN <OPEN "READ" !.FILE>))
    <COND (.CHN                 ;"If CHN is FALSE, bad OPEN: return the FALSE
                                so result can be tested by another FUNCTION."
           <REPEAT ()
                <AND <==? .CHAR <READCHR .CHN '<RETURN>>>
                     <SET CNT <+ 1 .CNT>>>>
                ;"Until EOF, keep reading and testing a character at a time."
            .CNT                ;"Then return the count.")>>
\end{verbatim}

\subsection{11.4. Imaged I/O}\label{imaged-io}

\subsubsection{11.4.1. Input}\label{input-1}

\paragraph{11.4.1.1. READB}\label{readb}

\begin{verbatim}
<READB buffer:uvector-or-storage channel eof:any>
\end{verbatim}

\index{\texttt{READB}|textbf} The \emph{channel} must be open in \texttt{"READB"} mode. \texttt{READB} will read as many
36-bit binary words as necessary to fill the \emph{buffer} (whose \texttt{UTYPE} must be of \texttt{PRIMTYPE}
\texttt{WORD}), unless it hits the end of the file. \texttt{READB} returns the number of words actually read, as a
\texttt{FIX}ed-point number. This will normally be the length of the \emph{buffer}, unless the end of file was read, in
which case it will be less, and only the beginning of \emph{buffer} will have been filled (\texttt{SUBSTRUC} may help). An
attempt to \texttt{READB} again, after \emph{buffer} is not filled, will evaluate the end-of-file routine \emph{eof}, which
is optional, a call to \texttt{ERROR} by default.

\paragraph{11.4.1.2. READSTRING}\label{readstring}

\begin{verbatim}
<READSTRING buffer:string channel stop:fix-or-string eof>
\end{verbatim}

\index{\texttt{READSTRING}|textbf} is the \texttt{STRING} analog to \texttt{READB}, where \emph{buffer} and \emph{eof} are
as in \texttt{READB}, and \emph{channel} is any input \texttt{CHANNEL} (\texttt{.INCHAN} by default). \emph{stop} tells
when to stop inputting: if a \texttt{FIX}, read this many \texttt{CHARACTER}s (fill up \emph{buffer} by default); if a
\texttt{STRING}, stop reading if any \texttt{CHARACTER} in this \texttt{STRING} is read (don't include this
\texttt{CHARACTER} in final \texttt{STRING}).

\subsubsection{11.4.2. Output}\label{output-1}

\paragraph{11.4.2.1. PRINTB}\label{printb}

\begin{verbatim}
<PRINTB buffer:uvector-or-storage channel>
\end{verbatim}

\index{\texttt{PRINTB}|textbf} This call writes the entire contents of the \emph{buffer} into the specified channel open in
\texttt{"PRINTB"} or \texttt{"PRINTO"} mode. It returns \emph{buffer}.

\paragraph{11.4.2.2. PRINTSTRING}\label{printstring}

\begin{verbatim}
<PRINTSTRING buffer:string channel count:fix>
\end{verbatim}

\index{\texttt{PRINTSTRING}|textbf} is analogous to \texttt{READSTRING}. It outputs \emph{buffer} on \emph{channel}, either
the whole thing or the first \emph{count} characters, and returns the number of characters output.

\paragraph{11.4.2.3. IMAGE}\label{image}

\begin{verbatim}
<IMAGE fix channel>
\end{verbatim}

\index{\texttt{IMAGE}|textbf} is a rather special-purpose \texttt{SUBR}. When any conversion-output routine outputs an
ASCII control character (with special exceptions like carriage-returns, line-feeds, etc.), it actually outputs two
characters: \texttt{\^{}} \index{\texttt{"\^{}}|textbf} (circumflex), followed by the upper-case character which has been
control-shifted. \texttt{IMAGE}, on the other hand, always outputs the real thing: that ASCII character whose ASCII 7-bit
code is \emph{fix}. It is guaranteed not to give any gratuitous linefeeds or such. \emph{channel} is optional,
\texttt{.OUTCHAN} by default, and its slots for current character position (number 14) and current line number (16) are not
updated. \texttt{IMAGE} returns \emph{fix}.

\subsection{11.5. Dumped I/O}\label{dumped-io}

\subsubsection{11.5.1. Output: GC-DUMP}\label{output-gc-dump}

\begin{verbatim}
<GC-DUMP any printb:channel-or-false>
\end{verbatim}

\index{\texttt{GC-DUMP}|textbf} dumps \emph{any} on \emph{printb} in a clever format so that \texttt{GC-READ} (below) can
reproduce \emph{any} exactly, including sharing. \emph{any} cannot live on the control stack, nor can it be of
\texttt{PRIMTYPE} \texttt{PROCESS} or \texttt{LOCD} or \texttt{ASOC} (which see). \emph{any} is returned as a value.

If \emph{printb} is a \texttt{CHANNEL}, it must be open in \texttt{"PRINTB"} or \texttt{"PRINTO"} mode. If \emph{printb} is
a \texttt{FALSE}, \texttt{GC-DUMP} instead returns a \texttt{UVECTOR} (of \texttt{UTYPE} \texttt{PRIMTYPE} \texttt{WORD})
that contains what it would have output on a \texttt{CHANNEL}. This \texttt{UVECTOR} can be \texttt{PRINTB}ed anywhere you
desire, but, if it is changed \textbf{in any way}, \texttt{GC-READ} will not be able to input it. Probably the only reason
to get it is to check its length before output.

Except for the miniature garbage collection required, \texttt{GC-DUMP} is about twice as fast as \texttt{PRINT}, but the
amount of external storage used is two or three times as much.

\subsubsection{11.5.2. Input: GC-READ}\label{input-gc-read}

\begin{verbatim}
<GC-READ readb:channel eof:any>
\end{verbatim}

\index{\texttt{GC-READ}|textbf} returns one object from the \emph{channel}, which must be open in \texttt{"READB"} mode.
The file must have been produced by \texttt{GC-DUMP}. \emph{eof} is optional. \texttt{GC-READ} is about ten times faster
than \texttt{READ}.

\subsection{11.6. SAVE Files}\label{save-files}

The entire state of MDL can be saved away in a file for later restoration: this is done with the \texttt{SUBR}s
\texttt{SAVE} \index{\texttt{SAVE}} and \texttt{RESTORE}\index{\texttt{RESTORE}}. This is a very different form of I/O from
any mentioned up to now; the file used contains an actual image of your MDL address space and is not, in general,
``legible'' to other MDL routines. \texttt{RESTORE}ing a \texttt{SAVE} file is \textbf{much} faster than
re-\texttt{READ}ing the objects it contains.

Since a \texttt{SAVE} file does not contain all extant MDL objects, only the impure and \texttt{PURIFY}ed
\index{\texttt{PURIFY}} (section 22.9.2) ones, a change to the interpreter has the result of making all previous
\texttt{SAVE} files unusable. To prevent errors from arising from this, the interpreter has a release number, which is
incremented whenever changes are installed. The current release number is printed out on initially starting up the program
and is available as the \texttt{GVAL} of the \texttt{ATOM} \texttt{MUDDLE}\index{\texttt{MUDDLE}|textbf}. This release
number is written out as the very first part of each \texttt{SAVE} file. If \texttt{RESTORE} attempts to re-load a
\texttt{SAVE} file whose release number is not the same as the interpreter being used, an error is produced. If desired,
the release number of a \texttt{SAVE} file can be obtained by doing a \texttt{READ} of that file. Only that initial
\texttt{READ} will work; the rest of the file is not ASCII.

\subsubsection{11.6.1. SAVE}\label{save}

\begin{verbatim}
<SAVE file-spec:string gc?:false-or-any>
\end{verbatim}

or

\begin{verbatim}
<SAVE name1 name2 device dir gc?:false-or-any>
\end{verbatim}

\index{\texttt{SAVE}|textbf} saves the entire state of your MDL away in the file specified by its arguments, and then
returns \texttt{"SAVED"}. All \texttt{STRING} arguments are optional, with \texttt{"MUDDLE"},
\index{\texttt{""MUDDLE""}|textbf} \texttt{"SAVE"}, \index{\texttt{""SAVE""}|textbf} \texttt{"DSK"},
\index{\texttt{""DSK""}} and \texttt{\textless{}VALUE\ SNM\textgreater{}} \index{\texttt{SNM}} used by default. \emph{gc?}
is optional and, if supplied and of \texttt{TYPE} \texttt{FALSE}, causes no garbage collection to occur before
\texttt{SAVE}ing. (\texttt{FSAVE} \index{\texttt{FSAVE}} is an alias for \texttt{SAVE} that may be seen in old programs.)

If, after restoring, \texttt{RESTORE} finds that \texttt{\textless{}VALUE\ SNM\textgreater{}} is the null \texttt{STRING}
(\texttt{""}), it will ask the operating system for the name of the ``working directory'' and call \texttt{SNAME} with the
result. This mechanism is handy for ``public'' \texttt{SAVE} files, which should not point the user at a particular disk
directory.

In the ITS \index{\texttt{ITS}} version, the file is actually written with the name \texttt{\_MUDS\_\ \textgreater{}} and
renamed to the argument(s) only when complete, to prevent losing a previous \texttt{SAVE} file if a crash occurs. In the
Tenex \index{\texttt{Tenex}} and Tops-20 \index{\texttt{Tops-20}} versions, version/generation numbers provide the same
safety.

Example:

\begin{verbatim}
<DEFINE SAVE-IT ("OPTIONAL"
                 (FILE '("PUBLIC" "SAVE" "DSK" "GUEST"))
                 "AUX" (SNM ""))
        <SETUP>
        <COND (<=? "SAVED" <SAVE !.FILE>>   ;"See below."
               <CLEANUP>
               "Saved.")
              (T
               <CRLF>
               <PRINC "Amazing program at your service.">
               <CRLF>
               <START-RUNNING>)>>
\end{verbatim}

\subsubsection{11.6.2. RESTORE}\label{restore}

\begin{verbatim}
<RESTORE file-spec>
\end{verbatim}

or

\begin{verbatim}
<RESTORE name1 name2 device dir>
\end{verbatim}

\index{\texttt{RESTORE}|textbf} \textbf{replaces} the entire current state of your MDL with that \texttt{SAVE}d in the file
specified. All arguments are optional, with the same values used by default as by \texttt{SAVE}.

\texttt{RESTORE} completely replaces the contents of the MDL, including the state of execution existing when the
\texttt{SAVE} was done and the state of all open I/O \texttt{CHANNEL}s. If a file which was open when the \texttt{SAVE} was
done does not exist when the \texttt{RESTORE} is done, a message to that effect will appear on the terminal.

A \texttt{RESTORE} \textbf{never} returns (unless it gets an error): it causes a \texttt{SAVE} done some time ago to return
\textbf{again} (this time with the value \texttt{"RESTORED"}), even if the \texttt{SAVE} was done in the midst of running a
program. In the latter case, the program will continue its execution upon \texttt{RESTORE}ation.

\subsection{11.7. Other I/O Functions}\label{other-io-functions}

\subsubsection{11.7.1. LOAD}\label{load}

\begin{verbatim}
<LOAD input:channel look-up>
\end{verbatim}

\index{\texttt{LOAD}|textbf} eventually returns \texttt{"DONE"}. First, however, it \texttt{READ}s and \texttt{EVAL}s every
MDL object in the file pointed to by \emph{input}, and then \texttt{CLOSE}s \emph{input}. Any occurrences of
\texttt{rubout}, \texttt{\^{}@}, \texttt{\^{}D}, \texttt{\^{}L}, etc., in the file are given no special meaning; they are
simply \texttt{ATOM} constituents.

\emph{look-up} is optional, used to specify a \texttt{LIST} of \texttt{OBLIST}s for the \texttt{READ}. \texttt{.OBLIST} is
used by default (chapter 15).

\subsubsection{11.7.2. FLOAD}\label{fload}

\begin{verbatim}
<FLOAD file-spec look-up>
\end{verbatim}

or

\begin{verbatim}
<FLOAD name1 name2 device dir look-up>
\end{verbatim}

\index{\texttt{FLOAD}|textbf} (``file load'') acts just like \texttt{LOAD}, except that it takes arguments (with values
used by default) like \texttt{OPEN}, \texttt{OPEN}s the \texttt{CHANNEL} itself for reading, and \texttt{CLOSE}s the
\texttt{CHANNEL} when done. \emph{look-up} is optional, as in \texttt{LOAD}. If the \texttt{OPEN} fails, an error occurs,
giving the reason for failure.

\subsubsection{11.7.3. SNAME}\label{sname}

\texttt{\textless{}SNAME\ string\textgreater{}} \index{\texttt{SNAME}|textbf} (``system name'', a hangover from ITS) is
identical in effect with \texttt{\textless{}SETG\ SNM\ string\textgreater{}}\index{\texttt{SNM}}, that is, it causes
\emph{string} to become the \emph{dir} argument used by default by all \texttt{SUBR}s which want file specifications (in
the absence of a local value for \texttt{SNM}). \texttt{SNAME} returns its argument.

\texttt{\textless{}SNAME\textgreater{}} is identical in effect with \texttt{\textless{}GVAL\ SNM\textgreater{}}, that is,
it returns the current \emph{dir} used by default.

\subsubsection{11.7.4. ACCESS}\label{access}

\begin{verbatim}
<ACCESS channel fix>
\end{verbatim}

\index{\texttt{ACCESS}|textbf} returns \emph{channel}, after making the next character or binary word (depending on the
mode of \emph{channel}, which should not be \texttt{"PRINT"}) which will be input from or output to \emph{channel} the
(\emph{fix}+1)st one from the beginning of the file. \emph{channel} must be open to a randomly accessible device
(\texttt{"DSK"}, \texttt{"USR"}, etc.). A \emph{fix} of \texttt{0} positions \emph{channel} at the beginning of the file.

\subsubsection{11.7.5. FILE-LENGTH}\label{file-length}

\begin{verbatim}
<FILE-LENGTH input:channel>
\end{verbatim}

\index{\texttt{FILE-LENGTH}|textbf} returns a \texttt{FIX}, the length of the file open on \emph{input}. This information
is supplied by the operating system, and it may not be available, for example, with the \texttt{"NET"} device (section
11.10). If \emph{input}'s mode is \texttt{"READ"}, the length is in characters (rounded up to a multiple of five); if
\texttt{"READB"}, in binary words. If \texttt{ACCESS} is applied to \emph{input} and this length or more, then the next
input operation will detect the end of file.

\subsubsection{11.7.6. FILECOPY}\label{filecopy}

\begin{verbatim}
<FILECOPY input:channel output:channel>
\end{verbatim}

\index{\texttt{FILECOPY}|textbf} copies characters from \emph{input} to \emph{output} until the end of file on \emph{input}
(thus closing \emph{input}) and returns the number of characters copied. Both arguments are optional, with \texttt{.INCHAN}
and \texttt{.OUTCHAN} used by default, respectively. The operation is essentially a \texttt{READSTRING} --
\texttt{PRINTSTRING} loop. Neither \texttt{CHANNEL} need be freshly \texttt{OPEN}ed, and \emph{output} need not be
immediately \texttt{CLOSE}d. Restriction: internally a \texttt{\textless{}FILE-LENGTH\ input\textgreater{}} is done, which
must succeed; thus \texttt{FILECOPY} might lose if \emph{input} is a \texttt{"NET"} \texttt{CHANNEL}.

\subsubsection{11.7.7. RESET}\label{reset}

\begin{verbatim}
<RESET channel>
\end{verbatim}

\index{\texttt{RESET}|textbf} returns \emph{channel}, after ``resetting'' it. Resetting a \texttt{CHANNEL} is like
\texttt{OPEN}ing \index{\texttt{OPEN}} it afresh, with only the file-name slots preserved. For an input \texttt{CHANNEL},
this means emptying all input buffers and, if it is a \texttt{CHANNEL} to a file, doing an \texttt{ACCESS} to \texttt{0} on
it. For an output \texttt{CHANNEL}, this means returning to the beginning of the file -- which implies, if the mode is not
\texttt{"PRINTO"}, destroying any output done to it so far. If the opening fails (for example, if the mode slot of
\emph{channel} says input, and if the file specified in its real-name slots does not exist), \texttt{RESET} (like
\texttt{OPEN}) returns \texttt{\#FALSE\ (reason:string\ file-spec:string\ status:fix)}.

\subsubsection{11.7.8. BUFOUT}\label{bufout}

\begin{verbatim}
<BUFOUT output:channel>
\end{verbatim}

\index{\texttt{BUFOUT}|textbf} causes all internal MDL buffers for \emph{output} to be written out and returns its
argument. This is helpful if the operating system or MDL is flaky and you want to attempt to minimize your losses. The
output may be padded with up to four extra spaces, if \emph{output}'s mode is \texttt{"PRINT"}.

\subsubsection{11.7.9. RENAME}\label{rename}

\index{\texttt{RENAME}|textbf} \texttt{RENAME} is for renaming and deleting files. It takes three kinds of arguments:

\begin{itemize}
\item
  \begin{enumerate}
  \def\labelenumi{(\alph{enumi})}
  \tightlist
  \item
    two file names, in either single- or multi-\texttt{STRING} format, separated by the \texttt{ATOM}
    \texttt{TO}\index{\texttt{TO}|textbf},
  \end{enumerate}
\item
  \begin{enumerate}
  \def\labelenumi{(\alph{enumi})}
  \setcounter{enumi}{1}
  \tightlist
  \item
    one file name in either format, or
  \end{enumerate}
\item
  \begin{enumerate}
  \def\labelenumi{(\alph{enumi})}
  \setcounter{enumi}{2}
  \tightlist
  \item
    a \texttt{CHANNEL} and a file name in either format (only in the ITS version).
  \end{enumerate}
\end{itemize}

Omitted file-name parts use the same values by default as does \texttt{OPEN}. If the operation is successful,
\texttt{RENAME} returns \texttt{T}, otherwise \texttt{\#FALSE\ (reason:string\ status:fix)}.

In case (a) the file specified by the first argument is renamed to the second argument. For example:

\begin{verbatim}
<RENAME "FOO 3" TO "BAR">       ;"Rename FOO 3 to BAR >."
\end{verbatim}

In case (b) the single file name specifies a file to be deleted. For example:

\begin{verbatim}
<RENAME "FOO FOO DSK:HARRY;">  ;"Rename FOO 3 to BAR >."
\end{verbatim}

In case (c) the \texttt{CHANNEL} must be open in either \texttt{"PRINT"} or \texttt{"PRINTB"} mode, and a rename while open
for writing is attempted. The real-name slots in the \texttt{CHANNEL} are updated to reflect any successful change.

\subsection{11.8. Terminal CHANNELs}\label{terminal-channels}

MDL behaves like the ITS \index{\texttt{ITS}} version of the text editor Teco with respect to typing in carriage-return, in
that it automatically adds a line-feed. In order to type in a lone carriage-return, a carriage-return followed by a rubout
must be typed. Also \texttt{PRINT}\index{\texttt{PRINT}}, \texttt{PRIN1}\index{\texttt{PRIN1}} and \texttt{PRINC}
\index{\texttt{PRINC}} do not automatically add a line-feed when a carriage-return is output. This enables overstriking on
a terminal that lacks backspacing capability. It also means that what goes on a terminal and what goes in a file are more
likely to look the same.

In the ITS version, MDL's primary terminal output channel (usually \texttt{,OUTCHAN}) is normally not in ``display'' mode,
except when \texttt{PRINC}ing a \texttt{STRING}. Thus errors will rarely occur when a user is typing in text containing
display-mode control codes.

In the ITS version, MDL can start up without a terminal, give control of the terminal away to an inferior operating-system
process or get it back while running. Doing a \texttt{RESET} \index{\texttt{RESET}} on either of the terminal channels
causes MDL to find out if it now has the terminal; if it does, the terminal is reopened and the current screen size and
device parameters are updated. If it doesn't have the terminal, an internal flag is set, causing output to the terminal to
be ignored and attempted input from the terminal to make the operating-system process go to sleep.

In the ITS version, there are some peculiarities associated with pseudo-terminals (\texttt{"STY"}
\index{\texttt{""STY""}|textbf} and \texttt{"STn"} devices). If the \texttt{CHANNEL} given to \texttt{READCHR}
\index{\texttt{READCHR}} is open in \texttt{"READ"} mode to a pseudo-terminal, and if no input is available,
\texttt{READCHR} returns \texttt{-1}, \texttt{TYPE} \texttt{FIX}. If the \texttt{CHANNEL} given to \texttt{READSTRING}
\index{\texttt{READSTRING}} is open in \texttt{"READ"} mode to a pseudo-terminal, reading also stops if and when no more
characters are available, that is, when \texttt{READCHR} would return \texttt{-1}.

\subsubsection{11.8.1. ECHOPAIR}\label{echopair}

\begin{verbatim}
<ECHOPAIR terminal-in:channel terminal-out:channel>
\end{verbatim}

\index{\texttt{ECHOPAIR}|textbf} returns its first argument, after making the two \texttt{CHANNEL}s ``know about each
other'' so that rubout\index{\texttt{rubout}}, \^{}@, \index{\texttt{"\^{}"@}} \^{}D \index{\texttt{"\^{}D}} and \^{}L
\index{\texttt{"\^{}L}} on \emph{terminal-in} will cause the appropriate output on \emph{terminal-out}.

\subsubsection{11.8.2. TTYECHO}\label{ttyecho}

\begin{verbatim}
<TTYECHO terminal-input:channel pred>
\end{verbatim}

\index{\texttt{TTYECHO}|textbf} turns the echoing of typed characters on \emph{channel} off or on, according to whether or
not \emph{pred} is \texttt{TYPE} \texttt{FALSE}, and returns \emph{channel}. It is useful in conjunction with \texttt{TYI}
(below) for a program that wants to do character input and echoing in its own fashion.

\subsubsection{11.8.3. TYI}\label{tyi}

\begin{verbatim}
<TYI terminal-input:channel>
\end{verbatim}

\index{\texttt{TYI}|textbf} returns one \texttt{CHARACTER} from \emph{channel} (optional, \texttt{.INCHAN} by default) when
it is typed, rather than after \texttt{\$} \index{\texttt{\$}} (ESC) is typed, as is the case with
\texttt{READCHR}\index{\texttt{READCHR}}. The following example echos input characters as their ASCII values, until a
carriage-return is typed:

\begin{verbatim}
<REPEAT ((FOO <TTYECHO .INCHAN <>>))
   <AND <==? 13 <PRINC <ASCII <TYI .INCHAN>>>>
        <RETURN <TTYECHO .INCHAN T>>>>
\end{verbatim}

\subsection{11.9. Internal CHANNELs}\label{internal-channels}

If the \emph{device} specified in an \texttt{OPEN} \index{\texttt{OPEN}} is \texttt{"INT"}, \index{\texttt{""INT""}|textbf}
a \texttt{CHANNEL} is created which does not refer to any I/O device outside MDL. In this case, the mode must be
\texttt{"READ"} or \texttt{"PRINT"}, and there is another argument, which must be a function.

For a \texttt{"READ"} \texttt{CHANNEL}, the function must take no arguments. Whenever a \texttt{CHARACTER} is desired from
this \texttt{CHANNEL}, the function will be applied to no arguments and must return a \texttt{CHARACTER}. This will occur
once per call to \texttt{READCHR} using this \texttt{CHANNEL}, and several times per call to \texttt{READ}. In the ITS
\index{\texttt{ITS}} version, the function can signal that its ``end-of-file'' has been reached by returning
\texttt{\textless{}CHTYPE\ *777777000003*\ CHARACTER\textgreater{}} (-1 in left half, control-C in right), which is the
standard ITS end-of-file signal. In the Tenex \index{\texttt{Tenex}} and Tops-20 \index{\texttt{Tops-20}} versions, the
function should return either that or \texttt{\textless{}CHTYPE\ *777777000032*\ CHARACTER\textgreater{}} (-1 and
control-Z), the latter being their standard end-of-file signal.

For a \texttt{"PRINT"} \texttt{CHANNEL}, the function must take one argument, which will be a \texttt{CHARACTER}. It can
dispose of its argument in any way it pleases. The value returned by the function is ignored.

Example: \texttt{\textless{}OPEN\ "PRINT"\ "INT:"\ ,FCN\textgreater{}} opens an internal output \texttt{CHANNEL} with
\texttt{,FCN} as its character-gobbler.

\subsection{\texorpdfstring{11.10. The ``NET'' Device: the ARPA
Network}{11.10. The NET Device: the ARPA Network}}\label{the-net-device-the-arpa-network}

The \texttt{"NET"} \index{\texttt{""NET""}|textbf} device is different in many ways from conventional devices. In the ITS
\index{\texttt{ITS}} version, it is the only device besides \texttt{"INT"} that does not take all strings as its arguments
to \texttt{OPEN}\index{\texttt{OPEN}}, and it must take an additional optional argument to specify the byte size of the
socket. The format of a call to open a network socket is

\begin{verbatim}
<OPEN mode:string local-socket:fix "NET" foreign-host:fix byte-size:fix>
\end{verbatim}

where:

\begin{itemize}
\tightlist
\item
  \emph{mode} is the mode of the desired \texttt{CHANNEL}. This must be either \texttt{"READ"}, \texttt{"PRINT"},
  \texttt{"READB"} or \texttt{"PRINTB"}.
\item
  \emph{local-socket} is the local socket number. If it is \texttt{-1}, the operating system will generate a unique local
  socket number. If it is not, in the Tenex \index{\texttt{Tenex}} and Tops-20 \index{\texttt{Tops-20}} versions, the
  socket number is ``fork-relative''.
\item
  \emph{foreign-socket} is the foreign socket number. If it is \texttt{-1}, this is an \texttt{OPEN} for ``listening''.
\item
  \emph{foreign-host} is the foreign host number. If it is an \texttt{OPEN} for listening, this argument is ignored.
\item
  \emph{byte-size} is the optional byte size. For \texttt{"READ"} or \texttt{"PRINT"} this must be either \texttt{7} (used
  by default) or \texttt{8}. For \texttt{"READB"} or \texttt{"PRINTB"}, it can be any integer from \texttt{1} to
  \texttt{36} (used by default).
\end{itemize}

In the Tenex and Tops-20 versions, \texttt{OPEN} can instead be given a \texttt{STRING} argument of the form
\texttt{"NET:..."}. In this case the local socket number can be ``directory-relative''.

Like any other \texttt{OPEN}, either a \texttt{CHANNEL} or a \texttt{FALSE} is returned. Once open, a network
\texttt{CHANNEL} can be used like any other \texttt{CHANNEL}, except that \texttt{FILE-LENGTH}, \texttt{ACCESS},
\texttt{RENAME}, etc., cannot be done. The ``argument'' first-name, second-name, and directory-name slots in the
\texttt{CHANNEL} are used for local socket, foreign socket, and foreign host (as specified in the call to \texttt{OPEN}),
respectively. The corresponding ``real'' slots are used somewhat differently. If a channel is \texttt{OPEN}ed with local
socket \texttt{-1}, the ``real'' first-name slot will contain the unique socket number generated by the operating system.
If a listening socket is \texttt{OPEN}ed, the foreign socket and host numbers of the answering host are stored in the
``real'' second-name and directory-name slots of the \texttt{CHANNEL} when the Request For Connection is received.

An interrupt (chapter 21) can be associated with a \texttt{"NET"}-device \texttt{CHANNEL}, so that a program will know that
the \texttt{CHANNEL} has or needs data, according to its \emph{mode}.

There also exist several special-purpose \texttt{SUBR}s for the \texttt{"NET"} device. These are described next.

\subsubsection{11.10.1. NETSTATE}\label{netstate}

\begin{verbatim}
<NETSTATE network:channel>
\end{verbatim}

\index{\texttt{NETSTATE}|textbf} returns a \texttt{UVECTOR} of three \texttt{FIX}es. The first is the state of the
connection, the second is a code specifying why a connection was closed, and the last is the number of bits available on
the connection for input. The meaning of the state and close codes are installation-dependent and so are not included here.

\subsubsection{11.10.2. NETACC}\label{netacc}

\begin{verbatim}
<NETACC network:channel>
\end{verbatim}

\index{\texttt{NETACC}|textbf} accepts a connection to a socket that is open for listening and returns its argument. It
will return a \texttt{FALSE} if the connection is in the wrong state.

\subsubsection{11.10.3. NETS}\label{nets}

\begin{verbatim}
<NETS network:channel>
\end{verbatim}

\index{\texttt{NETS}|textbf} returns its argument, after forcing any system-buffered network output to be sent. ITS
\index{\texttt{ITS}} normally does this every half second anyway. Tenex \index{\texttt{Tenex}} and Tops-20
\index{\texttt{Tops-20}} do not do it unless and until \texttt{NETS} is called. \texttt{NETS} is similar to \texttt{BUFOUT}
\index{\texttt{BUFOUT}} for normal \texttt{CHANNEL}s, except that even operating-system buffers are emptied \textbf{now}.

\section{Chapter 12. Locatives}\label{chapter-12.-locatives}

There is in MDL a facility for obtaining and working directly with objects which roughly correspond to ``pointers'' in
assembly language or ``lvals'' in BCPL or PAL. In MDL, these are generically known as \textbf{locatives} (from
``location'') and are of several \texttt{TYPE}s, as mentioned below. Locatives exist to provide efficient means for
altering structures: direct replacement as opposed to re-copying.

Locatives \textbf{always} refer to elements in structures. It is not possible to obtain a locative to something (for
example, an \texttt{ATOM}) which is not part of any structured. It is possible to obtain a locative to any element in any
structured object in MDL -- even to associations (chapter 13) and to the values of \texttt{ATOM}s, structurings which are
normally ``hidden''.

In the following, the object occupying the structured position to which you have obtained a locative will be referred to as
the object \textbf{pointed to} by the locative.

\subsection{12.1. Obtaining Locatives}\label{obtaining-locatives}

\subsubsection{12.1.1. LLOC}\label{lloc}

\begin{verbatim}
<LLOC atom env>
\end{verbatim}

\index{\texttt{LLOC}|textbf} returns a locative (\texttt{TYPE} \texttt{LOCD}\index{\texttt{LOCD}|textbf}, ``locative to
iDentifier'') to the \texttt{LVAL} \index{\texttt{LVAL}} of \emph{atom} in \emph{env}. If \emph{atom} is not bound in
\emph{env}, an error occurs. \emph{env} is optional, with the current \texttt{ENVIRONMENT} used by default. The locative
returned by \texttt{LLOC} is \textbf{independent of future re-bindings} of \emph{atom}. That is, \texttt{IN}
\index{\texttt{IN}} (see below) of that locative will return the same thing even if \emph{atom} is re-bound to something
else; \texttt{SETLOC} \index{\texttt{SETLOC}} (see below) will affect only that particular binding of \emph{atom}.

Since bindings are kept on a stack (tra la), any attempt to use a locative to an \texttt{LVAL} which has become unbound
will fetch up an error. (It breaks just like a \texttt{TUPLE}\ldots{}.) \texttt{LEGAL?} \index{\texttt{LEGAL?}} can, once
again, be used to see if a \texttt{LOCD} is valid. Caution:
\texttt{\textless{}SET\ A\ \textless{}LLOC\ A\textgreater{}\textgreater{}} creates a self-reference and can make
\texttt{PRINT} very unhappy.

\subsubsection{12.1.2. GLOC}\label{gloc}

\begin{verbatim}
<GLOC atom pred>
\end{verbatim}

\index{\texttt{GLOC}|textbf} returns a locative (\texttt{TYPE} \texttt{LOCD}\index{\texttt{LOCD}}) to the \texttt{GVAL} of
\emph{atom}. If \emph{atom} has no \texttt{GVAL} \index{\texttt{GVAL}} \textbf{slot}, an error occurs, unless \emph{pred}
(optional) is given and not \texttt{FALSE}, in which case a slot is created (chapter 22). Caution:
\texttt{\textless{}SETG\ A\ \textless{}GLOC\ A\textgreater{}\textgreater{}} creates a self-reference and can make
\texttt{PRINT} very unhappy.

\subsubsection{12.1.3. AT}\label{at}

\begin{verbatim}
<AT structured N:fix-or-offset>
\end{verbatim}

\index{\texttt{AT}|textbf} returns a locative to the Nth element in \emph{structured}. \emph{N} is optional, \texttt{1} by
default. The exact \texttt{TYPE} of the locative returned depends on the \texttt{PRIMTYPE} of \emph{structured}:
\texttt{LOCL} \index{\texttt{LOCL}|textbf} for \texttt{LIST}, \texttt{LOCV} \index{\texttt{LOCV}|textbf} for
\texttt{VECTOR}, \texttt{LOCU} \index{\texttt{LOCU}|textbf} for \texttt{UVECTOR}, \texttt{LOCS}
\index{\texttt{LOCS}|textbf} for \texttt{STRING}, \texttt{LOCB} \index{\texttt{LOCB}|textbf} for \texttt{BYTES},
\texttt{LOCT} \index{\texttt{LOCT}|textbf} for \texttt{TEMPLATE}, and \texttt{LOCA} \index{\texttt{LOCA}|textbf} for
\texttt{TUPLE}. If \emph{N} is greater than \texttt{\textless{}LENGTH\ structured\textgreater{}} or less than \texttt{1},
or an \texttt{OFFSET} with a Pattern that doesn't match \emph{structured}, an error occurs. The locative is unaffected by
applications of \texttt{REST}, \texttt{BACK}, \texttt{TOP}, \texttt{GROW}, etc. to \emph{structured}.

\subsubsection{12.1.4. GETPL and GETL}\label{getpl-and-getl}

\begin{verbatim}
<GETPL item:any indicator:any default:any>
\end{verbatim}

\index{\texttt{GETPL}|textbf} returns a locative (\texttt{TYPE} \texttt{LOCAS}\index{\texttt{LOCAS}|textbf}) to the
association of \emph{item} under \emph{indicator}. (See chapter 13 for information about associations.) If no such
association exists, \texttt{GETPL} returns \texttt{EVAL} of \emph{default}. \emph{default} is optional,
\texttt{\#FALSE\ ()} by default.

\texttt{GETPL} corresponds to \texttt{GETPROP} amongst the association machinery. There also exists
\texttt{GETL}\index{\texttt{GETL}|textbf}, which corresponds to \texttt{GET}, returning either a \texttt{LOCAS} or a
locative to the \emph{indicator}th element of a structured \emph{item}. \texttt{GETL} is like \texttt{AT} if \emph{item} is
a structure and \emph{indicator} is a \texttt{FIX} or \texttt{OFFSET}, and like \texttt{GETPL} if not.

\subsection{12.2. LOCATIVE?}\label{locative}

\index{\texttt{LOCATIVE?}|textbf}This \texttt{SUBR} is a predicate that tells whether or not is argument is a locative. It
is cheaper than
\texttt{\textless{}MEMQ\ \textless{}PRIMTYPE\ arg\textgreater{}\ \textquotesingle{}!{[}LOCD\ LOCL\ ...{]}\textgreater{}}.

\subsection{12.3. Using Locatives}\label{using-locatives}

The following two \texttt{SUBR}s provide the means for working with locatives. They are independent of the specific
\texttt{TYPE} of the locative. The notation \emph{locative} indicates anything which could be returned by \texttt{LLOC},
\texttt{GLOC}, \texttt{AT}, \texttt{GETPL} or \texttt{GETL}.

\subsubsection{12.3.1. IN}\label{in}

\begin{verbatim}
<IN locative>
\end{verbatim}

\index{\texttt{IN}|textbf} returns the object to which \emph{locative} points. The only way you can get an error using
\texttt{IN} is when \emph{locative} points to an \texttt{LVAL} which has become unbound from an \texttt{ATOM}. This is the
same as the problem in referencing \texttt{TUPLE}s as mentioned in section 9.2, and it can be avoided by first testing
\texttt{\textless{}LEGAL?\ locd\textgreater{}}\index{\texttt{LEGAL?}}.

Example:

\begin{verbatim}
<SET A 1>$
1
<IN <LLOC A>>$
1
\end{verbatim}

\subsubsection{12.3.2. SETLOC}\label{setloc}

\begin{verbatim}
<SETLOC locative any>
\end{verbatim}

\index{\texttt{SETLOC}|textbf} returns \emph{any}, after having made \emph{any} the contents of that position in a
structure pointed to by \emph{locative}. The structure itself is not otherwise disturbed. An error occurs if
\emph{locative} is to a non-\texttt{LEGAL?} \texttt{LVAL} or if you try to put an object of the wrong \texttt{TYPE} into a
\texttt{PRIMTYPE} \texttt{UVECTOR}, \texttt{STRING}, \texttt{BYTES}, or \texttt{TEMPLATE}.

Example:

\begin{verbatim}
<SET A (1 2 3)>$
(1 2 3)
<SETLOC <AT .A 2> HI>$
HI
.A$
(1 HI 3)
\end{verbatim}

\subsection{12.4. Note on Locatives}\label{note-on-locatives}

You may have noticed that locatives are, strictly speaking, unnecessary; you can do everything locatives allow by
appropriate use of, for example, \texttt{SET}, \texttt{LVAL}\index{\texttt{LVAL}}, \texttt{PUT}, \texttt{NTH}, etc. What
locatives provide is generality.

Basically, how you obtained a locative is irrelevant to \texttt{SETLOC} \index{\texttt{SETLOC}} and
\texttt{IN}\index{\texttt{IN}}; thus the same program can play with \texttt{GVAL}s, \texttt{LVAL}s, object in explicit
structures, etc., without being bothered by what function it should use to do so. This is particularly true with respect to
locatives to \texttt{LVAL}s; the fact that they are independent of changes in binding can save a lot of fooling around with
\texttt{EVAL} and \texttt{ENVIRONMENT}s.

\section{Chapter 13. Association (Properties)}\label{chapter-13.-association-properties}

There is an ``associative'' data storage and retrieval system embedded in MDL which allows the construction of data
structures with arbitrary selectors. It is used via the \texttt{SUBR}s described in this chapter.

\subsection{13.1. Associative Storage}\label{associative-storage}

\subsubsection{13.1.1. PUTPROP}\label{putprop}

\begin{verbatim}
<PUTPROP item:any indicator:any value:any>
\end{verbatim}

\index{\texttt{PUTPROP}|textbf} (``put property'') returns \emph{item}, having associated \emph{value} with \emph{item}
under the indicator \emph{indicator}.

\subsubsection{13.1.2. PUT}\label{put}

\begin{verbatim}
<PUT item:any indicator:any value:any>
\end{verbatim}

\index{\texttt{PUT}|textbf} is identical to \texttt{PUTPROP}, except that, if \emph{item} is structured \textbf{and}
\emph{indicator} is of \texttt{TYPE} \texttt{FIX} or \texttt{OFFSET}, it does
\texttt{\textless{}SETLOC\ \textless{}AT\ item\ indicator\textgreater{}\ value\textgreater{}}. In other words, an element
with an integral selector is stored in the structure itself, instead of in association space. \texttt{PUT} (like
\texttt{AT}) will get an error if \emph{indicator} is out of range; \texttt{PUTPROP} will not.

\subsubsection{13.1.3. Removing Associations}\label{removing-associations}

If \texttt{PUTPROP} is used \textbf{without} its \emph{value} argument, it removes any association existing between its
\emph{item} argument and its \emph{indicator} argument. If an association did exist, using \texttt{PUTPROP} in this way
returns the \emph{value} which was associated. If no association existed, it returns \texttt{\#FALSE\ ()}.

\texttt{PUT}, with arguments which refer to association, can be used in the same way.

If either \emph{item} or \emph{indicator} cease to exist (that is, no one was pointing to them, so they were
garbage-collected), and no locatives to the association exist, then the association between them ceases to exist (is
garbage-collected).

\subsection{13.2. Associative Retrieval}\label{associative-retrieval}

\subsubsection{13.2.1. GETPROP}\label{getprop}

\begin{verbatim}
<GETPROP item:any indicator:any exp:any>
\end{verbatim}

\index{\texttt{GETPROP}|textbf} (``get property'') returns the \emph{value} associated with \emph{item} under
\emph{indicator}, if any. If there is no such association, \texttt{GETPROP} returns \texttt{EVAL} of \emph{exp} (that is,
\emph{exp} gets \texttt{EVAL}ed both at call time and later).

\emph{exp} is optional. If not given, \texttt{GETPROP} returns \texttt{\#FALSE\ ()} if it cannot return a \emph{value}.

Note: \emph{item} and \emph{indicator} in \texttt{GETPROP} must be the \textbf{same MDL objects} used to establish the
association; that is, they must be \texttt{==?} to the objects used by \texttt{PUTPROP} or \texttt{PUT}.

\subsubsection{13.2.2. GET}\label{get-1}

\begin{verbatim}
<GET item:any indicator:any exp:any>
\end{verbatim}

\index{\texttt{GET}|textbf} is the inverse of \texttt{PUT}, using \texttt{NTH} or \texttt{GETPROP} depending on the test
outlined in section 13.1.2. \emph{exp} is optional and used as in \texttt{GETPROP}.

\subsection{13.3. Examples of Association}\label{examples-of-association}

\begin{verbatim}
<SET L '(1 2 3 4)>$
(1 2 3 4)
<PUT .L FOO "L is a list.">$
(1 2 3 4)
<GET .L FOO>$
"L is a list."
<PUTPROP .L 3 '![4]>$
(1 2 3 4)
<GETPROP .L 3>$
![4!]
<GET .L 3>$
3
<SET N 0>$
0
<PUT .N .L "list on a zero">$
0
<GET .N '(1 2 3 4)>$
#FALSE ()
\end{verbatim}

The last example failed because \texttt{READ} \index{\texttt{READ}} generated a new \texttt{LIST} -- not the one which is
\texttt{L}'s \texttt{LVAL}. However,

\begin{verbatim}
<GET 0 .L>$
"list on a zero"
\end{verbatim}

works because \texttt{\textless{}==?\ .N\ 0\textgreater{}} is true.

To associate something with the Nth \textbf{position} in a structure, as opposed to its Nth \textbf{element}, associate it
with \texttt{\textless{}REST\ structure\ N-1\textgreater{}}, as in the following:

\begin{verbatim}
<PUT <REST .L 3> PERCENT 0.3>$
(3 4)
<GET <2 .L> PERCENT>$
#FALSE ()
<GET <REST .L 2> PERCENT>$
0.30000000
\end{verbatim}

Remember comments? \index{\texttt{COMMENT}|textbf}

\begin{verbatim}
<SET N '![A B C ;"third element" D E]>$
![A B C D E!]
<GET <REST .N 2> COMMENT>$
"third element"
\end{verbatim}

The \texttt{\textquotesingle{}} in the \texttt{\textless{}SET\ N\ ...\ \textgreater{}} is to keep \texttt{EVAL} from
generating a new \texttt{UVECTOR} (``Direct Representation''), which would not have the comment on it (and which would be a
needless duplicate). A ``top-level'' comment -- one attached to the entire object returned by \texttt{READ} -- is
\texttt{PUT} on the \texttt{CHANNEL} \index{\texttt{CHANNEL}} in use, since there is no position in any structure for it.
If no top-level comment follows the object, \texttt{READ} removes the value
(\texttt{\textless{}PUT\ channel\ COMMENT\textgreater{}}); so anybody that wants to see a top-level comment must look for
it after each \texttt{READ}.

If you need to have a structure with selectors in more than one dimension (for example, a sparse matrix that does not
deserve to be linearized), associations can be cascaded to achieve the desired result. In effect an extra level of
indirection maps two indicators into one. For example, to associate \emph{value} with \emph{item} under \emph{indicator-1}
and \emph{indicator-2} simultaneously:

\begin{verbatim}
<PUTPROP indicator-1 indicator-2 T>
<PUTPROP item <GETPL indicator-1 indicator-2> value>
\end{verbatim}

\subsection{13.4. Examining Associations}\label{examining-associations}

Associations (created by \texttt{PUT} and \texttt{PUTPROP}) are chained together in a doubly-linked list, internal to MDL.
The order of associations in the chain is their order of creation, newest first. There are several \texttt{SUBR}s for
examining the chain of associations. \texttt{ASSOCIATIONS} \index{\texttt{ASSOCIATIONS}|textbf} returns the first
association in the chain, or \texttt{\#FALSE\ ()} if there are none. \texttt{NEXT} \index{\texttt{NEXT}|textbf} takes an
association as an argument and returns the next association in the chain, or \texttt{\#FALSE\ ()} if there are no more.
\texttt{ITEM}\index{\texttt{ITEM}|textbf}, \texttt{INDICATOR} \index{\texttt{INDICATOR}|textbf} and \texttt{AVALUE}
\index{\texttt{AVALUE}|textbf} all take an association as an argument and return the item, indicator and value,
respectively. Associations print as:

\begin{verbatim}
#ASOC (item indicator value)
\end{verbatim}

\index{\texttt{ASOC}|textbf}(sic: only one \texttt{S}). Example: the following gathers all the existing associations into a
\texttt{LIST}.

\begin{verbatim}
<PROG ((A <ASSOCIATIONS>))
 <COND (<NOT .A> '())
       (T (.A !<MAPF ,LIST
                <FUNCTION () <COND (<SET A <NEXT .A>> .A)
                                   (T <MAPSTOP>)>>>))>>
\end{verbatim}

\section{Chapter 14. Data-type Declarations}\label{chapter-14.-data-type-declarations}

In MDL, it is possible to declare the permissible range of ``types'' and/or structures that an \texttt{ATOM}'s values or a
function's arguments or value may have. This is done using a special \texttt{TYPE}, the
\texttt{DECL}\index{\texttt{DECL}|textbf} (``declaration''). A \texttt{DECL} is of \texttt{PRIMTYPE} \texttt{LIST} but has
a complicated internal structure. \texttt{DECL}s are used by the interpreter to find \texttt{TYPE} errors in function
calling and by the compiler to generate more efficient code.

There are two kinds of \texttt{DECL}s. The first kind of \texttt{DECL} is the most common. It is called the \texttt{ATOM}
\texttt{DECL} and is used most commonly to specify the type/structure of the \texttt{LVAL}s of the \texttt{ATOM}s in the
argument \texttt{LIST} of a \texttt{FUNCTION} or \emph{aux} \texttt{LIST} of a \texttt{PROG} or \texttt{REPEAT}. This
\texttt{DECL} has the form:

\begin{verbatim}
#DECL (atoms:list Pattern ...)
\end{verbatim}

where the pairing of a \texttt{LIST} of \texttt{ATOM}s and a ``Pattern'' can be repeated indefinitely. This declares the
\texttt{ATOM}s in a \emph{list} to be of the type/structure specified in the following \emph{Pattern}. The special
\texttt{ATOM} \texttt{VALUE}\index{\texttt{VALUE}|textbf}, if it appears, declares the result of a \texttt{FUNCTION} call
or \texttt{PROG} or \texttt{REPEAT} evaluation to satisfy the Pattern specified. An \texttt{ATOM} \texttt{DECL} is useful
in only one place: immediately following the argument \texttt{LIST} of a \texttt{FUNCTION}, \texttt{PROG}, or
\texttt{REPEAT}. It normally includes \texttt{ATOM}s in the argument \texttt{LIST} and \texttt{ATOM}s whose \texttt{LVAL}s
are otherwise used in the Function body.

The second kind of \texttt{DECL} is rarely seen by the casual MDL user, except in appendix 2. It is called the
\texttt{RSUBR} \texttt{DECL}. It is used to specify the type/structure of the arguments and result of an \texttt{RSUBR} or
\texttt{RSUBR-ENTRY} (chapter 19). It is of the following form:

\begin{verbatim}
#DECL ("VALUE" Pattern Pattern ...)
\end{verbatim}

where the \texttt{STRING} \texttt{"VALUE"} precedes the specification of the type/structure of the value of the call to the
\texttt{RSUBR}, and the remaining \emph{Patterns} specify the arguments to the \texttt{RSUBR} in order. The full
specification of the \texttt{RSUBR} \texttt{DECL} will be given in section 14.9. The \texttt{RSUBR} \texttt{DECL} is useful
in only one place: as an element of an \texttt{RSUBR} or \texttt{RSUBR-ENTRY}.

\subsection{14.1. Patterns}\label{patterns}

The simplest possible Pattern is to say that a value is exactly some other object, by giving that object, \texttt{QUOTE}d.
For example, to declare that a variable is a particular \texttt{ATOM}:

\begin{verbatim}
#DECL ((X) 'T)
\end{verbatim}

declares that \texttt{.X} is always the \texttt{ATOM} \texttt{T}. When variables are \texttt{DECL}ed as ``being'' some
other object in this way, the test used is \texttt{=?}, not \texttt{==?}. The distinction is usually not important, since
\texttt{ATOM}s, which are most commonly used in this construction, are \texttt{==?} to each other if \texttt{=?} anyway.

It is more common to want to specify that a value must be of a given \texttt{TYPE}. This is done with the simplest
non-specific Pattern, a \texttt{TYPE} name. For example,

\begin{verbatim}
#DECL ((X) FIX (Y) FLOAT)
\end{verbatim}

declares \texttt{.X} to be of \texttt{TYPE} \texttt{FIX}, and \texttt{.Y} of \texttt{TYPE} \texttt{FLOAT}. In addition to
the names of all of the built-in and created \texttt{TYPE}s, such as \texttt{FIX}, \texttt{FLOAT} and \texttt{LIST}, a few
``compound'' type names are allowed:

\begin{itemize}
\tightlist
\item
  \texttt{ANY} \index{\texttt{ANY}|textbf} allows any \texttt{TYPE}.
\item
  \texttt{STRUCTURED} \index{\texttt{STRUCTURED}|textbf} allows any structured \texttt{TYPE}, such as \texttt{LIST},
  \texttt{VECTOR}, \texttt{FALSE}, \texttt{CHANNEL}, etc. (appendix 3).
\item
  \texttt{LOCATIVE} \index{\texttt{LOCATIVE}|textbf} allows any locative \texttt{TYPE}, such as are returned by
  \texttt{LLOC}, \texttt{GLOC}, \texttt{AT}, and so on (chapter 12).
\item
  \texttt{APPLICABLE} \index{\texttt{APPLICABLE}|textbf} allows any applicable \texttt{TYPE}, such as \texttt{FUNCTION},
  \texttt{SUBR}, \texttt{FIX} (!), etc. (appendix 3).
\item
  Any other \texttt{ATOM} can be used to stand for a more complex construct, if an association is established on that
  \texttt{ATOM} and the \texttt{ATOM} \texttt{DECL}. A common example is to
  \texttt{\textless{}PUT\ NUMBER\ DECL\ \textquotesingle{}\textless{}OR\ FIX\ FLOAT\textgreater{}\textgreater{}} (see
  below), so that \texttt{NUMBER} can be used as a ``compound type name''.
\end{itemize}

The single \texttt{TYPE} name can be generalized slightly, allowing anything of a given \texttt{PRIMTYPE}, using the
following construction:

\begin{verbatim}
#DECL ((X) <PRIMTYPE WORD> (Y) <PRIMTYPE LIST>)
\end{verbatim}

This construction consists of a two-element \texttt{FORM}, where the first element is the \texttt{ATOM} \texttt{PRIMTYPE},
and the second the name of a primitive type.

The next step is to specify the elements of a structure. This is done in the simplest way as follows:

\begin{verbatim}
< structured:type Pattern Pattern ...>
\end{verbatim}

where there is a one-to-one correspondence between the \emph{Pattern} and the elements of the structure. For example:

\begin{verbatim}
#DECL ((X) <VECTOR FIX FLOAT>)
\end{verbatim}

declares \texttt{.X} to be a \texttt{VECTOR} having \textbf{at least} two elements, the first of which is a \texttt{FIX}
and the second a \texttt{FLOAT}. It is often convenient to allow additional elements, so that only the elements being used
in the local neighborhood of the \texttt{DECL} need to be declared. To disallow additional elements, a \texttt{SEGMENT} is
used instead of a \texttt{FORM} (the ``excl-ed'' brackets make it look more emphatic). For example:

\begin{verbatim}
#DECL ((X) !<VECTOR FIX FLOAT>)
\end{verbatim}

declares \texttt{.X} to be a \texttt{VECTOR} having \textbf{exactly} two elements, the first of which is a \texttt{FIX} and
the second a \texttt{FLOAT}. Note that the \emph{Patterns} given for elements can be any legal Pattern:

\begin{verbatim}
#DECL ((X) <VECTOR <VECTOR FIX FLOAT>> (Y) <<PRIMTYPE LIST> LIST>)
\end{verbatim}

declares \texttt{.X} to be a \texttt{VECTOR} containing another \texttt{VECTOR} of at least two elements, and \texttt{.Y}
to be of \texttt{PRIMTYPE\ LIST}, containing a \texttt{LIST}. In the case of a \texttt{BYTES}, the individual elements
cannot be declared (they must be \texttt{FIX}es anyway), only the size and number of the bytes:

\begin{verbatim}
#DECL ((B) <BYTES 7 3>)
\end{verbatim}

declares \texttt{.B} to be a \texttt{BYTES} with \texttt{BYTE-SIZE} 7 and at least three elements.

It is possible to say that some number of elements of a structure satisfy a given Pattern (or sequence of Patterns). This
is called an ``\texttt{NTH} construction''.

\begin{verbatim}
[ number:fix Pattern Pattern ... ]
\end{verbatim}

states that the sequence of \emph{Patterns} which is \texttt{REST}\index{\texttt{REST}|textbf} of the \texttt{VECTOR} is
repeated the \emph{number} of times given. For example:

\begin{verbatim}
#DECL ((X) <VECTOR [3 FIX] FLOAT> (Y) <LIST [3 FIX FLOAT]>)
\end{verbatim}

\texttt{.X} is declared to contain three \texttt{FIX}es and a \texttt{FLOAT}, perhaps followed by other elements.
\texttt{.Y} is declared to repeat the sequence \texttt{FIX}-\texttt{FLOAT} three times. Note that there may be more
repetitions of the sequence in \texttt{.Y} (but not in \texttt{.X}): the \texttt{DECL} specifies only the first six
elements.

For indefinite repetition, the same construction is used, but, instead of the number of repetitions of the sequence of
Patterns, the \texttt{ATOM} \texttt{REST} is given. This allows any number of repetitions, from zero on up. For example:

\begin{verbatim}
#DECL ((X) <VECTOR [REST FIX]> (Y) <LIST [3 FIX] [REST FIX]>)
\end{verbatim}

A ``\texttt{REST} construction'' can contain any number of Patterns, just like an \texttt{NTH} construction:

\begin{verbatim}
#DECL ((X) <VECTOR [REST FIX FLOAT LIST]>)
\end{verbatim}

declares that \texttt{.X} is a \texttt{VECTOR} wherein the sequence \texttt{FIX}-\texttt{FLOAT}-\texttt{LIST} repeats
indefinitely. It does not declare that \texttt{\textless{}LENGTH\ .X\textgreater{}} is an even multiple of three: the
\texttt{VECTOR} can end at any point.

A variation on \texttt{REST} is \texttt{OPT} \index{\texttt{OPT}|textbf} (or
\texttt{OPTIONAL}\index{\texttt{OPTIONAL}|textbf}), which is similar to \texttt{REST} except that the construction is
scanned once at most instead of indefinitely, and further undeclared elements can follow. For example:

\begin{verbatim}
#DECL ((X) <VECTOR [OPT FIX]>)
\end{verbatim}

declares that \texttt{.X} is a \texttt{VECTOR} which is empty or whose first element is a \texttt{FIX}. Only a
\texttt{REST} construction can follow an ``\texttt{OPT} construction''.

Note that the \texttt{REST} construction must always be the last element of the structure declaration, since it gives a
Pattern for the rest of the structure. Thus, the \texttt{REST} construction is different from all others in that it has an
unlimited range. No matter how many times the Pattern it gives is \texttt{REST}ed off of the structure, the remainder of
the structure still has that Pattern.

This exhausts the possible single Patterns that can be given in a declaration. However, there is also a compound Pattern
defined. It allows specification of several possible Patterns for one value:

\begin{verbatim}
<OR Pattern Pattern ... >
\end{verbatim}

Any non-compound Pattern can be included as one of the elements of the compound Pattern. Finally, compound Patterns can be
used as Patterns for elements of structures, and so on.

\begin{verbatim}
#DECL ((X) <OR FIX FLOAT>
       (Y) <OR FIX <UVECTOR [REST <OR FIX FLOAT>]>>)
\end{verbatim}

The \texttt{OR} construction can be extended to any level of ridiculousness, but the higher the level of complexity and
compoundedness the less likely the compiler will find the \texttt{DECL} useful.

At the highest level, any Pattern at top level in an \texttt{ATOM} \texttt{DECL} can be enclosed in the construction

\begin{verbatim}
< specialty:atom Pattern >
\end{verbatim}

which explicitly declares the specialty of the \texttt{ATOM}(s) in the preceding \texttt{LIST}. \emph{specialty} can be
either \texttt{SPECIAL} \index{\texttt{SPECIAL}|textbf} or \texttt{UNSPECIAL}\index{\texttt{UNSPECIAL}|textbf}. Specialty
is important only when the program is to be compiled. The word comes from the control stack, which is called ``special'' in
Lisp (Moon, 1974) because the garbage collector finds objects on it and modifies their internal pointers when storage is
compacted. (An internal stack is used within the interpreter and is not accessible to programs -- section 22.1) In an
interpreted program all local values are inherently \texttt{SPECIAL}, because all bindings are put on the control stack
(but see \texttt{SPECIAL-MODE} \index{\texttt{SPECIAL-MODE}} below). When the program is compiled, only values declared
\texttt{SPECIAL} (which may or may not be the declaration used by default) remain in bindings on the control stack. All
others are taken care of simply by storing objects on the control stack: the \texttt{ATOM}s involved are not needed and are
not created on loading. So, a program that \texttt{SET}s an \texttt{ATOM}'s local value for another program to pick up must
declare that \texttt{ATOM} to be \texttt{SPECIAL}. If it doesn't, the \texttt{ATOM}'s binding will go away during
compiling, and the program that needs to refer to the \texttt{ATOM} will either get a no-value error or refer to an
erroneous binding. Usually only \texttt{ATOM}s which have the opposite specialty from that of the current
\texttt{SPECIAL-MODE} are explicitly declared. The usual \texttt{SPECIAL-MODE} is \texttt{UNSPECIAL}, so typically only
\texttt{SPECIAL} declarations use this construction:

\begin{verbatim}
#DECL ((ACT)) <SPECIAL ACTIVATION>)
\end{verbatim}

explicitly declares \texttt{ACT} to be \texttt{SPECIAL}.

Most well-written, modular programs get all their information from their arguments and from \texttt{GVAL}s, and thus they
rarely use \texttt{SPECIAL} \texttt{ATOM}s, except perhaps for \texttt{ACTIVATION}s and the \texttt{ATOM}s whose
\texttt{LVAL}s MDL uses by default: \texttt{INCHAN}, \texttt{OUTCHAN}\index{\texttt{OUTCHAN}}, \texttt{OBLIST},
\texttt{DEV}, \texttt{SNM}, \texttt{NM1}, \texttt{NM2}. \texttt{OUTCHAN} is a special case: the compiler thinks that all
conversion-output \texttt{SUBR}s are called with an explicit \texttt{CHANNEL} argument, whether or not the program being
compiled thinks so. For example, \texttt{\textless{}CRLF\textgreater{}} is compiled as though it were
\texttt{\textless{}CRLF\ .OUTCHAN\textgreater{}}. So you may use (or see) the binding \texttt{(OUTCHAN\ .OUTCHAN)} in an
argument \texttt{LIST}, however odd that may appear, because that -- coupled with the usual \texttt{UNSPECIAL} declaration
by default -- makes only one reference to the current binding of \texttt{OUTCHAN} and stuffs the result in a slot on the
stack for use within the Function.

\subsection{14.2. Examples}\label{examples-3}

\begin{verbatim}
#DECL ((Q) <OR VECTOR CHANNEL>)
\end{verbatim}

declares .Q to be either a \texttt{VECTOR} or a \texttt{CHANNEL}.

\begin{verbatim}
#DECL ((P Q R S) <PRIMTYPE LIST>)
\end{verbatim}

declares \texttt{.P}, \texttt{.Q}, \texttt{.R}, and \texttt{.S} all to be of \texttt{PRIMTYPE} \texttt{LIST}.

\begin{verbatim}
#DECL ((F) <FORM [3 ANY]>)
\end{verbatim}

declares \texttt{.F} to be a \texttt{FORM} whose length is at least three, containing objects of any old \texttt{TYPE}.

\begin{verbatim}
#DECL ((LL) <<PRIMTYPE LIST> [4 <LIST [REST FIX]>]>)
\end{verbatim}

declares \texttt{.LL} to be of \texttt{PRIMTYPE} \texttt{LIST}, and to have at least four elements, each of which are
\texttt{LIST}s of unspecified length (possibly empty) containing \texttt{FIX}es.

\begin{verbatim}
#DECL ((VV) <VECTOR FIX ATOM CHARACTER>)
\end{verbatim}

declares \texttt{.VV} to be a \texttt{VECTOR} with at least three elements. Those elements are, in order, of \texttt{TYPE}
\texttt{FIX}, \texttt{ATOM}, and \texttt{CHARACTER}.

\begin{verbatim}
#DECL ((EH) <LIST ATOM [REST FLOAT]>)
\end{verbatim}

declares \texttt{.EH} to be a \texttt{LIST} whose first element is an \texttt{ATOM} and the rest of whose elements are
\texttt{FLOAT}s. It also says that \texttt{.EH} is at least one element long.

\begin{verbatim}
#DECL ((FOO) <LIST [REST 'T FIX]>)
\end{verbatim}

declares \texttt{.FOO} to be a \texttt{LIST} whose odd-positioned elements are the \texttt{ATOM} \texttt{T} and whose
even-positioned elements are \texttt{FIX}es.

\begin{verbatim}
<MAPR <>
      <FUNCTION (X)
        #DECL ((X) <VECTOR [1 FIX]>)
        <PUT .X 1 0>>
      .FOO>
\end{verbatim}

declares \texttt{.X} to be a \texttt{VECTOR} containing at least one \texttt{FIX}. The more restrictive
\texttt{{[}REST\ FIX{]}} would take excessive checking time by the interpreter, because the \texttt{REST} of the
\texttt{VECTOR} would be checked on each iteration of the \texttt{MAPR}. In this case both \texttt{DECL}s are equally
powerful, because checking the first element of all the \texttt{REST}s of a structure eventually checks all the elements.
Also, since the \texttt{FUNCTION} refers only to the first element of \texttt{X}, this is as much declaration as the
compiler can effectively use. (If this \texttt{VECTOR} always contains only \texttt{FIX}es, it should be a \texttt{UVECTOR}
instead, for space efficiency. Then a \texttt{{[}REST\ FIX{]}} \texttt{DECL} would make the interpreter check only the
\texttt{UTYPE}. If the \texttt{FIX}es cover a small non-negative range, then a \texttt{BYTES} might be even better, with a
\texttt{DECL} of \texttt{\textless{}BYTES\ n\ 0\textgreater{}}.)

\begin{verbatim}
<DEFINE FACT (N)
        #DECL ((N) <UNSPECIAL FIX>)
        <COND (<0? .N> 1) (ELSE <* .N <FACT <- .N 1>>>)>>
\end{verbatim}

declares \texttt{.N} to be of \texttt{TYPE} \texttt{FIX} and \texttt{UNSPECIAL}. This specialty declaration ensures that,
independent of \texttt{SPECIAL-MODE} during compiling, \texttt{.N} gets compiled into a fast control-stack reference.

\begin{verbatim}
<PROG ((L (0))
        #DECL ((L VALUE) <UNSPECIAL <LIST [REST FIX]>>
               (N <UNSPECIAL FIX>))
        <COND (<0? .N> <RETURN .L>)>
        <SET L (<+ .N <1 .L>> !.L)>
        <SET N <- .N 1>>>
\end{verbatim}

The above declares \texttt{L} and \texttt{N} to be \texttt{UNSPECIAL}, says that \texttt{.N} is a \texttt{FIX}, and says
that \texttt{.L}, along with the value returned, is a \texttt{LIST} of any length composed entirely of \texttt{FIX}es.

\subsection{14.3. The DECL Syntax}\label{the-decl-syntax}

This section gives quasi-BNF productions for the MDL \texttt{DECL} syntax. In the following table MDL type-specifiers are
distinguished \emph{in this way}.

\begin{verbatim}
decl    ::=     #DECL (declprs)

declprs ::=     (atlist) pattern | declprs declprs

atlist  ::=     atom | atom atlist

pattern ::=     pat | <UNSPECIAL pat> | <SPECIAL pat>

pat     ::=     unit | <OR unit ... unit>

unit    ::=     type | <PRIMTYPE type> | atom | 'any
                | ANY | STRUCTURED | LOCATIVE |APPLICABLE
                | <struc elts> | <<OR struc ... struc> elts>
                | !<struc elts> | !<<OR struc ... struc> elts>
                | <bstruc fix> | <bstruc fix fix>
                | !<bstruc fix fix>

struc   ::=     structured-type | <PRIMTYPE structured-type>

bstruc  ::=     BYTES | <PRIMTYPE BYTES>

elts    ::=     pat | pat elts
                | [fix pat ... pat]
                | [fix pat ... pat] elts
                | [opt pat ... pat] | [REST pat ... pat]
                | [opt pat ... pat] [REST pat ... pat]

opt     ::=     OPT | OPTIONAL
\end{verbatim}

\subsection{14.4. Good DECLs}\label{good-decls}

There are some rules of thumb concerning ``good'' \texttt{DECL}s. A ``good'' \texttt{DECL} is one that is minimally
offensive to the \texttt{DECL}-checking mechanism and the compiler, but that gives the maximum amount of information. It is
simple to state what gives offense to the compiler and \texttt{DECL}-checking mechanism: complexity. For example, a large
compound \texttt{DECL} like:

\begin{verbatim}
#DECL ((X) <OR FIX LIST UVECTOR FALSE>)
\end{verbatim}

is a \texttt{DECL} that the compiler will find totally useless. It might as well be \texttt{ANY}. The more involved the
\texttt{OR}, the less information the compiler will find useful in it. For example, if the function takes
\texttt{\textless{}OR\ LIST\ VECTOR\ UVECTOR\textgreater{}}, maybe you should really say \texttt{STRUCTURED}. Also, a very
general \texttt{DECL} indicates a very general program, which is not likely to be efficient when compiled (of course there
is a trade-off here). Narrowing the \texttt{DECL} to one \texttt{PRIMTYPE} gives a great gain in compiled efficiency, to
one \texttt{TYPE} still more.

Another situation to be avoided is the ordinary large \texttt{DECL}, even if it is perfectly straightforward. If you have
created a structure which has a very specific \texttt{DECL} and is used all over your code, it might be better as a
\texttt{NEWTYPE} (see below). The advantage of a \texttt{NEWTYPE} over a large explicit \texttt{DECL} is twofold. First,
the entire structure must be checked only when it is created, that is, \texttt{CHTYPE}d from its \texttt{PRIMTYPE}. As a
full \texttt{DECL}, it is checked completely on entering each function and on each reassignment of \texttt{ATOM}s
\texttt{DECL}ed to be it. Second, the amount of storage saved in the \texttt{DECL}s of \texttt{FUNCTION}s and so on is
large, not to mention the effort of typing in and keeping up to date several instances of the full \texttt{DECL}.

\subsection{14.5. Global DECLs}\label{global-decls}

\subsubsection{14.5.1. GDECL and MANIFEST}\label{gdecl-and-manifest}

There are two ways to declare \texttt{GVAL}s for the \texttt{DECL}-checking mechanism. These are through the
\texttt{FSUBR}\index{\texttt{FSUBR}} \texttt{GDECL} \index{\texttt{GDECL}|textbf} (``global declaration'') and the
\texttt{SUBR} \texttt{MANIFEST}\index{\texttt{MANIFEST}|textbf}.

\begin{verbatim}
<GDECL atoms:list Pattern ...>
\end{verbatim}

\texttt{GDECL} allows the type/structure of global values to be declared in much the same way as local values. Example:

\begin{verbatim}
<GDECL (X) FIX (Y) <LIST FIX>>
\end{verbatim}

declares \texttt{,X} to be a \texttt{FIX}, and \texttt{,Y} to be a \texttt{LIST} containing at least one \texttt{FIX}.

\begin{verbatim}
<MANIFEST atom atom ...>
\end{verbatim}

\texttt{MANIFEST} takes as arguments \texttt{ATOM}s whose \texttt{GVAL}s are declared to be constants. It is used most
commonly to indicate that certain \texttt{ATOM}s are the names of offsets in structures. For example:

\begin{verbatim}
<SETG X 1>
<MANIFEST X>
\end{verbatim}

allows the compiler to confidently open-compile applications of \texttt{X} (getting the first element of a structure),
knowing that \texttt{,X} will not change. Any sort of object can be a \texttt{MANIFEST} value: if it does not get embedded
in the compiled code, it is included in the \texttt{RSUBR}'s ``reference vector'', for fast access. However, as a general
rule, structured objects should not be made \texttt{MANIFEST}: the \texttt{SETG} will instead refer to a \textbf{distinct}
copy of the object in \textbf{each} \texttt{RSUBR} that does a \texttt{GVAL}. A structured object should instead be
\texttt{GDECL}ed.

An attempt to \texttt{SETG} a \texttt{MANIFEST} atom will cause an error, unless either:

\begin{enumerate}
\def\labelenumi{\arabic{enumi}.}
\tightlist
\item
  the \texttt{ATOM} was previously globally unassigned;
\item
  the old value is \texttt{==?} to the new value; or
\item
  \texttt{.REDEFINE} is not \texttt{FALSE}.
\end{enumerate}

\subsubsection{14.5.2. MANIFEST? and UNMANIFEST}\label{manifest-and-unmanifest}

\begin{verbatim}
<MANIFEST? atom>
\end{verbatim}

\index{\texttt{MANIFEST?}|textbf} returns \texttt{T} if \emph{atom} is \texttt{MANIFEST}, \texttt{\#FALSE\ ()} otherwise.

\begin{verbatim}
<UNMANIFEST atom atom ...>
\end{verbatim}

\index{\texttt{UNMANIFEST}|textbf} removes the \texttt{MANIFEST} of the global value of each of its arguments so that the
value can be changed.

\subsubsection{14.5.3. GBOUND?}\label{gbound}

\begin{verbatim}
<GBOUND? atom>
\end{verbatim}

\index{\texttt{GBOUND?}|textbf} (``globally bound'') returns \texttt{T} if \emph{atom} has a global value slot (that is, if
it has ever been \texttt{SETG}ed, \texttt{MANIFEST}, \texttt{GDECL}ed, or \texttt{GLOC}ed (chapter 12) with a true second
argument), \texttt{\#FALSE\ ()} otherwise.

\subsection{14.6. NEWTYPE (again)}\label{newtype-again}

\index{\texttt{NEWTYPE}|textbf} \texttt{NEWTYPE} gives the programmer another way to \texttt{DECL} objects. The third (and
optional) argument of \texttt{NEWTYPE} is a \texttt{QUOTE}d Pattern. If given, it will be saved as the value of an
association (chapter 13) using the name of the \texttt{NEWTYPE} as the item and the \texttt{ATOM} \texttt{DECL} as the
indicator, and it will be used to check any object that is about to be \texttt{CHTYPE}d to the \texttt{NEWTYPE}. For
example:

\begin{verbatim}
<NEWTYPE COMPLEX-NUMBER VECTOR '<<PRIMTYPE VECTOR> FLOAT FLOAT>>
\end{verbatim}

creates a new \texttt{TYPE}, with its first two elements declared to be \texttt{FLOAT}s. If later someone types:

\begin{verbatim}
#COMPLEX-NUMBER [1.0 2]
\end{verbatim}

an error will result (the second element is not a \texttt{FLOAT}). The Pattern can be replaced by doing another
\texttt{NEWTYPE} for the same \texttt{TYPE}, or by putting a new value in the association. Further examples:

\begin{verbatim}
<NEWTYPE FOO LIST '<<PRIMTYPE LIST> FIX FLOAT [REST ATOM]>>
\end{verbatim}

causes \texttt{FOO}s to contain a \texttt{FIX} and a \texttt{FLOAT} and any number of \texttt{ATOM}s.

\begin{verbatim}
<NEWTYPE BAR LIST>

<SET A #BAR (#BAR () 1 1.2 GRITCH)>

<NEWTYPE BAR LIST '<<PRIMTYPE LIST> BAR [REST FIX FLOAT ATOM]>>
\end{verbatim}

This is an example of a recursively \texttt{DECL}ed \texttt{TYPE}. Note that \texttt{\textless{}1\ .A\textgreater{}} does
not satisfy the \texttt{DECL}, because it is empty, but it was \texttt{CHTYPE}d before the \texttt{DECL} was associated
with \texttt{BAR}. Now, even
\texttt{\textless{}CHTYPE\ \textless{}1\ .A\textgreater{}\ \textless{}TYPE\ \textless{}1\ .A\textgreater{}\textgreater{}\textgreater{}}
will cause an error.

In each of these examples, the \texttt{\textless{}\textless{}PRIMTYPE\ ...\textgreater{}\ ...\textgreater{}} construction
was used, in order to permit \texttt{CHTYPE}ing an object into itself. See what happens otherwise:

\begin{verbatim}
<NEWTYPE OOPS LIST '<LIST ATOM FLOAT>>$
OOPS
<SET A <CHTYPE (E 2.71828) OOPS>>$
#OOPS (E 2.71828)
\end{verbatim}

Now \texttt{\textless{}CHTYPE\ .A\ OOPS\textgreater{}} will cause an error. Unfortunately, you must

\begin{verbatim}
<CHTYPE <CHTYPE .A LIST> OOPS>$
#OOPS (E 2.71828)
\end{verbatim}

\subsection{14.7. Controlling DECL Checking}\label{controlling-decl-checking}

There are several \texttt{SUBR}s and \texttt{FSUBR}s in MDL that are used to control and interact with the
\texttt{DECL}-checking mechanism.

\subsubsection{14.7.1. DECL-CHECK}\label{decl-check}

This entire complex checking mechanism can get in the way during debugging. As a result, the most commonly used
\texttt{DECL}-oriented \texttt{SUBR} is \texttt{DECL-CHECK}\index{\texttt{DECL-CHECK}|textbf}. It is used to enable and
disable the entire \texttt{DECL}-checking mechanism.

\begin{verbatim}
<DECL-CHECK false-or-any>
\end{verbatim}

If its single argument is non-\texttt{FALSE}, \texttt{DECL} checking is turned on; if it is \texttt{FALSE}, \texttt{DECL}
checking is turned off. The previous state is returned as a value. If no argument is given, \texttt{DECL-CHECK} returns the
current state. In an initial MDL \texttt{DECL} checking is on.

When \texttt{DECL} checking is on, the \texttt{DECL} of an \texttt{ATOM} is checked each time it is \texttt{SET}, the
arguments and results of calls to \texttt{FUNCTION}s, \texttt{RSUBR}s, and \texttt{RSUBR-ENTRY}s are checked, and the
values returned by \texttt{PROG} and \texttt{REPEAT} are checked. The same is done for \texttt{SETG}s and, in particular,
attempts to change \texttt{MANIFEST} global values. Attempts to \texttt{CHTYPE} an object to a \texttt{NEWTYPE} (if the
\texttt{NEWTYPE} has the optional \texttt{DECL}) are also checked. When \texttt{DECL} checking is off, none of these checks
is performed.

\subsubsection{14.7.2. SPECIAL-CHECK and SPECIAL-MODE}\label{special-check-and-special-mode}

\begin{verbatim}
<SPECIAL-CHECK false-or-any>
\end{verbatim}

\index{\texttt{SPECIAL-CHECK}|textbf} controls whether or not \texttt{SPECIAL} checking is performed at run time by the
interpreter. It is initially off. Failure to declare an \texttt{ATOM} to be \texttt{SPECIAL} when it should be will produce
buggy compiled code.

\begin{verbatim}
<SPECIAL-MODE specialty:atom>
\end{verbatim}

\index{\texttt{SPECIAL-MODE}|textbf} sets the declaration used by default (for \texttt{ATOM}s not declared either way) and
returns the previous such declaration, or the current such declaration if no argument is given. The initial declaration
used by default is \texttt{UNSPECIAL}.

\subsubsection{14.7.3. GET-DECL and PUT-DECL}\label{get-decl-and-put-decl}

\texttt{GET-DECL}\index{\texttt{GET-DECL}|textbf} and \texttt{PUT-DECL}\index{\texttt{PUT-DECL}|textbf} are used to examine
and change the current \texttt{DECL} (of either the global or the local value) of an \texttt{ATOM}.

\begin{verbatim}
<GET-DECL locd>
\end{verbatim}

returns the \texttt{DECL} Pattern (if any, otherwise \texttt{\#FALSE\ ()}) associated with the global or local value slot
of an \texttt{ATOM}. For example:

\begin{verbatim}
<PROG (X)
      #DECL ((X) <OR FIX FLOAT>)
      ...
      <GET-DECL <LLOC X>>
      ...>
\end{verbatim}

would return \texttt{\textless{}OR\ FIX\ FLOAT\textgreater{}} as the result of the application of \texttt{GET-DECL}. Note
that because of the use of \texttt{LLOC} (or \texttt{GLOC}, for global values) the \texttt{ATOM} being examined must be
bound; otherwise you will get an error! This can be gotten around by testing first with \texttt{BOUND?} (or
\texttt{GBOUND?}, or by giving \texttt{GLOC} a second argument which is not \texttt{FALSE}).

If the slot being examined is the global slot and the value is \texttt{MANIFEST}, then the \texttt{ATOM} \texttt{MANIFEST}
is returned. If the value being examined is not \texttt{DECL}ed, \texttt{\#FALSE\ ()} is returned.

\begin{verbatim}
<PUT-DECL locd Pattern>
\end{verbatim}

makes \emph{Pattern} be the \texttt{DECL} for the value and returns \emph{locd}. If
\texttt{\textless{}DECL-CHECK\textgreater{}} is true, the current value must satisfy the new Pattern. \texttt{PUT-DECL} is
normally used in debugging, to change the \texttt{DECL} of an object to correspond to changes in the program. Note that it
is not legal to \texttt{PUT-DECL} a ``Pattern'' of \texttt{MANIFEST} or \texttt{\#FALSE\ ()}.

\subsubsection{14.7.4. DECL?}\label{decl}

\begin{verbatim}
<DECL? any Pattern>
\end{verbatim}

\index{\texttt{DECL?}|textbf} specifically checks \emph{any} against \emph{Pattern}. For example:

\begin{verbatim}
<DECL? '[1 2 3] '<VECTOR [REST FIX]>>$
T
<DECL? '[1 2.0 3.0] '<VECTOR [REST FIX]>>$
#FALSE ()
\end{verbatim}

\subsection{14.8. OFFSET}\label{offset}

\index{\texttt{OFFSET}|textbf} An \texttt{OFFSET} is essentially a \texttt{FIX}\index{\texttt{FIX}} with a Pattern
attached, considered as an \texttt{APPLICABLE} rather than a number. An \texttt{OFFSET} allows a program to specify the
type of structure that its \texttt{FIX} applies to. \texttt{OFFSET}s, like \texttt{DECL}s -- if used properly -- can make
debugging considerably easier; they will eventually also help the compiler generate more efficient code.

The \texttt{SUBR} \texttt{OFFSET} takes two arguments, a \texttt{FIX} and a Pattern, and returns an object of \texttt{TYPE}
and \texttt{PRIMTYPE} \texttt{OFFSET}. An \texttt{OFFSET}, like a \texttt{FIX}, may be given as an argument to \texttt{NTH}
or \texttt{PUT} and may be applied to arguments. The only difference is that the \texttt{STRUCTURED} argument must match
the Pattern contained in the \texttt{OFFSET}, or an error will result. Thus:

\begin{verbatim}
<SETG FOO <OFFSET 1 '<CHANNEL FIX>>>$
%<OFFSET 1 '<CHANNEL FIX>>
<FOO ,INCHAN>$
1
<FOO <ROOT>>$
*ERROR*
ARG-WRONG-TYPE
NTH
LISTENING-AT-LEVEL 2 PROCESS 1
\end{verbatim}

Note: when the compiler gets around to understanding \texttt{OFFSET}s, it will not do the right thing with them unless they
are \texttt{MANIFEST}. Since there's no good reason not to \texttt{MANIFEST} them, this isn't a problem.

The \texttt{SUBR} \texttt{INDEX}\index{\texttt{INDEX}|textbf}, given an \texttt{OFFSET}, returns its \texttt{FIX}:

\begin{verbatim}
<INDEX ,FOO>$
1
\end{verbatim}

\texttt{GET-DECL}\index{\texttt{GET-DECL}} of an \texttt{OFFSET} returns the associated Pattern; \texttt{PUT-DECL}
\index{\texttt{PUT-DECL}} of an \texttt{OFFSET} and a Pattern returns a new \texttt{OFFSET} with the same \texttt{INDEX} as
the argument, but with a new Pattern:

\begin{verbatim}
<GET-DECL ,FOO>$
<CHANNEL FIX>
<PUT-DECL ,FOO OBLIST>$
%<OFFSET 1 OBLIST>
,FOO$
%<OFFSET 1 '<CHANNEL FIX>>
\end{verbatim}

An \texttt{OFFSET} is not a structured object, as this example should make clear.

\subsection{14.9. The RSUBR DECL}\label{the-rsubr-decl}

The \texttt{RSUBR} \texttt{DECL} is similar to the \texttt{ATOM} \texttt{DECL}, except that the declarations are of
argument positions and value rather than of specific \texttt{ATOM}s. Patterns can be preceded by \texttt{STRING}s which
further describe the argument (or value).

The simplest \texttt{RSUBR} \texttt{DECL} is for an \texttt{RSUBR} or \texttt{RSUBR-ENTRY} (chapter 19) which has all of
its arguments evaluated and returns a \texttt{DECL}ed value. For example:

\begin{verbatim}
#DECL ("VALUE" FIX FIX FLOAT)
\end{verbatim}

\index{\texttt{""VALUE""}|textbf} declares that there are two arguments, a \texttt{FIX} and a \texttt{FLOAT}, and a result
which is a \texttt{FIX}. While the \texttt{STRING} \texttt{"VALUE"} is not constrained to appear at the front of the
\texttt{DECL}, it does appear there by custom. It need not appear at all, if the result is not to be declared, but (again
by custom) in this case it is usually declared \texttt{ANY}.

If any arguments are optional, the \texttt{STRING} \texttt{"OPTIONAL"} \index{\texttt{""OPTIONAL""}} (or \texttt{"OPT"})
\index{\texttt{""OPT""}} is placed before the Pattern for the first optional argument:

\begin{verbatim}
#DECL ("VALUE" FIX FIX "OPTIONAL" FLOAT)
\end{verbatim}

If any of the arguments is not to be evaluated, it is preceded by the \texttt{STRING} \texttt{"QUOTE"}:
\index{\texttt{""QUOTE""}|textbf}

\begin{verbatim}
#DECL ("VALUE" FIX "QUOTE" FORM)
\end{verbatim}

declares one argument, which is not \texttt{EVAL}ed.

If the arguments are to be evaluated and gathered into a \texttt{TUPLE}, \index{\texttt{""TUPLE""}} the Pattern for it is
preceded by the \texttt{STRING} \texttt{"TUPLE"}:

\begin{verbatim}
#DECL ("VALUE" FIX "TUPLE" <TUPLE [REST FIX]>)
\end{verbatim}

If the arguments are to be unevaluated and gathered into a \texttt{LIST}, or if the calling \texttt{FORM} is the only
``argument'', the Pattern is preceded by the appropriate \texttt{STRING}:

\begin{verbatim}
#DECL ("VALUE" FIX "ARGS" LIST)

#DECL ("VALUE" FIX "CALL" <PRIMTYPE LIST>)
\end{verbatim}

In every case the special indicator \texttt{STRING} is followed by a Pattern which describes the argument, even though it
may sometimes produce fairly ludicrous results, since the pattern for \texttt{"TUPLE"} always must be a \texttt{TUPLE}; for
\texttt{"ARGS"}, a \texttt{LIST}; and for \texttt{"CALL"}, a \texttt{FORM} or \texttt{SEGMENT}.

\section{Chapter 15. Lexical Blocking}\label{chapter-15.-lexical-blocking}

Lexical, or static, blocking is another means of preventing identifier collisions in MDL. (The first was dynamic blocking
-- binding and \texttt{ENVIRONMENT}s.) By using a subset of the MDL lexical blocking facilities, the ``block structure'' of
such languages as Algol, PL/I, SAIL, etc., can be simulated, should you wish to do so.

\subsection{15.1. Basic Considerations}\label{basic-considerations}

Since what follows appears to be rather complex, a short discussion of the basic problem lexical blocking solves and MDL's
basic solution will be given first.

\texttt{ATOM}s are identifiers. It is thus essential that whenever you type an \texttt{ATOM}, \texttt{READ} should respond
with the unique identifier you wish to designate. The problem is that it is unreasonable to expect the \texttt{PNAME}s of
all \texttt{ATOM}s to be unique. When you use an \texttt{ATOM} \texttt{A} in a program, do you mean the \texttt{A} you
typed two minutes ago, the \texttt{A} you used in another one of your programs, or the \texttt{A} used by some library
program?

Dynamic blocking (pushing down of \texttt{LVAL}s) solves many such problems. However, there are some which it does not
solve -- such as state variables (whether they are impure or pure). Major problems with a system having only dynamic
blocking usually arise only when attempts are made to share large numbers of significant programs among many people.

The solution used in MDL is basically as follows: \texttt{READ} must maintain at least one table of \texttt{ATOM}s to
guarantee any uniqueness. So, MDL allows many such tables and makes it easy for the user to specify which one is wanted.
Such a table is an object of \texttt{TYPE} \texttt{OBLIST} (``object list''). All the complication which follows arises out
of a desire to provide a powerful, easily used method of working with \texttt{OBLIST}s, with reasonable values used by
default.

\subsection{15.2. OBLISTs}\label{oblists}

An \texttt{OBLIST} is of \texttt{PRIMTYPE} \texttt{UVECTOR} with \texttt{UTYPE} \texttt{LIST}; the \texttt{LIST} holds
\texttt{ATOM}s. The \texttt{ATOM}s are ordered by a hash coding on their \texttt{PNAME}s: each \texttt{LIST} is a hashing
bucket.) What follows is information about \texttt{OBLIST}s as such.

\subsubsection{15.2.1. OBLIST Names}\label{oblist-names}

\index{\texttt{OBLIST}|textbf} Every normally constituted \texttt{OBLIST} has a name. The name of an \texttt{OBLIST} is an
\texttt{ATOM} associated with the \texttt{OBLIST} under the indicator \texttt{OBLIST}. Thus,

\begin{verbatim}
<GETPROP oblist OBLIST>
\end{verbatim}

or

\begin{verbatim}
<GET oblist OBLIST>
\end{verbatim}

returns the name of \emph{oblist}.

Similarly, every name of an \texttt{OBLIST} is associated with its \texttt{OBLIST}, again under the indicator
\texttt{OBLIST}, so that

\begin{verbatim}
<GETPROP oblist-name:atom OBLIST>
\end{verbatim}

or

\begin{verbatim}
<GET oblist-name:atom OBLIST>
\end{verbatim}

returns the \texttt{OBLIST} whose name is \emph{oblist-name}.

Since there is nothing special about the association of \texttt{OBLIST}s and their names, the name of an \texttt{OBLIST}
can be changed by the use of \texttt{PUTPROP}, both on the \texttt{OBLIST} and its name. It is not wise to change the
\texttt{OBLIST} association without changing the name association, since you are likely to confuse \texttt{READ} and
\texttt{PRINT} terribly.

You can also use \texttt{PUT} or \texttt{PUTPROP} to remove the association between an \texttt{OBLIST} and its name
completely. If you want the \texttt{OBLIST} to go away (be garbage collected), \textbf{and} you want to keep its name
around, this must be done: otherwise the association will force it to stay, even if there are no other references to it.
(If you have no references to either the name or the \texttt{OBLIST} (an \texttt{ATOM} -- including a \texttt{TYPE} name --
points to its \texttt{OBLIST}), both of them -- and their association -- will go away without your having to remove the
association, of course.) It is not recommended that you remove the name of an \texttt{OBLIST} without having it go away,
since then \texttt{ATOM}s in that \texttt{OBLIST} will \texttt{PRINT} the name as if they were in no \texttt{OBLIST} --
which is defeating the purpose of this whole exercise.

\subsubsection{15.2.2. MOBLIST}\label{moblist}

\begin{verbatim}
<MOBLIST atom fix>
\end{verbatim}

\index{\texttt{MOBLIST}|textbf} (``make oblist'') creates and returns a new \texttt{OBLIST}, containing no \texttt{ATOM}s,
whose name is \emph{atom}, unless there already exists an \texttt{OBLIST} of that name, in which case it returns the
existing \texttt{OBLIST}. \emph{fix} is the size of the \texttt{OBLIST} created -- the number of hashing buckets.
\emph{fix} is optional (ignored if the \texttt{OBLIST} already exists), 13 by default. If specified, \emph{fix} should be a
prime number, since that allows the hashing to work better.

\subsubsection{15.2.3. OBLIST?}\label{oblist}

\begin{verbatim}
<OBLIST? atom>
\end{verbatim}

\index{\texttt{OBLIST?}|textbf} returns \texttt{\#FALSE\ ()} if \emph{atom} is not in any \texttt{OBLIST}. If \emph{atom}
is in an \texttt{OBLIST}, it returns that \texttt{OBLIST}.

\subsection{15.3. READ and OBLISTs}\label{read-and-oblists}

\texttt{READ}\index{\texttt{READ}} can be explicitly told to look up an \texttt{ATOM} in a particular \texttt{OBLIST} by
giving the \texttt{ATOM} a \textbf{trailer}. A trailer consists of the characters \texttt{!-} \index{\texttt{"!-}|textbf}
(exclamation-point dash) following the \texttt{ATOM}, immediately followed by the name of the \texttt{OBLIST}. For example,

\begin{verbatim}
A!-OB
\end{verbatim}

specifies the unique \texttt{ATOM} of \texttt{PNAME} \texttt{A} which is in the \texttt{OBLIST} whose name is the
\texttt{ATOM} \texttt{OB}.

Note that the name of the \texttt{OBLIST} must follow the \texttt{!-} with \textbf{no} separators (like space, tab,
carriage-return, etc.). There is a name used by default (section 15.5) which types out and is typed in as
\texttt{!-}\emph{separator}.

Trailers can be used recursively:

\begin{verbatim}
B!-A!-OB
\end{verbatim}

specified the unique \texttt{ATOM} of \texttt{PNAME} \texttt{B} which is in the \texttt{OBLIST} whose name is the unique
\texttt{ATOM} of \texttt{PNAME} \texttt{A} which is in the \texttt{OBLIST} whose name is \texttt{OB}. (Whew!) The
repetition is terminated by the look-up and insertion described below.

If an \texttt{ATOM} with a given \texttt{PNAME} is not found in the \texttt{OBLIST} specified by a trailer, a new
\texttt{ATOM} with that \texttt{PNAME} is created and inserted into that \texttt{OBLIST}.

If an \texttt{OBLIST} whose name is given in a trailer does not exist, \texttt{READ} creates one, of length 13 buckets.

If trailer notation is not used (the ``normal'' case), and for an \texttt{ATOM} that terminates a trailer, \texttt{READ}
looks up the \texttt{PNAME} of the \texttt{ATOM} in a \texttt{LIST} of \texttt{OBLIST}s, the \texttt{LVAL} of the
\texttt{ATOM} \texttt{OBLIST} by default. This look-up starts with \texttt{\textless{}1\ .OBLIST\textgreater{}} and
continues until \texttt{.OBLIST} is exhausted. If the \texttt{ATOM} is not found. \texttt{READ} usually inserts it into
\texttt{\textless{}1\ .OBLIST\textgreater{}}. (It is possible to force \texttt{READ} to use a different element of the
\texttt{LIST} of \texttt{OBLIST}s for new insertions. If the \texttt{ATOM} \texttt{DEFAULT}\index{\texttt{DEFAULT}} is in
that \texttt{LIST}, the \texttt{OBLIST} following that \texttt{ATOM} will be used.)

\subsection{15.4. PRINT and OBLISTs}\label{print-and-oblists}

When \texttt{PRINT}\index{\texttt{PRINT}} is given an \texttt{ATOM} to output, it outputs as little of the trailer as is
necessary to specify the \texttt{ATOM} uniquely to \texttt{READ}. That is, if the \texttt{ATOM} is the \textbf{first}
\texttt{ATOM} of that \texttt{PNAME} which \texttt{READ} would find in its normal look-up in the current \texttt{.OBLIST},
no trailer is output. Otherwise, \texttt{!-} is output and the name of the \texttt{OBLIST} is recursively \texttt{PRIN1}ed.

Warning: there are obscure cases, which do not occur in normal practice, for which the \texttt{PRINT} trailer does not
terminate. For instance, if an \texttt{ATOM} must have a trailer printed, and the name of the \texttt{OBLIST} is an
\texttt{ATOM} in that very same \texttt{OBLIST}, death. Any similar case will also give \texttt{PRINT} a hernia.

\subsection{15.5. Initial State}\label{initial-state}

In an initial MDL, \texttt{.OBLIST} contains two \texttt{OBLIST}s\index{\texttt{OBLIST}|textbf}.
\texttt{\textless{}1\ .OBLIST\textgreater{}} initially contains no \texttt{ATOM}s, and
\texttt{\textless{}2\ .OBLIST\textgreater{}} contains all the \texttt{ATOM}s whose \texttt{GVAL} are \texttt{SUBR}s or
\texttt{FSUBR}s, as well as \texttt{OBLIST}, \texttt{DEFAULT}\index{\texttt{DEFAULT}|textbf}, \texttt{T}, etc. It is
difficult to lose track of the latter; the specific trailer \texttt{!-}\emph{separator} will \textbf{always} cause
references to that \texttt{OBLIST}. In addition, the \texttt{SUBR} \texttt{ROOT}\index{\texttt{ROOT}|textbf}, which takes
no arguments, always returns that \texttt{OBLIST}.

The name of \texttt{\textless{}ROOT\textgreater{}} is \texttt{ROOT}; this \texttt{ATOM} is in
\texttt{\textless{}ROOT\textgreater{}} and would cause infinite recursion were it not for the use of
\texttt{!-}\emph{separator}. The name of the initial \texttt{\textless{}1\ .OBLIST\textgreater{}} is
\texttt{INITIAL}\index{\texttt{INITIAL}|textbf} (really \texttt{INITIAL!-}).

The \texttt{ATOM} \texttt{OBLIST} also has a \texttt{GVAL}. \texttt{,OBLIST} is initially the same as \texttt{.OBLIST};
however, \texttt{,OBLIST} is not affected by the \texttt{SUBR}s used to manipulate the \texttt{OBLIST} structure. It is
instead used only when errors occur.

In the case of an error, the current \texttt{.OBLIST} is checked to see if it is ``reasonable'' -- that is, contains
nothing of the wrong \texttt{TYPE}. (It is reasonable, but not standard, for \texttt{.OBLIST} to be a single
\texttt{OBLIST} instead of a \texttt{LIST} of them.) If it is reasonable, that value stays current. Otherwise,
\texttt{OBLIST} is \texttt{SET} to \texttt{,OBLIST}. Note that changes made to the \texttt{OBLIST}s on \texttt{,OBLIST} --
for example, new \texttt{ATOM}s added -- remain. If even \texttt{,OBLIST} is unreasonable, \texttt{OBLIST} is \texttt{SET}
and \texttt{SETG}ed to its initial value. \texttt{\textless{}ERRET\textgreater{}} (section 16.4) always assumes that
\texttt{.OBLIST} is unreasonable.

Three other \texttt{OBLIST}s exist in a virgin MDL: their names and purposes are as follows:

\texttt{ERRORS!-} contains \texttt{ATOM}s whose \texttt{PNAME}s are used as error messages. It is returned by
\texttt{\textless{}ERRORS\textgreater{}}\index{\texttt{ERRORS}|textbf}.

\texttt{INTERRUPTS!-} is used by the interrupt system (section 21.5.1). It is returned by
\texttt{\textless{}INTERRUPTS\textgreater{}}\index{\texttt{INTERRUPTS}}.

\texttt{MUDDLE!-}\index{\texttt{MUDDLE}|textbf} is used infrequently by the interpreter when loading compiled programs to
fix up references to locations within the interpreter.

The pre-loading of compiled programs may create other \texttt{OBLIST}s in an initialized MDL (Lebling, 1979).

\subsection{15.6. BLOCK and ENDBLOCK}\label{block-and-endblock}

These \texttt{SUBR}s are analogous to \textbf{begin} and \textbf{end} in Algol, etc., in the way they manipulate static
blocking (and in \textbf{no} other way.)

\begin{verbatim}
<BLOCK look-up:list-of-oblists>
\end{verbatim}

\index{\texttt{BLOCK}|textbf} returns its argument after ``pushing'' the current \texttt{LVAL} of the \texttt{ATOM}
\texttt{OBLIST} and making its argument the current \texttt{LVAL}. You usually want \texttt{\textless{}ROOT\textgreater{}}
to be an element of \emph{look-up}, normally its last.

\begin{verbatim}
<ENDBLOCK>
\end{verbatim}

\index{\texttt{ENDBLOCK}|textbf} ``pops'' the LVAL of the \texttt{ATOM} \texttt{OBLIST} and returns the resultant
\texttt{LIST} of \texttt{OBLIST}s.

Note that this ``pushing'' and ``popping'' of \texttt{.OBLIST} is entirely independent of functional application, binding,
etc.

\subsection{15.7. SUBRs Associated with Lexical Blocking}\label{subrs-associated-with-lexical-blocking}

\subsubsection{15.7.1. READ (again)}\label{read-again}

\begin{verbatim}
<READ channel eof-routine look-up>
\end{verbatim}

\index{\texttt{READ}|textbf} This is a fuller call to \texttt{READ}. \emph{look-up} is an \texttt{OBLIST} or a
\texttt{LIST} of them, used as stated in section 15.3 to look up \texttt{ATOM}s and insert them in \texttt{OBLIST}s. If not
specified, \texttt{.OBLIST} is used. See also section 11.1.1.1, 11.3, and 17.1.3 for other arguments.

\subsubsection{15.7.2. PARSE and LPARSE (again)}\label{parse-and-lparse-again}

\begin{verbatim}
<PARSE string radix:fix look-up>
\end{verbatim}

\index{\texttt{PARSE}|textbf} as was previously mentioned, applies \texttt{READ}'s algorithm to \emph{string} and returns
the first MDL object resulting. This \textbf{includes} looking up prospective \texttt{ATOM}s on \emph{look-up}, if given,
or \texttt{.OBLIST}. \texttt{LPARSE}\index{\texttt{LPARSE}|textbf} can be called in the same way. See also section 7.6.6.2
and 17.1.3 for other arguments.

\subsubsection{15.7.3. LOOKUP}\label{lookup}

\begin{verbatim}
<LOOKUP string oblist>
\end{verbatim}

\index{\texttt{LOOKUP}|textbf} returns the \texttt{ATOM} of \texttt{PNAME} \emph{string} in the \texttt{OBLIST}
\emph{oblist}, if there is such an \texttt{ATOM}; otherwise, it returns \texttt{\#FALSE\ ()}. If \emph{string} would
\texttt{PARSE}\index{\texttt{PARSE}} into an \texttt{ATOM} anyway, \texttt{LOOKUP} is faster, although it looks in only one
\texttt{OBLIST} instead of a \texttt{LIST} of them.

\subsubsection{15.7.4. ATOM}\label{atom}

\begin{verbatim}
<ATOM string>
\end{verbatim}

\index{\texttt{ATOM}|textbf} creates and returns a spanking new \texttt{ATOM} of \texttt{PNAME} \emph{string} which is
guaranteed not to be on \textbf{any} \texttt{OBLIST}.

An \texttt{ATOM} which is not on any \texttt{OBLIST} is \texttt{PRINT}ed with a trailer of \texttt{!-\#FALSE\ ()}.
\index{\texttt{"!-\#FALSE ()}|textbf}

\subsubsection{15.7.5. REMOVE}\label{remove}

\begin{verbatim}
<REMOVE string oblist>
\end{verbatim}

\index{\texttt{REMOVE}|textbf} removes the \texttt{ATOM} of \texttt{PNAME} \emph{string} from \emph{oblist} and returns
that ATOM. If there is no such \texttt{ATOM}, \texttt{REMOVE} returns \texttt{\#FALSE\ ()}. Also,

\begin{verbatim}
<REMOVE atom>
\end{verbatim}

removes \emph{atom} from its \texttt{OBLIST}, if it is on one. It returns \emph{atom} if it was on an \texttt{OBLIST};
otherwise it returns \texttt{\#FALSE\ ()}.

\subsubsection{15.7.6. INSERT}\label{insert}

\begin{verbatim}
<INSERT string-or-atom oblist>
\end{verbatim}

\index{\texttt{INSERT}|textbf} creates an \texttt{ATOM} of \texttt{PNAME} \emph{string}, inserts it into \emph{oblist} and
returns it. If there is already an \texttt{ATOM} with the same \texttt{PNAME} as \emph{atom} in \emph{oblist}, an error
occurs. The standard way to avoid the error and always get your \emph{atom} is

\begin{verbatim}
<OR <LOOKUP string oblist> <INSERT string oblist>>
\end{verbatim}

As with \texttt{REMOVE}, \texttt{INSERT} can also take an \texttt{ATOM} as its first argument; this \texttt{ATOM} must not
be on any \texttt{OBLIST} -- it must have been \texttt{REMOVE}d, or just created by \texttt{ATOM} -- else an error occurs.
The \texttt{OBLIST} argument is \textbf{never} optional. If you would like the new \texttt{ATOM} to live in the
\texttt{OBLIST} that \texttt{READ} would have chosen, you can \texttt{\textless{}PARSE\ string\textgreater{}} instead.

\subsubsection{15.7.7. PNAME}\label{pname}

\begin{verbatim}
<PNAME atom>
\end{verbatim}

\index{\texttt{PNAME}|textbf} returns a \texttt{STRING} (newly created) which is \emph{atom}'s \texttt{PNAME} (``printed
name''). If trailers are not needed, \texttt{PNAME} is much faster than \texttt{UNPARSE}\index{\texttt{UNPARSE}} on
\emph{atom}. (In fact, \texttt{UNPARSE} has to go all the way through the \texttt{PRINT} algorithm \textbf{twice}, the
first time to see how long a \texttt{STRING} is needed.)

\subsubsection{15.7.8. SPNAME}\label{spname}

\index{\texttt{SPNAME}|textbf} \texttt{SPNAME} (``shared printed name'') is identical to \texttt{PNAME}, except that the
\texttt{STRING} it returns shares storage with \emph{atom} (appendix 1), which is more efficient if the \texttt{STRING}
will not be modified. \texttt{PUT}ting into such a \texttt{STRING} will cause an error.

\subsection{15.8. Example: Another Solution to the INC Problem}\label{example-another-solution-to-the-inc-problem}

What follows is an example of the way \texttt{OBLIST}s are ``normally'' used to provide ``externally available''
\texttt{ATOM}s and ``local'' \texttt{ATOM}s which are not so readily available externally. Lebling (1979) describes a
systematic way to accomplish the same thing and more.
\index{\texttt{BLOCK}}\index{\texttt{ENDBLOCK}}\index{\texttt{INSERT}}\index{\texttt{MOBLIST}}\index{\texttt{REMOVE}}\index{\texttt{ROOT}}

\begin{verbatim}
<MOBLIST INCO 1>
        ;"Create an OBLIST to hold your external symbols.
        Its name is INCO!-INITIAL!- ."

INC!-INCO
        ;"Put your external symbols into that OBLIST.
        If you have many, just write them successively."

<BLOCK (<MOBLIST INCI!-INCO 1> <GET INCO OBLIST> <ROOT>)>
        ;"Create a local OBLIST, naming it INCI!-INCO, and set up
        .OBLIST for reading in your program. The OBLIST INCO is
        included in the BLOCK so that as your external symbols are
        used, they will be found in the right place. Note that the
        ATOM INCO is not in any OBLIST of the BLOCK; therefore,
        trailer notation of !-INCO will not work within the current
        BLOCK-ENDBLOCK pair."

<DEFINE INC     ;"INC is found in the INCO OBLIST."
        (A)     ;"A is not found and is therefore put into INCI by READ."
        #DECL ((VALUE A) <OR FIX FLOAT>)
        <SET .A <+ ..A 1>>>     ;"All other ATOMs are found in the ROOT."
<ENDBLOCK>
\end{verbatim}

This example is rather trivial, but it contains all of the issues, of which there are three.

The first idea is that you should create two \texttt{OBLIST}s, one to hold \texttt{ATOM}s which are to be known to other
users (\texttt{INCO}), and the other to hold internal \texttt{ATOM}s which are not normally of interest to other
(\texttt{INCI}). The case above has one \texttt{ATOM} in each category.

Second, \texttt{INCO} is explicitly used \textbf{without} trailers so that surrounding \texttt{BLOCK} and
\texttt{ENDBLOCK}s will have an effect on it. Thus \texttt{INCO} will be in the \texttt{OBLIST} desired by the user;
\texttt{INC} will be in \texttt{INCO}, and the user can refer to it by saying \texttt{INC!-INCO}; \texttt{INCI} will also
be in \texttt{INCO}, and can be referred to in the same way; finally, \texttt{A} is really \texttt{A!-INCI!-INCO}. The
point of all this is to structure the nesting of \texttt{OBLIST}s.

Finally, if for some reason (like saving storage space) you wish to throw \texttt{INCI} away, you can follow the
\texttt{ENDBLOCK} with

\begin{verbatim}
<REMOVE "INCI" <GET INCO OBLIST>>
\end{verbatim}

and thus remove all references to it. The ability to do such pruning is one reason for structuring \texttt{OBLIST}
references.

Note that, even after removing \texttt{INCI}, you can ``get \texttt{A} back'' -- that is, be able to type it in -- by
saying something of the form

\begin{verbatim}
<INSERT <1 <1 ,INC!-INCO>> <1 .OBLIST>>
\end{verbatim}

thereby grabbing \texttt{A} out of the structure of \texttt{INC} and re-inserting it into an \texttt{OBLIST}. however, this
resurrects the name collision caused by \texttt{\textless{}INC!-INCO\ A\textgreater{}}.

\section{Chapter 16. Errors, Frames, etc.}\label{chapter-16.-errors-frames-etc.}

\subsection{16.1. LISTEN}\label{listen}

This \texttt{SUBR} takes any number of arguments. It first checks the \texttt{LVAL}s of
\texttt{INCHAN}\index{\texttt{INCHAN}}, \texttt{OUTCHAN}\index{\texttt{OUTCHAN}}, and
\texttt{OBLIST}\index{\texttt{OBLIST}} for reasonability and terminal usability. In each case, if the value is
unreasonable, the \texttt{ATOM} is rebound to the corresponding \texttt{GVAL}, if reasonable, or to an invented reasonable
value. \texttt{LISTEN}\index{\texttt{LISTEN}|textbf} then does
\texttt{\textless{}TTYECHO\ .INCHAN\ T\textgreater{}}\index{\texttt{TTYECHO}} and
\texttt{\textless{}ECHOPAIR\ .INCHAN\ .OUTCHAN\textgreater{}}\index{\texttt{ECHOPAIR}}. Next, it \texttt{PRINT}s its
arguments, then \texttt{PRINT}s

\begin{verbatim}
LISTENING-AT-LEVEL i PROCESS p
\end{verbatim}

where \emph{i} is an integer (\texttt{FIX}) which is incremented each time \texttt{LISTEN} is called recursively, and
\emph{p} is an integer identifying the \texttt{PROCESS}\index{\texttt{PROCESS}} (chapter 20) in which the \texttt{LISTEN}
was \texttt{EVAL}ed. \texttt{LISTEN} then does
\texttt{\textless{}APPLY\ \textless{}VALUE\ REP\textgreater{}\textgreater{}}, if there is one, and if it is
\texttt{APPLICABLE}. If not, it applies the \texttt{SUBR} \texttt{REP}\index{\texttt{REP}|textbf} (without making a new
\texttt{FRAME} -- see below). This \texttt{SUBR} drops into an infinite \texttt{READ}-\texttt{EVAL}-\texttt{PRINT} loop,
which can be left via \texttt{ERRET} (section 16.4).

The standard \texttt{LISTEN} loop has two features for getting a handle on objects that you have typed in and MDL has typed
out. If the \texttt{ATOM} \texttt{L-INS}\index{\texttt{L-INS}|textbf} has a local value that is a \texttt{LIST},
\texttt{LISTEN} will keep recent inputs (what \texttt{READ} returns) in it, most recent first. Similarly, if the
\texttt{ATOM} \texttt{L-OUTS}\index{\texttt{L-OUTS}|textbf} has a local value that is a \texttt{LIST}, \texttt{LISTEN} will
keep recent outputs (what \texttt{EVAL} returns) in it, most recent first. The keeping is done before the
\texttt{PRINT}ing, so that \^{}S\index{\texttt{"\^{}S}} does not defeat its purpose. The user can decide how much to keep
around by setting the length of each \texttt{LIST}. Even if \texttt{L-OUTS} is not used, the atom
\texttt{LAST-OUT}\index{\texttt{LAST-OUT}|textbf} is always \texttt{SET} to the last object returned by \texttt{EVAL} in
the standard \texttt{LISTEN} loop. Example:

\begin{verbatim}
<SET L-INS (NEWEST NEWER NEW)>$
(NEWEST NEWER NEW)
.L-INS$
(.L-INS NEWEST NEWER)
<SET FOO 69>$
69
<SET FIXIT <2 .L-INS>>  ;"grab the last input"$
<SET FOO 69>
.L-INS$
(.L-INS <SET FIXIT <2 .L-INS>> <SET FOO 69>)
<PUT .FIXIT 3 105>$
<SET FOO 105>
<EVAL .FIXIT>$
105
.L-INS$
(.L-INS <EVAL .FIXIT> <PUT .FIXIT 3 105>)
.FOO$
105
\end{verbatim}

\subsection{16.2. ERROR}\label{error}

This \texttt{SUBR} is the same as \texttt{LISTEN}, except that (1) it generates an interrupt (chapter 21), if enabled. and
(2) it \texttt{PRINT}s \texttt{*ERROR*} before \texttt{PRINT}ing its arguments.

When any \texttt{SUBR} or \texttt{FSUBR} detects an anomalous condition (for example, its arguments are of the wrong
\texttt{TYPE}), it calls \texttt{ERROR}\index{\texttt{ERROR}|textbf} with at least two arguments, including:

\begin{enumerate}
\def\labelenumi{\arabic{enumi}.}
\tightlist
\item
  an \texttt{ATOM} whose \texttt{PNAME} describes the problem, normally from the \texttt{OBLIST}
  \texttt{ERRORS!-}\index{\texttt{ERRORS}} (appendix 4),
\item
  the \texttt{ATOM} that names the \texttt{SUBR} or \texttt{FSUBR}, and
\item
  any other information of interest, and \textbf{then returns whatever the call to \texttt{ERROR} returns}. Exception: a
  few (for example \texttt{DEFINE}\index{\texttt{DEFINE}}) will take further action that depends on the value returned.
  This nonstandard action is specified in the error message (first \texttt{ERROR} argument).
\end{enumerate}

\subsection{16.3. FRAME (the TYPE)}\label{frame-the-type}

A \texttt{FRAME}\index{\texttt{FRAME}|textbf} is the object placed on a \texttt{PROCESS}'s control stack (chapter 20)
whenever a \texttt{SUBR}\index{\texttt{SUBR}}, \texttt{FSUBR}\index{\texttt{FSUBR}}, \texttt{RSUBR}\index{\texttt{RSUBR}},
or \texttt{RSUBR-ENTRY}\index{\texttt{RSUBR-ENTRY}} (chapter 19) is applied. (These objects are herein collectively called
``Subroutines''\index{\texttt{Subroutine}}.) It contains information describing what was applied, plus a \texttt{TUPLE}
whose elements are the arguments to the Subroutine applied. If any of the Subroutine's arguments are to be evaluated, they
will have been by the time the \texttt{FRAME} is generated.

A \texttt{FRAME} is an anomalous \texttt{TYPE} in the following ways:

\begin{enumerate}
\def\labelenumi{\arabic{enumi}.}
\tightlist
\item
  It cannot be typed in. It can be generated only by applying a Subroutine.
\item
  It does not type out in any standard format, but rather as \texttt{\#FRAME} followed by the \texttt{PNAME} of the
  Subroutine applied.
\end{enumerate}

\subsubsection{16.3.1. ARGS}\label{args-1}

\begin{verbatim}
<ARGS frame>
\end{verbatim}

\index{\texttt{ARGS}|textbf} (``arguments'') returns the argument \texttt{TUPLE} of \emph{frame}.

\subsubsection{16.3.2. FUNCT}\label{funct}

\begin{verbatim}
<FUNCT frame>
\end{verbatim}

\index{\texttt{FUNCT}|textbf} (``function'') returns the \texttt{ATOM} whose G/LVAL\index{\texttt{G/LVAL}} is being applied
in \emph{frame}.

\subsubsection{16.3.3. FRAME (the SUBR)}\label{frame-the-subr}

\begin{verbatim}
<FRAME frame>
\end{verbatim}

\index{\texttt{FRAME}|textbf} returns the \texttt{FRAME} stacked \textbf{before} \emph{frame} or, if there is none, it will
generate an error. The oldest (lowest) \texttt{FRAME} that can be returned without error has a \texttt{FUNCT} of
\texttt{TOPLEVEL}\index{\texttt{TOPLEVEL}|textbf}. If called with no arguments, \texttt{FRAME} returns the topmost
\texttt{FRAME} used in an application of \texttt{ERROR} or \texttt{LISTEN}, which was bound by the interpreter to the
\texttt{ATOM} \texttt{LERR\textbackslash{}\ I-INTERRUPTS}\index{\texttt{LERR"\textbackslash{}}|textbf} (``last error'').

\subsubsection{16.3.4. Examples}\label{examples-4}

Say you have gotten an error. You can now type at \texttt{ERROR}'s \texttt{LISTEN} loop and get things \texttt{EVAL}ed. For
example,

\begin{verbatim}
<FUNCT <FRAME>>$
ERROR
<FUNCT <FRAME <FRAME>>>$
the-name-of-the-Subroutine-which-called-ERROR:atom
<ARGS <FRAME <FRAME>>>$
the-arguments-to-the-Subroutine-which-called-ERROR:tuple
\end{verbatim}

\subsection{16.4. ERRET}\label{erret}

\begin{verbatim}
<ERRET any frame>
\end{verbatim}

\index{\texttt{ERRET}|textbf} This \texttt{SUBR} (``error return'') (1) causes the control stack to be stripped down to the
level of \emph{frame}, and (2) \textbf{then} returns \emph{any}. The net result is that the application which generated
\emph{frame} is forced to return \emph{any}. Additional side effects that would have happened in the absence of an error
may not have happened.

The second argument to \texttt{ERRET} is optional, by default the \texttt{FRAME} of the last invocation of \texttt{ERROR}
or \texttt{LISTEN}\index{\texttt{LISTEN}}.

If \texttt{ERRET} is called with \textbf{no} arguments, it drops you \textbf{all} the way down to the \textbf{bottom} of
the control stack -- \textbf{before} the level-1 \texttt{LISTEN} loop -- and then calls \texttt{LISTEN}. As always,
\texttt{LISTEN} first ensures that MDL is receptive.

Examples:

\begin{verbatim}
<* 3 <+ a 1>>$
*ERROR*
ARG-WRONG-TYPE
+
LISTENING-AT-LEVEL 2 PROCESS 1
<ARGS <FRAME <FRAME>>>$
[a 1]
<ERRET 5>$  ;"This causes the + to return 5."
15      ;"finally returned by the *"
\end{verbatim}

Note that when you are in a call to \texttt{ERROR}, the most recent set of bindings is still in effect. This means that you
can examine values of dummy variables while still in the error state. For example,

\begin{verbatim}
<DEFINE F (A "AUX" (B "a string"))
    #DECL ((VALUE) LIST (A) STRUCTURED (B) STRING)
    (.B <REST .A 2>)    ;"Return this LIST.">$
F
<F '(1)>$

*ERROR*
OUT-OF-BOUNDS
REST
LISTENING-AT-LEVEL 2 PROCESS 1
.A$
(1)
.B$
"a string"
<ERRET '(5)>    ; "Make the REST return (5)."$
("a string" (5))
\end{verbatim}

\subsection{16.5. RETRY}\label{retry}

\begin{verbatim}
<RETRY frame>
\end{verbatim}

\index{\texttt{RETRY}|textbf} causes the control stack to be stripped down just beyond \emph{frame}, and then causes the
Subroutine call that generated \emph{frame} to be done again. \emph{frame} is optional, by default the \texttt{FRAME} of
the last invocation of \texttt{ERROR} or \texttt{LISTEN}. \texttt{RETRY} differs from \texttt{AGAIN} \index{\texttt{AGAIN}}
in that (1) it is not intended to be used in programs; (2) it can retry any old \emph{frame} (any Subroutine call), whereas
\texttt{AGAIN} requires an \texttt{ACTIVATION} \index{\texttt{ACTIVATION}} (\texttt{PROG} or \texttt{REPEAT} or
\texttt{"ACT"}); and (3) if it retries the \texttt{EVAL} of a \texttt{FORM} that makes an \texttt{ACTIVATION}, it will
cause rebinding in the argument \texttt{LIST}, thus duplicating side effects.

\subsection{16.6. UNWIND}\label{unwind}

\index{\texttt{UNWIND}|textbf} \texttt{UNWIND} is an \texttt{FSUBR}\index{\texttt{FSUBR}} that takes two arguments, usually
\texttt{FORM}s. It \texttt{EVAL}s the first one, and, if the \texttt{EVAL} returns normally, the value of the \texttt{EVAL}
call is the value of \texttt{UNWIND}. If, however, during the \texttt{EVAL} a non-local return attempts to return below the
\texttt{UNWIND} \texttt{FRAME} in the control stack, the second argument is \texttt{EVAL}ed, its value is ignored, and the
non-local return is completed. The second argument is evaluated in the environment that was present when the call to
\texttt{UNWIND} was made. This facility is useful for cleaning up data bases that are in inconsistent states and for
closing temporary \texttt{CHANNEL}s that may be left around. \texttt{FLOAD}\index{\texttt{FLOAD}} sets up an
\texttt{UNWIND} to close its \texttt{CHANNEL} if the user attempts to \texttt{ERRET} without finishing the \texttt{FLOAD}.
Example:

\begin{verbatim}
<DEFINE CLEAN ACT ("AUX" (C <OPEN "READ" "A FILE">))
    #DECL ((C) <OR CHANNEL FALSE> ...)
    <COND (.C
        <UNWIND <PROG () ... <CLOSE .C>>
            <CLOSE .C>>)>>
\end{verbatim}

\subsection{16.7. Control-G (\^{}G)}\label{control-g-g}

\index{\texttt{"\^{}G}|textbf} Typing control-G (\^{}G, \texttt{\textless{}ASCII\ 7\textgreater{}}) at MDL causes it to act
just as if an error had occurred in whatever was currently being done. You can then examine the values of variables as
above, continue by applying \texttt{ERRET} to one argument (which is ignored), \texttt{RETRY} a \texttt{FRAME} lower on the
control stack, or flush everything by applying \texttt{ERRET} to no arguments.

\subsection{16.8. Control-S (\^{}S)}\label{control-s-s}

\index{\texttt{"\^{}S}|textbf} Typing control-S (\^{}S, \texttt{\textless{}ASCII\ 19\textgreater{}}) at MDL causes it to
stop what is happening and return to the \texttt{FRAME}
\texttt{.LERR\textbackslash{}\ !-INTERRUPTS}\index{\texttt{LERR"\textbackslash{}}}, returning the \texttt{ATOM} \texttt{T}.
(In the Tenex\index{\texttt{Tenex}} and Tops-20\index{\texttt{Tops-20}} versions, \^{}O\index{\texttt{"\^{}O}|textbf} also
has the same effect.)

\subsection{16.9. OVERFLOW}\label{overflow}

\begin{verbatim}
<OVERFLOW false-or-any>
\end{verbatim}

\index{\texttt{OVERFLOW}|textbf} There is one error that can be disabled: numeric overflow and underflow caused by the
arithmetic \texttt{SUBR}s (\texttt{+}\index{\texttt{+}}, \texttt{-}\index{\texttt{-}}, \texttt{*}, \index{\texttt{*}}
\texttt{/}\index{\texttt{/}}). The \texttt{SUBR} \texttt{OVERFLOW} takes one argument: if it is of \texttt{TYPE}
\texttt{FALSE}, under/overflow errors are disabled; otherwise they are enabled. The initial state is enabled.
\texttt{OVERFLOW} returns \texttt{T} or \texttt{\#FALSE\ ()}, reflecting the previous state. Calling it with no argument
returns the current state.

\section{Chapter 17. Macro-operations}\label{chapter-17.-macro-operations}

\subsection{17.1. READ Macros}\label{read-macros}

\subsubsection{17.1.1. \% and \%\%}\label{and}

The tokens \texttt{\%} \index{\texttt{\%}|textbf} and \texttt{\%\%} \index{\texttt{\%\%}|textbf} are interpreted by
\texttt{READ} in such a way as to give a ``macro'' capability to MDL similar to PL/I's.

Whenever \texttt{READ} encounters a single \texttt{\%} -- anywhere, at any depth of recursion -- it \textbf{immediately},
without looking at the rest of the input, evaluates the object following the \texttt{\%}. The result of that evaluation is
used by \texttt{READ} in place of the object following the \texttt{\%}. That is, \texttt{\%} means ``don't really
\texttt{READ} this, use \texttt{EVAL} of it instead.'' \texttt{\%} is often used in files in front of calls to
\texttt{ASCII}, \texttt{BITS} (which see), etc., although when the \texttt{FUNCTION} is compiled the compiler will do the
evaluation if the arguments are constant. Also seen is \texttt{\%.INCHAN}, read as the \texttt{CHANNEL} in use during
\texttt{LOAD} or \texttt{FLOAD}; for example, \texttt{\textless{}PUT\ \%.INCHAN\ 18\ 8\textgreater{}} causes succeeding
\texttt{FIX}es to be read as octal.

Whenever \texttt{READ} encounters \texttt{\%\%}, it likewise immediately evaluates the object following the \texttt{\%\%}.
However, it completely ignores the result of that evaluation. Side effects of that evaluation remain, of course.

Example:

\begin{verbatim}
<DEFINE SETUP () <SET A 0>>$
SETUP
<DEFINE NXT () <SET A <+ .A 1>>>$
NXT
[%%<SETUP> %<NXT> %<NXT> (%%<SETUP>) %<NXT>]$
[1 2 () 1]
\end{verbatim}

\subsubsection{17.1.2. LINK}\label{link}

\begin{verbatim}
<LINK exp:any string oblist>
\end{verbatim}

\index{\texttt{LINK}|textbf} creates an object of \texttt{TYPE} \texttt{LINK}, \texttt{PRIMTYPE} \texttt{ATOM}. A
\texttt{LINK} looks vaguely like an \texttt{ATOM}; it has a \texttt{PNAME} (the \emph{string} argument), resides in an
\texttt{OBLIST} (the \emph{oblist} argument) and has a ``value'' (the \emph{exp} argument). A \texttt{LINK} has the strange
property that, whenever it is encountered by \texttt{READ} (that is, its \texttt{PNAME} is read, just like an
\texttt{ATOM}, possibly with \texttt{OBLIST} trailers), \texttt{READ} substitutes the \texttt{LINK}'s ``value'' for the
\texttt{LINK} immediately. The effect of \texttt{READ}ing a \texttt{LINK}'s \texttt{PNAME} is exactly the same as the
effect of reading its ``value''.

The \emph{oblist} argument is optional, \texttt{\textless{}1\ .OBLIST\textgreater{}} by default. \texttt{LINK} returns its
first argument. The \texttt{LINK} is created via \texttt{INSERT}, so an error results if there is already an \texttt{ATOM}
or \texttt{LINK} in \emph{oblist} with the same \texttt{PNAME}.

The primary use of \texttt{LINK}s is in interactive work with MDL: expressions which are commonly used, but annoyingly long
to type, can be ``linked'' to \texttt{PNAME}s which are shorter. The standard example is the following:

\begin{verbatim}
<LINK '<ERRET> "^E" <ROOT>>
\end{verbatim}

which links the \texttt{ATOM} of \texttt{PNAME} \texttt{\^{}E} in the \texttt{ROOT} \texttt{OBLIST} to the expression
\texttt{\textless{}ERRET\textgreater{}}.

\subsubsection{17.1.3. Program-defined Macro-characters}\label{program-defined-macro-characters}

During \texttt{READ}ing from an input \texttt{CHANNEL} or \texttt{PARSE}ing a \texttt{STRING}, any character can be made to
have a special meaning. A character can cause an arbitrary routine to be invoked, which can then return any number of
elements to be put into the object being built by \texttt{READ}, \texttt{PARSE}\index{\texttt{PARSE}}, or
\texttt{LPARSE}\index{\texttt{LPARSE}}. Translation of characters is also possible. This facility was designed for those
persons who want to use MDL \texttt{READ} to do large parts of their input but have to modify its actions for some areas:
for example, one might want to treat left and right parentheses as tokens, rather than as delimiters indicating a
\texttt{LIST}.

\paragraph{17.1.3.1. READ (finally)}\label{read-finally}

\index{\texttt{READ}|textbf} Associated with \texttt{READ} is an \texttt{ATOM},
\texttt{READ-TABLE!-}\index{\texttt{READ-TABLE}|textbf}, whose local value, if any, must be a \texttt{VECTOR} of elements,
one for each character up to and including all characters to be treated specially. Each element indicates, if not
\texttt{0}, the action to be taken upon \texttt{READ}'s encounter with that character. A similar \texttt{VECTOR}, the local
value of \texttt{PARSE-TABLE!-}\index{\texttt{PARSE-TABLE}|textbf}, if any, is used to find the action to take for
characters encountered when \texttt{PARSE} or \texttt{LPARSE} is applied to a \texttt{STRING}\index{\texttt{STRING}}.

These tables can have up to 256 elements, one for each ASCII character and one for each possible
exclamation-point/ASCII-character pair. In MDL, the exclamation-point is used as a method of expanding the ASCII character
set, and an exclamation-point/character pair is treated as one logical character when not reading a \texttt{STRING}.

The element corresponding to a character is
\texttt{\textless{}NTH\ table\ \textless{}+\ 1\ \textless{}ASCII\ char\textgreater{}\textgreater{}\textgreater{}}. The
element corresponding to an exclamation-point/ASCII-character pair is
\texttt{\textless{}NTH\ table\ \textless{}+\ 129\ \textless{}ASCII\ char\textgreater{}\textgreater{}\textgreater{}}. The
table can be shorter than 256 elements, in which case it is treated as if it were 256 long with \texttt{0} elements beyond
its actual length.

An element of the tables must satisfy one of the following \texttt{DECL} Patterns:

\begin{quote}
\texttt{\textquotesingle{}0} indicates that no special action is to be taken when this character is encountered.

\texttt{CHARACTER}\index{\texttt{CHARACTER}} indicates that the encountered character is to be translated into the given
\texttt{CHARACTER} whenever it appears, except when as an object of \texttt{TYPE} \texttt{CHARACTER}, or in a
\texttt{STRING}, or immediately following a \texttt{\textbackslash{}}\index{\texttt{"\textbackslash{}}}.

\texttt{FIX} indicates that the character is to be given the same treatment as the character with the ASCII value of the
\texttt{FIX}. This allows you to cause other characters to be treated in the same way as A-Z for example. The same
exceptions apply as for a \texttt{CHARACTER}.

\texttt{\textless{}LIST\ FIX\textgreater{}} indicates the same thing, except that the character does not by itself cause a
break. Therefore, if it occurs when reading an \texttt{ATOM} or number, it will be treated as part of that \texttt{ATOM} or
number.

\texttt{APPLICABLE} (to one argument) indicates that the character is to be a break character. Whenever it is encountered,
the reading of the current object is finished, and the corresponding element of the table is \texttt{APPLY}ed to the ASCII
\texttt{CHARACTER}. (If \texttt{READ} is called during the application, the end-of-file slot of the \texttt{CHANNEL}
temporarily contains a special kind of \texttt{ACTIVATION} (\texttt{TYPE} \texttt{READA}\index{\texttt{READA}|textbf}) so
that end-of-file can be signalled properly to the original \texttt{READ}. Isn't that wonderful?) The value returned is
taken to be what was read, unless an object of \texttt{TYPE} \texttt{SPLICE}\index{\texttt{SPLICE}|textbf} is returned. If
so, the elements of this object, which is of \texttt{PRIMTYPE} \texttt{LIST}, are spliced in at the point where MDL is
reading. An empty \texttt{SPLICE} allows one to return nothing. If a structured object is not being built, and a
\texttt{SPLICE} is returned, elements after the first will be ignored. A \texttt{SPLICE} says ``expand me'', whereas the
structure containing a \texttt{SEGMENT}\index{\texttt{SEGMENT}} says ``I will expand you''.

\texttt{\textless{}LIST\ APPLICABLE\textgreater{}} indicates the same thing, except that the character does not by itself
cause a break. Therefore, if it occurs when reading an \texttt{ATOM} or number, it will be treated as part of that
\texttt{ATOM} or number.
\end{quote}

\texttt{READ} takes an additional optional argument, which is what to use instead of the local value of the \texttt{ATOM}
\texttt{READ-TABLE} as the \texttt{VECTOR} of read-macro characters. If this argument is supplied, \texttt{READ-TABLE} is
rebound to it within the call to \texttt{READ}. \texttt{READ} takes from zero to four arguments. The fullest call to
\texttt{READ} is thus:

\begin{verbatim}
<READ channel eof-routine look-up read-table:vector>
\end{verbatim}

The other arguments are explained in sections 11.1.1.1, 11.3, and 15.7.1.

\texttt{ERROR} and \texttt{LISTEN} rebind \texttt{READ-TABLE} to the \texttt{GVAL} of \texttt{READ-TABLE}, if any, else
\texttt{UNASSIGN} it.

\paragraph{17.1.3.2. Examples}\label{examples-5}

Examples of each of the different kinds of entries in macro tables:

\begin{verbatim}
<SET READ-TABLE <IVECTOR 256 0>>$
[...]

<PUT .READ-TABLE <+ 1 <ASCII !\a>> !\A>
                ;"CHARACTER: translate a to A."$
[...]
abc$
Abc

<PUT .READ-TABLE <+ 1 <ASCII !\%>> <ASCII !\A>>
        ;"FIX: make % just a normal ASCII character."$
[...]
A%BC$
A\%BC

<PUT .READ-TABLE <+ 1 <ASCII !\.>> (<ASCII !\.>)>
        ;"<LIST FIX>: make comma no longer a break
          character, but still special if at a break."$
[...]
A,B$
A\,B
;"That was an ATOM with PNAME A,B ."
',B$
,B
;"That was the FORM <GVAL B> ."

<PUT .READ-TABLE <+ 1 <ASCII !\:>>
    #FUNCTION ((X) <LIST COLON <READ>>)>
        ;"APPLICABLE: make a new thing like ( < and [ ."$
[...]
B:A$
B
(COLON A)
:::FOO$
(COLON (COLON (COLON FOO)))

<PUT .READ-TABLE <+ 1 <ASCII !\:>>
    '(#FUNCTION ((X) <LIST COLON <READ>>))>
        ;"<LIST APPLICABLE>: like above, but not a break
          now."$
[...]
B:A$
B:A
;"That was an ATOM."
:::FOO$
(COLON (COLON (COLON FOO)))
\end{verbatim}

\paragraph{17.1.3.3. PARSE and LPARSE (finally)}\label{parse-and-lparse-finally}

\begin{verbatim}
<PARSE string radix look-up parse-table:vector look-ahead:character>
\end{verbatim}

\index{\texttt{PARSE}|textbf} is the fullest call to \texttt{PARSE}. \texttt{PARSE} can take from zero to five arguments.
If \texttt{PARSE} is given no arguments, it returns the first object parsed from the local value of the \texttt{STRING}
\texttt{PARSE-STRING}\index{\texttt{PARSE-STRING}|textbf} and additionally \texttt{SET}s \texttt{PARSE-STRING} to the
\texttt{STRING} having those \texttt{CHARACTER}s which were parsed \texttt{REST}ed off. If \texttt{PARSE} is given a
\texttt{STRING} to parse, the \texttt{ATOM} \texttt{PARSE-STRING} is rebound to the \texttt{STRING} within that call. If
the \emph{parse-table} argument is given to \texttt{PARSE}, \texttt{PARSE-TABLE} is rebound to it within that call to
\texttt{PARSE}. Finally, \texttt{PARSE} can take a \emph{look-ahead} \texttt{CHARACTER}, which is treated as if it were
logically concatenated to the front of the \emph{string} being parsed. Other arguments are described in sections 7.6.6.2
and 15.7.2.

\texttt{LPARSE}\index{\texttt{LPARSE}|textbf} is exactly like \texttt{PARSE}, except that it tries to parse the whole
\texttt{STRING}, returning a \texttt{LIST} of the objects created.

\subsection{17.2. EVAL Macros}\label{eval-macros}

An \texttt{EVAL} macro provides the convenience of a \texttt{FUNCTION} without the overhead of calling,
\texttt{SPECIAL}s\index{\texttt{SPECIAL}}, etc. in the \textbf{compiled} version. A special-purpose function that is called
often by \texttt{FUNCTION}s that will be compiled is a good candidate for an \texttt{EVAL} macro.

\subsubsection{17.2.1. DEFMAC and EXPAND}\label{defmac-and-expand}

\index{\texttt{DEFMAC}|textbf} \texttt{DEFMAC} (``define macro'') is syntactically exactly the same as \texttt{DEFINE}.
However, instead of creating a \texttt{FUNCTION}, \texttt{DEFMAC} creates a \texttt{MACRO}\index{\texttt{MACRO}|textbf}. A
\texttt{MACRO} is of \texttt{PRIMTYPE} \texttt{LIST} and in fact has a \texttt{FUNCTION} (or other \texttt{APPLICABLE}
\texttt{TYPE}) as its single element.

A \texttt{MACRO} can itself be applied to arguments. A \texttt{MACRO} is applied in a funny way, however: it is
\texttt{EVAL}ed twice. The first \texttt{EVAL} causes the \texttt{MACRO}'s element to be applied to the \texttt{MACRO}'s
arguments. Whatever that application returns (usually another \texttt{FORM}) is also \texttt{EVAL}ed. The result of the
second \texttt{EVAL}uation is the result of applying the \texttt{MACRO}. \texttt{EXPAND}\index{\texttt{EXPAND}|textbf} is
used to perform the first \texttt{EVAL} without the second.

To avoid complications, the first \texttt{EVAL} (by \texttt{EXPAND}, to create the object to be \texttt{EVAL}ed the second
time around) is done in a top-level environment. The result of this policy is that two syntactically identical invocations
of a \texttt{MACRO} always return the same expansion to be \texttt{EVAL}ed in the second step. The first \texttt{EVAL}
generates two extra \texttt{FRAME}s: one for a call to \texttt{EXPAND}, and one for a call to \texttt{EVAL} the
\texttt{MACRO} application in a top-level environment.

Example:

\begin{verbatim}
<DEFMAC INC (ATM "OPTIONAL" (N 1))
        #DECL ((VALUE) FORM (ATM) ATOM (N) <OR FIX FLOAT>)
        <FORM SET .ATM <FORM + <FORM LVAL .ATM> .N>>>$
INC
,INC$
#MACRO (#FUNCTION ((ATM "OPTIONAL" (N 1)) ...))
<SET X 1>$
1
<INC X>$
2
.X$
2
<EXPAND '<INC X>>$
<SET X <+ .X 1>>
\end{verbatim}

Perhaps the intention is clearer if \texttt{PARSE}\index{\texttt{PARSE}} and \texttt{\%} are used:

\begin{verbatim}
<DEFMAC INC (ATM "OPTIONAL" (N 1))
        #DECL (...)
        <PARSE "<SET %.ATM <+ %.ATM %.N>>">>
\end{verbatim}

\texttt{MACRO}s really exhibit their advantages when they are compiled. The compiler will simply cause the first
\texttt{EVAL}uation to occur (via \texttt{EXPAND}) and compile the result. The single element of a compiled \texttt{MACRO}
is an \texttt{RSUBR} or \texttt{RSUBR-ENTRY}.

\subsubsection{17.2.2. Example}\label{example}

Suppose you want to change the following simple \texttt{FUNCTION} to a \texttt{MACRO}:

\begin{verbatim}
<DEFINE DOUBLE (X) #DECL ((X) FIX) <+ .X .X>>
\end{verbatim}

You may be tempted to write:

\begin{verbatim}
<DEFMAC DOUBLE (X) #DECL ((X) FIX) <FORM + .X .X>>
\end{verbatim}

This \texttt{MACRO} works, but only when the argument does not use temporary bindings. Consider

\begin{verbatim}
<DEFINE TRIPLE (Y) <+ .Y <DOUBLE .Y>>>
\end{verbatim}

If this \texttt{FUNCTION} is applied, the top-level binding of \texttt{Y} is used, not the binding just created by the
application. Compilation of this \texttt{FUNCTION} would probably fail, because the compiler probably would have no
top-level binding for \texttt{Y}. Well, how about

\begin{verbatim}
<DEFMAC DOUBLE ('X) <FORM + .X .X>>  ;"The DECL has to go."
\end{verbatim}

Now this is more like the original \texttt{FUNCTION}, because no longer is the argument evaluated and the result evaluated
again. And \texttt{TRIPLE} works. But now consider

\begin{verbatim}
<DEFINE INC-AND-DOUBLE (Y) <DOUBLE <SET Y <+ 1 .Y>>>>
\end{verbatim}

You might hope that

\begin{verbatim}
<INC-AND-DOUBLE 1> -> <DOUBLE <SET Y <+ 1 1>>>
                   -> <DOUBLE 2>
                   -> <+ 2 2>
                   -> 4
\end{verbatim}

But, when \texttt{DOUBLE} is applied to that \texttt{FORM}, the argument is \texttt{QUOTE}d, so:

\begin{verbatim}
<INC-AND-DOUBLE 1> -> <DOUBLE <SET Y <+ 1 1>>>
                   -> <FORM + <SET Y <+ 1 .Y>> <SET Y <1 .Y>>>
                   -> <+ 2 3>
                   -> 5
\end{verbatim}

So, since the evaluation of \texttt{DOUBLE}'s argument has a side effect, you should ensure that the evaluation is done
exactly once, say by \texttt{FORM}:

\begin{verbatim}
<DEFMAC DOUBLE ('ANY)
        <FORM PROG ((X .ANY)) #DECL ((X) FIX) '<+ .X .X>>>
\end{verbatim}

As a bonus, the \texttt{DECL} can once more be used.

This example is intended to show that writing good \texttt{MACRO}s is a little trickier than writing good
\texttt{FUNCTION}s. But the effort may be worthwhile if the compiled program must be speedy.

\section{Chapter 18. Machine Words and Bits}\label{chapter-18.-machine-words-and-bits}

The MDL facility for dealing with uninterpreted machine words and bits involves two data TYPEs: WORD and BITS. A WORD is
simply an uninterpreted machine word, while a BITS is a ``pointer'' to a set of bits within a WORD. Operating on WORDs is
usually done only when compiled programs are used (chapter 19).

\subsection{18.1. WORDs}\label{words}

A \texttt{WORD} in MDL is a PDP-10 machine word of 36 bits. A \texttt{WORD} always \texttt{PRINT}s in ``\# format'', and
its contents are always printed in octal (hence preceded and followed by \texttt{*}\index{\texttt{*}}). Examples:

\begin{verbatim}
#WORD 0                  ;"all 0s"$
#WORD *000000000000*

#WORD *2000*             ;"one bit 1"$
#WORD *000000002000*

#WORD *525252525252*     ;"every other bit 1"$
#WORD *525252525252*
\end{verbatim}

\texttt{WORD} is its own \texttt{PRIMTYPE}; it is also the \texttt{PRIMTYPE} of \texttt{FIX}, \texttt{FLOAT},
\texttt{CHARACTER}, and any other \texttt{TYPE} which can fit its data into one machine word.

A \texttt{WORD} cannot be an argument to \texttt{+}, \texttt{-}, or indeed any \texttt{SUBR}s except for \texttt{CHTYPE},
\texttt{GETBITS}, \texttt{PUTBITS} and several bit-manipulating functions, all to be described below. Thus any arithmetic
bit manipulation must be done by \texttt{CHTYPE}ing a \texttt{WORD} to \texttt{FIX}, doing the arithmetic, and then
\texttt{CHTYPE}ing back to \texttt{WORD}. However, bit manipulation can be done without \texttt{CHTYPE}ing the thing to be
played with to a \texttt{WORD}, so long as it is of \texttt{PRIMTYPE} \texttt{WORD}; the result of the manipulation will be
of the same \texttt{TYPE} as the original object or can be \texttt{CHTYPE}d to it.

\subsection{18.2. BITS}\label{bits}

\index{\texttt{BITS}|textbf} An object of \texttt{TYPE} \texttt{BITS} is of \texttt{PRIMTYPE} \texttt{WORD}, and
\texttt{PRINT}s just like a \texttt{WORD}. The internal form of a \texttt{BITS} is precisely that of a PDP-10 ``byte
pointer'', which is, in fact, just what a \texttt{BITS} is.

For purposes of explaining what a \texttt{BITS} is, assume that the bits in a \texttt{WORD} are numbered from
\textbf{right} to \textbf{left}, with the rightmost bit numbered 0 and the leftmost numbered 35, as in

\begin{verbatim}
35 34 33 ... 2 1 0
\end{verbatim}

(This is not the ``standard'' ordering: the ``standard'' one goes from left to right.)

A \texttt{BITS} is most conveniently created via the \texttt{SUBR} \texttt{BITS}:

\begin{verbatim}
<BITS width:fix right-edge:fix>
\end{verbatim}

returns a \texttt{BITS} which ``points to'' a set of bits \emph{width} wide, with rightmost bit \emph{right-edge}. Both
arguments must be of \texttt{TYPE} \texttt{FIX}, and the second is optional, 0 by default.

Examples: the indicated application of \texttt{BITS} returns an object of \texttt{TYPE} \texttt{BITS} which points to the
indicated set of bits in a \texttt{WORD}:

\begin{longtable}[]{@{}ll@{}}
\toprule
Example & Returns\tabularnewline
\midrule
\endhead
\texttt{\textless{}BITS\ 7\textgreater{}} & 35 \ldots{} 7 \textbf{6 \ldots{} 0}\tabularnewline
\texttt{\textless{}BITS\ 4\ 18\textgreater{}} & 35 \ldots{} 22 \textbf{21 20 19 18} 17 \ldots{} 0\tabularnewline
\texttt{\textless{}BITS\ 36\textgreater{}} & \textbf{35 \ldots{} 0}\tabularnewline
\bottomrule
\end{longtable}

\subsection{18.3. GETBITS}\label{getbits}

\begin{verbatim}
<GETBITS from:primtype-word bits>
\end{verbatim}

\index{\texttt{GETBITS}|textbf} where \emph{from} is an object of \texttt{PRIMTYPE} \texttt{WORD}, returns a \textbf{new}
object whose \texttt{TYPE} is \texttt{WORD}. This object is constructed in the following way: the set of bits in
\emph{from} pointed to by \emph{bits} is copied into the new object, right-adjusted, that is, lined up against the right
end (bit number 0) of the new object. All those bits of the new object which are not copied are set to zero. In other
words, \texttt{GETBITS} takes bits from an arbitrary place in \emph{from} and puts them at the right of a new object. The
\emph{from} argument to \texttt{GETBITS} is not affected.

Examples:

\begin{verbatim}
<GETBITS #WORD *777777777777* <BITS 3>>$
#WORD *000000000007*
<GETBITS *012345670123* <BITS 6 18>>$
#WORD *000000000045*
\end{verbatim}

\subsection{18.4. PUTBITS}\label{putbits}

\begin{verbatim}
<PUTBITS to:primtype-word bits from:primtype-word>
\end{verbatim}

\index{\texttt{PUTBITS}|textbf} where \emph{to} and \emph{from} are of \texttt{PRIMTYPE} \texttt{WORD}, returns a
\textbf{copy} of \emph{to}, modified as follows: the set of bits in \emph{to} which are pointed to by \emph{bits} are
replaced by the appropriate number of rightmost bits copied from \emph{from} (optional, 0 by default). In other words:
\texttt{PUTBITS} takes bits from the right of \emph{from} and stuffs them into an arbitrary position in a copy of
\emph{to}. \textbf{None} of the arguments to \texttt{PUTBITS} is affected.

Examples:

\begin{verbatim}
<PUTBITS #WORD *777777777777* <BITS 6 3>>$
#WORD *777777777007*
<PUTBITS #WORD *666777000111* <BITS 5 15> #WORD *123*>$
#WORD *666776300111*
<PUTBITS #WORD *765432107654* <BITS 18>>$
#WORD *765432000000*
\end{verbatim}

\subsection{18.5. Bitwise Boolean Operations}\label{bitwise-boolean-operations}

Each of the \texttt{SUBR}s \texttt{ANDB}\index{\texttt{ANDB}|textbf}, \texttt{ORB}\index{\texttt{ORB}|textbf},
\texttt{XORB}\index{\texttt{XORB}|textbf}, and \texttt{EQVB}\index{\texttt{EQVB}|textbf} takes arguments of
\texttt{PRIMTYPE} \texttt{WORD} and returns a \texttt{WORD} which is the bitwise Boolean ``and'', inclusive ``or'',
exclusive ``or'', or ``equivalence'' (inverse of exclusive ``or''), respectively, of its arguments. Each takes any number
of arguments. If no argument is given, a \texttt{WORD} with all bits off (\texttt{ORB} and \texttt{XORB}) or on
(\texttt{ANDB} and \texttt{EQVB}) is returned. If only one argument is given, it is returned unchanged but \texttt{CHTYPE}d
to a \texttt{WORD}. If more than two arguments are given, the operator is applied to the first two, then applied to that
result and the third, etc. Be sure not to confuse \texttt{AND} and \texttt{OR} with \texttt{ANDB} and \texttt{ORB}.

\subsection{18.6. Bitwise Shifting Operations}\label{bitwise-shifting-operations}

\begin{verbatim}
<LSH from:primtype-word amount:fix>
\end{verbatim}

\index{\texttt{LSH}|textbf} returns a \textbf{new} \texttt{WORD} containing the bits in \emph{from}, shifted the number of
bits specified by \emph{amount} (mod 256, says the hardware). Zero bits are brought in at the end being vacated; bits
shifted out at the other end are lost. If \emph{amount} is positive, shifting is to the left; if \emph{amount} is negative,
shifting is to the right. Examples:

\begin{verbatim}
<LSH 8 6>$
#WORD *000000001000*
<LSH 8 -6>$
#WORD *000000000000*

<ROT from:primtype-word amount:fix>
\end{verbatim}

\index{\texttt{ROT}|textbf} returns a \textbf{new} \texttt{WORD} containing the bits from \emph{from}, rotated the number
of bits specified by \emph{amount} (mod 256, says the hardware). Rotation is a cyclic bitwise shift where bits shifted out
at one end are put back in at the other. If \emph{amount} is positive, rotation is to the left; if \emph{amount} is
negative, rotation is to the right. Examples:

\begin{verbatim}
<ROT 8 6>$
#WORD *000000001000*
<ROT 8 -6>$
#WORD *100000000000*
\end{verbatim}

\section{Chapter 19. Compiled Programs}\label{chapter-19.-compiled-programs}

\subsection{19.1. RSUBR (the TYPE)}\label{rsubr-the-type}

\index{\texttt{RSUBR}|textbf} \texttt{RSUBR}s (``relocatable subroutines'') are machine-language programs written to run in
the MDL environment. They are usually produced by the MDL assembler (often from output produced by the compiler) although
this is not necessary. All \texttt{RSUBR}s have two components: the ``reference vector'' and the ``code vector''. In some
cases the code vector is in pure storage. There is also a set of ``fixups'' associated with every \texttt{RSUBR}, although
it may not be available in the running MDL.

\subsection{19.2. The Reference Vector}\label{the-reference-vector}

An \texttt{RSUBR} is basically a \texttt{VECTOR} that has been \texttt{CHTYPE}d to \texttt{TYPE} \texttt{RSUBR} via the
\texttt{SUBR} \texttt{RSUBR} (see below). This ex-\texttt{VECTOR} is the reference vector. The first three elements of the
reference vector have predefined meanings:

\begin{itemize}
\tightlist
\item
  The first element is of \texttt{TYPE} \texttt{CODE} or \texttt{PCODE} and is the impure or pure code vector respectively.
\item
  The second element is an \texttt{ATOM} and specifies the name of the \texttt{RSUBR}.
\item
  The third element is of \texttt{TYPE} \texttt{DECL} and declares the type/structure of the \texttt{RSUBR}'s arguments and
  result.
\end{itemize}

The rest of the elements of the reference vector are objects in garbage-collected storage that the \texttt{RSUBR} needs to
reference and any impure slots that the \texttt{RSUBR} needs to use.

When the \texttt{RSUBR} is running, one of the PDP-10 accumulators (with symbolic name \texttt{R}) is always pointing to
the reference vector, to permit rapid access to the various elements.

\subsection{19.3. RSUBR Linking}\label{rsubr-linking}

\texttt{RSUBR}s can call any \texttt{APPLICABLE} object, all in a uniform manner. In general, a call to an F/SUBR is linked
up at assembly/compile time so that the calling instruction (UUO) points directly at the code in the interpreter for the
F/SUBR. However, the locations of most other \texttt{APPLICABLE}s are not known at assembly/compile time. Therefore, the
calling UUO is set up to point at a slot in the reference vector (by indexing off accumulator \texttt{R}). This slot
initially contains the \texttt{ATOM} whose G/LVAL is the called object. The calling mechanism (UUO handler) causes control
to be transferred to the called object and, depending on the state of the \texttt{RSUBR}-link flag, the \texttt{ATOM} will
be replaced by its G/LVAL. (If the call is of the ``quick'' variety, the called \texttt{RSUBR} or \texttt{RSUBR-ENTRY} will
be \texttt{CHTYPE}d to a \texttt{QUICK-RSUBR}\index{\texttt{QUICK-RSUBR}} or
\texttt{QUICK-ENTRY}\index{\texttt{QUICK-ENTRY}}, respectively, before replacement.) Regardless of the \texttt{RSUBR}-link
flag's state, calls to \texttt{FUNCTION}s are never permanently linked. A call to a non-Subroutine generates an extra
\texttt{FRAME}, whose \texttt{FUNCT} is the dummy \texttt{ATOM} \texttt{CALLER}\index{\texttt{CALLER}|textbf}.

\texttt{RSUBR}s are linked together for faster execution, but linking may not be desirable if the \texttt{RSUBR}s are being
debugged, and various revisions are being re-loaded. A linked call will forever after go to the same code, regardless of
the current G/LVAL of the called \texttt{ATOM}. Thus, while testing \texttt{RSUBR}s, you may want to disable linking, by
calling the \texttt{RSUBR-LINK}\index{\texttt{RSUBR-LINK}|textbf} \texttt{SUBR} with a \texttt{FALSE} argument. Calling it
with a non-\texttt{FALSE} argument enables linking thereafter. It returns the previous state of the link flag, either
\texttt{T} or \texttt{\#FALSE\ ()}. Calling it with no argument returns the current state.

\subsection{19.4. Pure and Impure Code}\label{pure-and-impure-code}

The first element of an \texttt{RSUBR} is the code vector, of \texttt{TYPE} \texttt{CODE} \index{\texttt{CODE}|textbf} or
\texttt{PCODE}\index{\texttt{PCODE}|textbf}. \texttt{TYPE} \texttt{CODE} is of \texttt{PRIMTYPE} \texttt{UVECTOR}, and the
\texttt{UTYPE} should be of \texttt{PRIMTYPE} \texttt{WORD}. The code vector is simply a block of words that are the
instructions which comprise the \texttt{RSUBR}. Since the code vector is stored just like a standard \texttt{UVECTOR}, it
will be moved around by the garbage collector. Therefore, all \texttt{RSUBR} code is required to be location-insensitive.
The compiler guarantees the location-insensitivity of its output. The assembler helps to make the code location-insensitive
by defining all labels as offsets relative to the beginning of the code vector and causing instructions that refer to
labels to index automatically off the PDP-10 accumulator symbolically named \texttt{M}. \texttt{M}, like \texttt{R}, is set
up by the UUO handler, but it points to the code vector instead of the reference vector. The code vector of an
\texttt{RSUBR} can be frozen (using the \texttt{FREEZE}\index{\texttt{FREEZE}} \texttt{SUBR}) to prevent it from moving
during debugging by DDT in the superior operating-system process.

If the first element of an \texttt{RSUBR} is of \texttt{TYPE} \texttt{PCODE} (``pure code''), the code vector of the
\texttt{RSUBR} is pure and sharable. \texttt{TYPE} \texttt{PCODE} is of \texttt{PRIMTYPE} \texttt{WORD}. The left half of
the word specifies an offset into an internal table of pure \texttt{RSUBR}s, and the right half specifies an offset into
the block of code where this \texttt{RSUBR} starts. The \texttt{PCODE} prints out as:

\begin{verbatim}
%<PCODE name:string offset:fix>
\end{verbatim}

where \emph{name} names the entry in the user's pure-\texttt{RSUBR} table, and \emph{offset} is the offset. (Obviously,
\texttt{PCODE} is also the name of a \texttt{SUBR}, which generates a pure code vector.) Pure \texttt{RSUBR}s may also move
around, but only by being included in MDL's page map at different places. Once again \texttt{M} can be used exactly as
before to do location-independent address referencing. Individual pure code vectors can be ``unmapped'' (marked as being
not in primary storage but in their original pure-code disk files) if the space in storage allocated for pure code is
exhausted. An unmapped \texttt{RSUBR} is mapped in again whenever needed. All pure \texttt{RSUBR}s are unmapped before a
\texttt{SAVE}\index{\texttt{SAVE}} file is written, so that the code is not duplicated on disk. A purified \texttt{RSUBR}
must use \texttt{RGLOC}\index{\texttt{RGLOC}|textbf} (``relative GLOC'') instead of \texttt{GLOC}\index{\texttt{GLOC}}.
\texttt{RGLOC} produces objects of \texttt{TYPE} \texttt{LOCR}\index{\texttt{LOCR}|textbf} instead of \texttt{LOCD}.

\subsection{19.5. TYPE-C and TYPE-W}\label{type-c-and-type-w}

In order to handle user \texttt{NEWTYPE}s\index{\texttt{NEWTYPE}} reasonably, the internal \texttt{TYPE} codes for them
have to be able to be different from one MDL run to another. Therefore, references to the \texttt{TYPE} codes must be in
the reference vector rather than the code vector. To help handle this problem, two \texttt{TYPE}s exist,
\texttt{TYPE-C}\index{\texttt{TYPE-C}|textbf} (``type code'') and \texttt{TYPE-W}\index{\texttt{TYPE-W}|textbf} (``type
word''), both of \texttt{PRIMTYPE} \texttt{WORD}. They print as:

\begin{verbatim}
%<TYPE-C type primtype:atom>
%<TYPE-W type primtype:atom>
\end{verbatim}

The \texttt{SUBR} \texttt{TYPE-C} produces an internal \texttt{TYPE} code for the \emph{type}, and \texttt{TYPE-W} produces
a prototype ``\texttt{TYPE} word'' (appendix 1) for an object of that \texttt{TYPE}. The \emph{primtype} argument is
optional, included only as a check against the call to \texttt{NEWTYPE}. \texttt{TYPE-W} can also take a third argument, of
\texttt{PRIMTYPE} \texttt{WORD}, whose right half is included in the generated ``\texttt{TYPE} word''. If \emph{type} is
not a valid \texttt{TYPE}, a \texttt{NEWTYPE} is automatically done.

To be complete, a similar \texttt{SUBR} and \texttt{TYPE} should be mentioned here.

\begin{verbatim}
<PRIMTYPE-C type>
\end{verbatim}

\index{\texttt{PRIMTYPE-C}|textbf} produces an internal ``storage allocation code'' (appendix 1) for the \emph{type}. The
value is of \texttt{TYPE} \texttt{PRIMTYPE-C}, \texttt{PRIMTYPE} \texttt{WORD}. In almost all cases the \texttt{SUBR}
\texttt{TYPEPRIM} gives just as much information, except in the case of \texttt{TEMPLATE}s: all \texttt{TYPE}s of
\texttt{TEMPLATE}s have the same \texttt{TYPEPRIM}, but they all have different \texttt{PRIMTYPE-C}s.

\subsection{19.6. RSUBR (the SUBR)}\label{rsubr-the-subr}

\begin{verbatim}
<RSUBR [code name decl ref ref ...]>
\end{verbatim}

\index{\texttt{RSUBR}|textbf} \texttt{CHTYPE}s its argument to an \texttt{RSUBR}, after checking it for legality.
\texttt{RSUBR} is rarely called other than in the MDL Assembler (Lebling, 1979). It can be used if changes must be made to
an \texttt{RSUBR} that are prohibited by MDL's built-in safety mechanisms. For example, if the \texttt{GVAL} of \emph{name}
is an \texttt{RSUBR}:

\begin{verbatim}
<SET FIXIT <CHTYPE ,name VECTOR>>$
[...]

...(changes to .FIXIT)...

<SETG name <RSUBR .FIXIT>>$
#RSUBR [...]
\end{verbatim}

\subsection{19.7. RSUBR-ENTRY}\label{rsubr-entry}

\texttt{RSUBR}s can have multiple entry points. An \texttt{RSUBR-ENTRY} can be applied to arguments exactly like an
\texttt{RSUBR}.

\begin{verbatim}
<RSUBR-ENTRY [rsubr-or-atom name:atom decl] offset:fix>
\end{verbatim}

\index{\texttt{RSUBR-ENTRY}|textbf} returns the \texttt{VECTOR} argument \texttt{CHTYPE}d to an \texttt{RSUBR-ENTRY} into
the \emph{rsubr} at the specified \emph{offset}. If the \texttt{RSUBR-ENTRY} is to have a \texttt{DECL} (\texttt{RSUBR}
style), it should come as shown.

\begin{verbatim}
<ENTRY-LOC rsubr-entry>
\end{verbatim}

\index{\texttt{ENTRY-LOC}|textbf} (``entry location'') returns the \emph{offset} into the \texttt{RSUBR} of this entry.

\subsection{19.8. RSUBRs in Files}\label{rsubrs-in-files}

There are three kinds of files that can contain \texttt{RSUBR}s, identified by second names
\texttt{BINARY}\index{\texttt{BINARY}|textbf}, \texttt{NBIN}\index{\texttt{NBIN}|textbf} and
\texttt{FBIN}\index{\texttt{FBIN}|textbf}. There is nothing magic about these names, but they are used by convention.

A \texttt{BINARY} file is a completely ASCII file containing complete impure \texttt{RSUBR}s in character representation.
Even a code vector appears as \texttt{\#CODE} followed by a \texttt{UVECTOR} of \texttt{PRIMTYPE} \texttt{WORD}s.
\texttt{BINARY} files are generally slow to load, because of all the parsing that must be done.

An \texttt{NBIN} file contains a mixture of ASCII characters and binary code. The start of a binary portion is signalled to
\texttt{READ} by the character control-C, so naive readers of an \texttt{NBIN} file under ITS\index{\texttt{ITS}} may
incorrectly assume that it ends before any binary code appears. An \texttt{NBIN} file cannot be edited with a text editor.
An \texttt{RSUBR} is written in \texttt{NBIN} format by being \texttt{PRINT}ed on a \texttt{"PRINTB"} \texttt{CHANNEL}. The
\texttt{RSUBR}s in \texttt{NBIN} files are not purified either.

An \texttt{FBIN} file is actually part of a triad of files. The \texttt{FBIN} file(s) itself is the impure part of a
collection of purified \texttt{RSUBR}s. It is simply ASCII and can be edited at will. (Exception: in the ITS and
Tops-20\index{\texttt{Tops-20}} versions, the first object in the file should not be removed or changed in any way, lest a
``grim reaper'' program for \texttt{FBIN} files think that the other files in the triad are obsolete and delete them.) The
pure code itself resides (in the ITS and Tops-20 versions) in a special large file that contains all currently-used pure
code, or (in the Tenex\index{\texttt{Tenex}} version) in a file in a special disk directory with first name the same as the
\emph{name} argument to \texttt{PCODE} for the \texttt{RSUBR}. The pure-code file is page-mapped directly into MDL storage
in read-only mode. It can be unmapped when the pure storage must be reclaimed, and it can be mapped at a different storage
address when pure storage must be compacted. There is also a ``fixup'' file (see below) or portion of a file associated
with the \texttt{FBIN} to round out the triad.

An initial MDL can have pure \texttt{RSUBR}s in it that were ``loaded'' during the initialization procedure. The files are
not page-mapped in until they are actually needed. The ``loading'' has other side effects, such as the creation of
\texttt{OBLIST}s (chapter 15). Exactly what is pre-loaded is outside the scope of this document.

\subsection{19.9. Fixups}\label{fixups}

The purpose of ``fixups'' is to correct references in the \texttt{RSUBR} to parts of the interpreter that change from one
release of MDL to the next. The reason the fixups contain a release number is so that they can be completely ignored when
an \texttt{RSUBR} is loaded into the same release of MDL as that from which it was last written out.

There are three forms of fixups, corresponding to the three kinds of \texttt{RSUBR} files. ASCII \texttt{RSUBR}s, found in
\texttt{BINARY} files, have ASCII fixups. The fixups are contained in a \texttt{LIST} that has the following format:

\begin{verbatim}
(MDL-release:fix
    name:atom value:fix (use:fix use:fix ...)
    name:atom value:fix (use:fix use:fix ...)
    ...)
\end{verbatim}

The fixups in \texttt{NBIN} files and the fixup files associated with \texttt{FBIN} files are in a fast internal format
that looks like a \texttt{UVECTOR} of \texttt{PRIMTYPE} \texttt{WORD}s.

Fixups are usually discarded after they are used during the loading procedure. However, if, while reading a \texttt{BINARY}
or \texttt{NBIN} file the \texttt{ATOM} \texttt{KEEP-FIXUPS!-}\index{\texttt{KEEP-FIXUPS}|textbf} has a non-\texttt{FALSE}
\texttt{LVAL}, the fixups will be kept, via an association between the \texttt{RSUBR} and the \texttt{ATOM} \texttt{RSUBR}.
It should be noted that, besides correcting the code, the fixups themselves are corrected when \texttt{KEEP-FIXUPS} is
bound and true. Also, the assembler and compiler make the same association when they first create an \texttt{RSUBR}, so
that it can be written out with its fixups.

In the case of pure \texttt{RSUBR}s (\texttt{FBIN} files), things are a little different. If a pure-code file exists for
this release of MDL, it is used immediately, and the fixups are completely ignored. If a pure-code file for this release
doesn't exist, the fixup file is used to create a new copy of the file from an old one, and also a new version of the fixup
file is created to go with the new pure-code file. This all goes on automatically behind the user's back.

\section{Chapter 20. Coroutines}\label{chapter-20.-coroutines}

This chapter purports to explain the coroutine primitives of MDL. It does make some attempt to explain coroutines as such,
but only as required to specify the primitives. If you are unfamiliar with the basic concepts, confusion will probably
reign.

A coroutine in MDL is implemented by an object of \texttt{TYPE} \texttt{PROCESS}. In this manual, this use of the word
``process'' is distinguished by a capitalization from its normal use of denoting an operating-system process (which various
systems call a process, job, fork, task, etc.).

MDL's built-in coroutine primitives do not include a ``time-sharing system''. Only one \texttt{PROCESS} is ever running at
a time, and control is passed back and forth between \texttt{PROCESS}es on a coroutine-like basis. The primitives are
sufficient, however, to allow the writing of a ``time-sharing system'' \textbf{in MDL}, with the additional use of the MDL
interrupt primitives. This has, in fact, been done.

\subsection{20.1. PROCESS (the TYPE)}\label{process-the-type}

A \texttt{PROCESS}\index{\texttt{PROCESS}|textbf} is an object which contains the ``current state'' of a computation. This
includes the \texttt{LVAL}s\index{\texttt{LVAL}} of \texttt{ATOM}s (``bindings''), ``depth'' of functional application, and
``position'' within the application of each applied function. Some of the things which are \textbf{not} part of any
specific \texttt{PROCESS} are the \texttt{GVAL}s\index{\texttt{GVAL}} of \texttt{ATOM}s, associations
(\texttt{ASOC}s\index{\texttt{ASOC}}), and the contents of \texttt{OBLIST}s\index{\texttt{OBLIST}}. \texttt{GVAL}s (with
\texttt{OBLIST}s) are a chief means of communication and sharing between \texttt{PROCESS}es (all \texttt{PROCESS}es can
refer to the \texttt{SUBR} which is the \texttt{GVAL} of \texttt{+}, for instance.) Note that an \texttt{LVAL} in one
\texttt{PROCESS} cannot easily be directly referenced from another \texttt{PROCESS}.

A \texttt{PROCESS} \texttt{PRINT}s as \texttt{\#PROCESS} \emph{p}, where \emph{p} is a \texttt{FIX} which uniquely
identifies the \texttt{PROCESS}; \emph{p} is the ``\texttt{PROCESS} number'' typed out by
\texttt{LISTEN}\index{\texttt{LISTEN}}. A \texttt{PROCESS} cannot be read in by \texttt{READ}.

The term ``run a \texttt{PROCESS}'' will be used below to mean ``perform some computation, using the \texttt{PROCESS} to
record the intermediate state of that computation''.

N.B.: A \texttt{PROCESS} is a rather large object; creating one will often cause a garbage collection.

\subsection{20.2. STATE of a PROCESS}\label{state-of-a-process}

\begin{verbatim}
<STATE process>
\end{verbatim}

\index{\texttt{STATE}|textbf} returns an \texttt{ATOM} (in the \texttt{ROOT} \texttt{OBLIST}) which indicates the ``state''
of the \texttt{PROCESS} \emph{process}. The \texttt{ATOM}s which \texttt{STATE} can return, and their meanings, are as
follows:

\begin{itemize}
\tightlist
\item
  \texttt{RUNABLE}\index{\texttt{RUNABLE}|textbf} (sic) -- \emph{process} has never ever been run.
\item
  \texttt{RUNNING}\index{\texttt{RUNNING}|textbf} -- \emph{process} is currently running, that is, it did the application
  of \texttt{STATE}.
\item
  \texttt{RESUMABLE}\index{\texttt{RESUMABLE}|textbf} -- \emph{process} has been run, is not currently running, and can run
  again.
\item
  \texttt{DEAD}\index{\texttt{DEAD}|textbf} -- \emph{process} has been run, but it can \textbf{not} run again; it has
  ``terminated''.
\end{itemize}

In addition, an interrupt (chapter 21) can be enabled to detect the time at which a \texttt{PROCESS} becomes ``blocked''
(waiting for terminal input) or ``unblocked'' (terminal input arrived). (The \texttt{STATE}
\texttt{BLOCKED}\index{\texttt{BLOCKED}} has not been implemented.)

\subsection{20.3. PROCESS (the SUBR)}\label{process-the-subr}

\begin{verbatim}
<PROCESS starter:applicable>
\end{verbatim}

\index{\texttt{PROCESS}|textbf} creates and returns a new \texttt{PROCESS} but does \textbf{not} run it; the \texttt{STATE}
of the returned \texttt{PROCESS} is \texttt{RUNABLE} (sic).

\emph{starter} is something applicable to \textbf{one} argument, which must be evaluated. \emph{starter} is used both in
starting and ``terminating'' a \texttt{PROCESS}. In particular, if the \emph{starter} of a \texttt{PROCESS} \textbf{ever}
returns a value, that \texttt{PROCESS} becomes \texttt{DEAD}\index{\texttt{DEAD}}.

\subsection{20.4. RESUME}\label{resume}

\index{\texttt{RESUME}|textbf} The \texttt{SUBR} \texttt{RESUME} is used to cause a computation to start or to continue
running in another \texttt{PROCESS}. An application of \texttt{RESUME} looks like this:

\begin{verbatim}
<RESUME retval:any process>
\end{verbatim}

where \emph{retval} is the ``returned value'' (see below) of the \texttt{PROCESS} that does the \texttt{RESUME}, and
\emph{process} is the \texttt{PROCESS} to be started or continued.

The \emph{process} argument to \texttt{RESUME} is optional, by default the last \texttt{PROCESS}, if any, to
\texttt{RESUME} the \texttt{PROCESS} in which this \texttt{RESUME} is applied. If and when the current \texttt{PROCESS} is
later \texttt{RESUME}d by another \texttt{PROCESS}, that \texttt{RESUME}'s \emph{retval} is returned as the value of this
\texttt{RESUME}.

\subsection{20.5. Switching PROCESSes}\label{switching-processes}

\subsubsection{20.5.1. Starting Up a New PROCESS}\label{starting-up-a-new-process}

Let us say that we are running in some \texttt{PROCESS}, and that this original \texttt{PROCESS} is the \texttt{GVAL} of
\texttt{P0}. Somewhere, we have evaluated

\begin{verbatim}
<SETG P1 <PROCESS ,STARTER>>
\end{verbatim}

where \texttt{,STARTER} is some appropriate function. Now, \textbf{in \texttt{,P0}} we evaluate

\begin{verbatim}
<RESUME .A ,P1>
\end{verbatim}

and the following happens:

\begin{enumerate}
\def\labelenumi{\arabic{enumi}.}
\tightlist
\item
  \textbf{In \texttt{,P0}} the arguments of the \texttt{RESUME} are evaluated: that is, we get that \texttt{LVAL} of
  \texttt{A} which is current in \texttt{,P0} and the \texttt{GVAL} of \texttt{P1}.
\item
  The \texttt{STATE} of \texttt{,P0} is changed to \texttt{RESUMABLE} and \texttt{,P0} is ``frozen'' right where it is, in
  the middle of the \texttt{RESUME}.
\item
  The \texttt{STATE} of \texttt{,P1} is changed to \texttt{RUNNING}, and \texttt{,STARTER} is applied to \texttt{,P0}'s
  \texttt{LVAL} of \texttt{A} \textbf{in \texttt{,P1}}. \texttt{,P1} now continues on its way, evaluating the body of
  \texttt{,STARTER.}
\end{enumerate}

The \texttt{.A} in the \texttt{RESUME} could have been anything, of course. The important point is that, whatever it is, it
is evaluated in \texttt{,P0}.

What happens next depends, of course, on what \texttt{,STARTER} does.

\subsubsection{20.5.2. Top-level Return}\label{top-level-return}

Let us initially assume that \texttt{,STARTER} does nothing relating to \texttt{PROCESS}es, but instead simply returns a
value -- say \emph{starval}. What happens when \texttt{,STARTER} returns is this:

\begin{enumerate}
\def\labelenumi{\arabic{enumi}.}
\tightlist
\item
  The \texttt{STATE} of \texttt{,P1} is changed to \texttt{DEAD}. \texttt{,P1} can never again be \texttt{RESUME}d.
\item
  The last \texttt{PROCESS} to \texttt{RESUME} \texttt{,P1} is found, namely \texttt{,P0}, and its \texttt{STATE} is
  changed to \texttt{RUNNING}.
\item
  \emph{starval} is returned in \texttt{,P0} as the value of the original \texttt{RESUME}, and \texttt{,P0} continues where
  it left off.
\end{enumerate}

All in all, this simple case looks just like an elaborate version of applying \texttt{,STARTER} to \texttt{.A} in
\texttt{,P0}.

\subsubsection{20.5.3. Symmetric RESUMEing}\label{symmetric-resumeing}

Now suppose that while still in \texttt{,P1}, the following is evaluated, either in \texttt{,STARTER} or in something
called by \texttt{,STARTER}:

\begin{verbatim}
<RESUME .BAR ,P0>
\end{verbatim}

This is what happens:

\begin{enumerate}
\def\labelenumi{\arabic{enumi}.}
\tightlist
\item
  The arguments of the \texttt{RESUME} are evaluated \textbf{in \texttt{,P1}}.
\item
  The \texttt{STATE} of \texttt{,P1} is changed to \texttt{RESUMABLE}, and \texttt{,P1} is ``frozen'' right in the middle
  of the \texttt{RESUME}.
\item
  The \texttt{STATE} of \texttt{,P0} is changed to \texttt{RUNNING}, and \texttt{,P1}'s \texttt{LVAL} of \texttt{BAR} is
  returned as the value of \textbf{\texttt{,P0}'s} original \texttt{RESUME} \texttt{,P0} then continues right where it left
  off.
\end{enumerate}

This is \textbf{the} interesting case, because \texttt{,P0} can now do \textbf{another} \texttt{RESUME} of \texttt{,P1};
this will ``turn off'' \texttt{,P0}, pass a value to \texttt{,P1} and ``turn on'' \texttt{,P1}. \texttt{,P1} can now again
\texttt{RESUME} \texttt{,P0}, which can \texttt{RESUME} \texttt{,P1} back again, etc. \textbf{ad nauseam}, with everything
done in a perfectly symmetric manner. This can obviously also be done with three or more \texttt{PROCESS}es in the same
manner.

Note how this differs from normal functional application: you cannot ``return'' from a function without destroying the
state that function is in. The whole point of \texttt{PROCESS}es is that you can ``return'' (\texttt{RESUME}), remembering
your state, and later continue where you left off.

\subsection{20.6. Example}\label{example-1}

\index{\texttt{RESUME}}

\begin{verbatim}
;"Initially, we are in LISTEN in some PROCESS.
<DEFINE SUM3 (A)
        #DECL ((A) (OR FIX FLOAT>)
        <REPEAT ((S .A))
                #DECL ((S) <OR FIX FLOAT>)
                <SET S <+ .S <RESUME "GOT 1">>>
                <SET S <+ .S <RESUME "GOT 2">>>
                <SET S <RESUME .S>>>>$
SUM3
;"SUM3, used as the startup function of another PROCESS,
gets RESUMEd with numbers. It returns the sum of the last
three numbers it was given every third RESUME."
<SETG SUMUP <PROCESS ,SUM3>>$
;"Now we start SUMUP and give SUM3 its three numbers."
<RESUME 5 ,SUMUP>$
"GOT 1"
<RESUME 1 ,SUMUP>$
"GOT 2"
<RESUME 2 ,SUMUP>$
8
\end{verbatim}

Just as a note, by taking advantage of MDL's order of evaluation, SUM3 could be have been written as:

\begin{verbatim}
<DEFINE SUM3 (A)
        <REPEAT ((S .A))
           #DECL ((A S <OR FIX FLOAT>)
           <SET S <RESUME <+ .S <RESUME "GOT 1"> <RESUME "GOT 2">>>>>>
\end{verbatim}

\subsection{20.7. Other Coroutining Features}\label{other-coroutining-features}

\subsubsection{20.7.1. BREAK-SEQ}\label{break-seq}

\begin{verbatim}
<BREAK-SEQ any process>
\end{verbatim}

\index{\texttt{BREAK-SEQ}|textbf} (``break evaluation sequence'') returns \emph{process}, which must be \texttt{RESUMABLE},
after having modified it so that when it is next \texttt{RESUME}d\index{\texttt{RESUME}}, it will \textbf{first} evaluate
\emph{any} and \textbf{then} do an absolutely normal \texttt{RESUME}; the value returned by any is thrown away, and the
value given by the \texttt{RESUME} is used normally.

If a \texttt{PROCESS} is \texttt{BREAK-SEQ}ed more than once between \texttt{RESUME}s, \textbf{all} of the \emph{any}s
\texttt{BREAK-SEQ}ed onto it will be remembered and evaluated when the \texttt{RESUME} is finally done. The \emph{any}s
will be evaluated in ``last-in first-out'' order. The \texttt{FRAME} generated by \texttt{EVAL}ing more than one \emph{any}
will have as its \texttt{FUNCT} the dummy \texttt{ATOM} \texttt{BREAKER}\index{\texttt{BREAKER}|textbf}.

\subsubsection{20.7.2. MAIN}\label{main}

When you initially start up MDL, the \texttt{PROCESS} in which you are running is slightly ``special'' in these two ways:

\begin{enumerate}
\def\labelenumi{\arabic{enumi}.}
\tightlist
\item
  Any attempt to cause it become \texttt{DEAD} will be met with an error.
\item
  \texttt{\textless{}MAIN\textgreater{}}\index{\texttt{MAIN}|textbf} always returns that \texttt{PROCESS}.
\end{enumerate}

The \texttt{PROCESS} number of \texttt{\textless{}MAIN\textgreater{}} is always \texttt{1}. The initial \texttt{GVAL} of
\texttt{THIS-PROCESS}\index{\texttt{THIS-PROCESS}|textbf} is what \texttt{MAIN} always returns, \texttt{\#PROCESS\ 1}.

\subsubsection{20.7.3. ME}\label{me}

\begin{verbatim}
<ME>
\end{verbatim}

\index{\texttt{ME}|textbf} returns the \texttt{PROCESS} in which it is evaluated. The \texttt{LVAL} of
\texttt{THIS-PROCESS}\index{\texttt{THIS-PROCESS}|textbf} in a \texttt{RUNABLE} (new) \texttt{PROCESS} is what \texttt{ME}
always returns.

\subsubsection{20.7.4. RESUMER}\label{resumer}

\begin{verbatim}
<RESUMER process>
\end{verbatim}

\index{\texttt{RESUMER}|textbf} returns the \texttt{PROCESS} which last \texttt{RESUME}d \emph{process}. If no
\texttt{PROCESS} has ever \texttt{RESUME}d process, it returns \texttt{\#FALSE\ ()}. \emph{process} is optional,
\texttt{\textless{}ME\textgreater{}} by default. Note that \texttt{\textless{}MAIN\textgreater{}}\index{\texttt{MAIN}} does
not ever have any resumer. Example:

\begin{verbatim}
<PROG ((R <RESUMER>))           ;"not effective in <MAIN>"
   #DECL ((R) <OR PROCESS FALSE>)
   <AND .R
        <==? <STATE .R> RESUMABLE>
        <RESUME T .R>>>
\end{verbatim}

\subsubsection{20.7.5. SUICIDE}\label{suicide}

\begin{verbatim}
<SUICIDE retval process>
\end{verbatim}

\index{\texttt{SUICIDE}|textbf} acts just like \texttt{RESUME}, but clobbers the \texttt{PROCESS} (which cannot be
\texttt{\textless{}MAIN\textgreater{}}) in which it is evaluated to the \texttt{STATE} \texttt{DEAD}.

\subsubsection{20.7.6. 1STEP}\label{step}

\begin{verbatim}
<1STEP process>
\end{verbatim}

\index{\texttt{1STEP}|textbf} returns \emph{process}, after putting it into ``single-step mode''.

A \texttt{PROCESS} in single-step mode, whenever \texttt{RESUME}d, runs only until an application of
\texttt{EVAL}\index{\texttt{EVAL}} in it begins or finishes. At that point in time, the \texttt{PROCESS} that did the
\texttt{1STEP} is \texttt{RESUME}d, with a \emph{retval} which is a \texttt{TUPLE}. If an application of \texttt{EVAL} just
began, the \texttt{TUPLE} contains the \texttt{ATOM} \texttt{EVLIN}\index{\texttt{EVLIN}|textbf} and the arguments to
\texttt{EVAL}. If an application of \texttt{EVAL} just finished, the \texttt{TUPLE} contains the \texttt{ATOM}
\texttt{EVLOUT}\index{\texttt{EVLOUT}|textbf} and the result of the evaluation.

\emph{process} will remain in single-step mode until \texttt{FREE-RUN} (below) is applied to it. Until then, it will stop
before and after each \texttt{EVAL} in it. Exception: if it is \texttt{RESUME}d from an \texttt{EVLIN} break with a
\emph{retval} of \texttt{TYPE} \texttt{DISMISS}\index{\texttt{DISMISS}|textbf} (\texttt{PRIMTYPE} \texttt{ATOM}), it will
leave single-step mode only until the current call to \texttt{EVAL} is about to return. Thus lower-level \texttt{EVAL}s are
skipped over without leaving the mode. The usefulness of this mode in debugging is obvious.

\subsubsection{20.7.7. FREE-RUN}\label{free-run}

\begin{verbatim}
<FREE-RUN process>
\end{verbatim}

\index{\texttt{FREE-RUN}|textbf} takes its argument out of single-step mode. Only the \texttt{PROCESS} that put
\emph{process} into single-step mode can take it out of the mode; if another \texttt{PROCESS} tries, \texttt{FREE-RUN}
returns a \texttt{FALSE}.

\subsection{20.8. Sneakiness with PROCESSes}\label{sneakiness-with-processes}

\texttt{FRAME}s\index{\texttt{FRAME}}, \texttt{ENVIRONMENT}s, \texttt{TAG}s, and \texttt{ACTIVATION}s are specific to the
\texttt{PROCESS} which created them, and each ``knows its own father''. \textbf{Any} \texttt{SUBR} which takes these
objects as arguments can take one which was generated by \textbf{any} \texttt{PROCESS}, no matter where the \texttt{SUBR}
is really applied. This provides a rather sneaky means of crossing between \texttt{PROCESS}es. The various cases are as
follows:

\texttt{GO}\index{\texttt{GO}}, \texttt{RETURN}\index{\texttt{RETURN}}, \texttt{AGAIN}\index{\texttt{AGAIN}}, and
\texttt{ERRET}\index{\texttt{ERRET}}, given arguments which lie in another \texttt{PROCESS}, each effectively ``restarts''
the \texttt{PROCESS} of its argument and acts as if it were evaluated over there. If the \texttt{PROCESS} in which it was
executed is later \texttt{RESUME}d, it \textbf{returns} a value just like \texttt{RESUME}!

\texttt{SET}\index{\texttt{SET}}, \texttt{UNASSIGN}\index{\texttt{UNASSIGN}}, \texttt{BOUND?}\index{\texttt{BOUND?}},
\texttt{ASSIGNED?}\index{\texttt{ASSIGNED?}}, \texttt{LVAL}\index{\texttt{LVAL}}, \texttt{VALUE}\index{\texttt{VALUE}}, and
\texttt{LLOC}\index{\texttt{LLOC}}, given optional \texttt{ENVIRONMENT} arguments which lie in another \texttt{PROCESS},
will gleefully change, or return, the local values of \texttt{ATOM}s in the other \texttt{PROCESS}. The optional argument
can equally well be a \texttt{PROCESS}, \texttt{FRAME}, or \texttt{ACTIVATION} in another \texttt{PROCESS}; in those cases,
each uses the \texttt{ENVIRONMENT} which is current in the place specified.

\texttt{FRAME}, \texttt{ARGS}\index{\texttt{ARGS}}, and \texttt{FUNCT}\index{\texttt{FUNCT}} will be glad to return the
\texttt{FRAME}s, argument \texttt{TUPLE}s, and applied Subroutine names of another \texttt{PROCESS}. If one is given a
\texttt{PROCESS} (including \texttt{\textless{}ME\textgreater{}}) as an argument instead of a \texttt{FRAME}, it returns
all or the appropriate part of the topmost \texttt{FRAME} on that \texttt{PROCESS}'s control stack.

If \texttt{EVAL} is applied in \texttt{PROCESS} \texttt{P1} with an \texttt{ENVIRONMENT} argument from a \texttt{PROCESS}
\texttt{P2}, it will do the evaluation \textbf{in \texttt{P1}} but with \texttt{P2}'s \texttt{ENVIRONMENT} (!). That is,
the other \texttt{PROCESS}'s \texttt{LVAL}s, etc. will be used, but (1) any \textbf{new} \texttt{FRAME}s needed in the
course of the evaluation will be created in \texttt{P1}; and (2) \textbf{\texttt{P1}} will be \texttt{RUNNING} -- not
\texttt{P2}. Note the following: if the \texttt{EVAL} in \texttt{P1} eventually causes a \texttt{RESUME} of \texttt{P2},
\texttt{P2} could functionally return to below the point where the \texttt{ENVIRONMENT} used in \texttt{P1} is defined; a
\texttt{RESUME} of \texttt{P1} at this point would cause an \texttt{ERROR} due to an invalid \texttt{ENVIRONMENT}. (Once
again, \texttt{LEGAL?}\index{\texttt{LEGAL?}} can be used to forestall this.)

\subsection{20.9. Final Notes}\label{final-notes}

\begin{enumerate}
\def\labelenumi{\arabic{enumi}.}
\tightlist
\item
  A \texttt{RESUMABLE} \texttt{PROCESS} can be used in place of an \texttt{ENVIRONMENT} in any application. The ``current''
  \texttt{ENVIRONMENT} of the \texttt{PROCESS} is effectively used.
\item
  \texttt{FRAME}s and \texttt{ENVIRONMENT}s can be \texttt{CHTYPE}d arbitrarily to one another, or an \texttt{ACTIVATION}
  can be \texttt{CHTYPE}d to either of them, and the result ``works''. Historically, these different \texttt{TYPE}s were
  first used with different \texttt{SUBR}s -- \texttt{FRAME} with \texttt{ERRET}, \texttt{ENVIRONMENT} with \texttt{LVAL},
  \texttt{ACTIVATION} with \texttt{RETURN} -- hence the invention of different \texttt{TYPE}s with similar properties.
\item
  Bugs in multi-\texttt{PROCESS} programs usually exhibit a degree of subtlety and nastiness otherwise unknown to the human
  mind. If when attempting to work with multiple processes you begin to feel that you are rapidly going insane, you are in
  good company.
\end{enumerate}

\section{Chapter 21. Interrupts}\label{chapter-21.-interrupts}

The MDL interrupt handling facilities provide the ability to say the following: whenever ``this event'' occurs, stop
whatever is being done at the time and perform ``this action''; when ``this action'' is finished, continue with whatever
was originally being done. ``This event'' can be things like the typing of a character at a terminal, a time interval
ending, a \texttt{PROCESS} becoming blocked, or a program-defined and -generated ``event''. ``This action'' is the
application of a specified \texttt{APPLICABLE} object to arguments provided by the MDL interrupt system. The sets of events
and actions can be changed in extremely flexible ways, which accounts for both the variety of \texttt{SUBR}s and arguments,
and the rich interweaving of the topics in this chapter. Interrupt handling is a kind of parallel processing: a program can
be divided into a ``main-level'' part and one or more interrupt handlers that execute only when conditions are ripe.

\subsection{21.1. Definitions of Terms}\label{definitions-of-terms}

An \textbf{interrupt} is not an object in MDL, but rather a class of events, for example, ``ticks'' of a clock, garbage
collections, the typing of a character at a terminal, etc.

An interrupt is said to \textbf{occur} when one of the events in its class takes place.

An \textbf{external} interrupt is one whose occurrences are signaled to MDL by the operating system, for example, ``ticks''
of a clock. An \textbf{internal} interrupt is one whose occurrences are detected by MDL itself, for example, garbage
collections. MDL can arrange for the operating system to not signal occurrences of an external interrupt to it; then, as
far as MDL is concerned, that interrupt does not occur.

Each interrupt has a \textbf{name} which is either a \texttt{STRING} (for example, \texttt{"GC"}, \texttt{"CHAR"},
\texttt{"WRITE"}) or an \texttt{ATOM} with that \texttt{PNAME} in a special \texttt{OBLIST}, named
\texttt{INTERRUPTS!-}\index{\texttt{INTERRUPTS}|textbf}. (This \texttt{OBLIST} is returned by
\texttt{\textless{}INTERRUPTS\textgreater{}}.) Certain names must always be further specified by a \texttt{CHANNEL} or a
\texttt{LOCATIVE} to tell \textbf{which} interrupt by that name is meant.

When an interrupt occurs, the interpreter looks for an association on the interrupt's name. If there is an association, its
\texttt{AVALUE} should be an \texttt{IHEADER}\index{\texttt{IHEADER}}, which heads a list of actions to be performed. In
each \texttt{IHEADER} is the name of the interrupt with which the \texttt{IHEADER} is or was associated.

In each \texttt{IHEADER} is an element telling whether it is disabled. If an \texttt{IHEADER} is \textbf{disabled}, then
none of its actions is performed. The opposite of disabled is \textbf{enabled}. It is sometimes useful to disable an
\texttt{IHEADER} temporarily, but removing its association with the interrupt's name is better than long-term disabling.
There are \texttt{SUBR}s for creating an \texttt{IHEADER}, associating it with an interrupt, and later removing the
association.

In each \texttt{IHEADER} is a \textbf{priority}, a \texttt{FIX} greater than \texttt{0} which specifies the interrupt's
``importance''. The processing of a higher-priority (larger-numbered) interrupt will supersede the processing of a
lower-priority (smaller-numbered) interrupt until the high-priority interrupt has been handled.

In each \texttt{IHEADER} is a (possibly empty) list of \texttt{HANDLER}s\index{\texttt{HANDLER}}. (This list is not a MDL
\texttt{LIST}.) Each \texttt{HANDLER} corresponds to an action to perform. There are \texttt{SUBR}s for creating a
\texttt{HANDLER}, adding it to an \texttt{IHEADER}'s list, and later removing it.

In each \texttt{HANDLER} is a function that we will call a \textbf{handler} (in lower case), despite possible confusion,
because that is really the best name for it. An \textbf{action} consists of applying a handler to arguments supplied by the
interrupt system. The number and meaning of the arguments depend on the name of the interrupt. In each \texttt{HANDLER} is
an element telling in which \texttt{PROCESS} the action should be performed.

\subsection{21.2. EVENT}\label{event}

\begin{verbatim}
<EVENT name priority which>
\end{verbatim}

\index{\texttt{EVENT}|textbf} creates and returns an enabled \texttt{IHEADER} with no \texttt{HANDLER}s. The \emph{name}
may be an \texttt{ATOM} in the \texttt{INTERRUPTS} \texttt{OBLIST} or a \texttt{STRING}; if it is a \texttt{STRING},
\texttt{EVENT} does a \texttt{LOOKUP} or \texttt{INSERT} in \texttt{\textless{}INTERRUPTS\textgreater{}}. If there already
is an \texttt{IHEADER} associated with \emph{name}, \texttt{EVENT} just returns it, ignoring the given \emph{priority}.

\emph{which} must be given only for certain \emph{name}s:

\begin{itemize}
\tightlist
\item
  It must be a \texttt{CHANNEL} if and only if \emph{name} is \texttt{"CHAR"} (or \texttt{CHAR!-INTERRUPTS}). In this case
  it is the input \texttt{CHANNEL} from the (pseudo-)terminal or Network socket whose received characters will cause the
  interrupt to occur, or the output \texttt{CHANNEL} to the pseudo-terminal or Network socket whose desired characters will
  cause the interrupt to occur. (See below. Pseudo-terminals are not available in the Tenex\index{\texttt{Tenex}} and
  Tops-20\index{\texttt{Tops-20}} versions.)
\item
  The argument must be a \texttt{LOCATIVE} if and only if \emph{name} is \texttt{"READ"} (or \texttt{READ!-INTERRUPTS}) or
  \texttt{"WRITE"} (or \texttt{WRITE!-INTERRUPTS}). In this case it specifies an object to be ``monitored'' for usage by
  (interpreted) MDL programs (section 21.8.9).
\end{itemize}

If the interrupt is external, MDL arranges for the operating system to signal its occurrences.

\subsection{21.3. HANDLER (the SUBR)}\label{handler-the-subr}

\begin{verbatim}
<HANDLER iheader applicable process>
\end{verbatim}

\index{\texttt{HANDLER}|textbf} creates a \texttt{HANDLER}, adds it to the front of \emph{iheader}'s \texttt{HANDLER} list
(first action to be performed), and returns it as a value. \emph{applicable} may be any \texttt{APPLICABLE} object that
takes the proper number of arguments. (None of the arguments can be \texttt{QUOTE}d; they must all be evaluated at call
time.) \emph{process} is the \texttt{PROCESS} in which the handler will be applied, by default whatever \texttt{PROCESS}
was running when the interrupt occurred.

The value returned by the handler is ignored, unless it is of \texttt{TYPE} \texttt{DISMISS}\index{\texttt{DISMISS}|textbf}
(\texttt{PRIMTYPE} \texttt{ATOM}), in which case none of the remaining actions in the list will be performed.

The processing of an interrupt's actions can terminate prematurely if a handler calls the \texttt{SUBR} \texttt{DISMISS}
(see below.)

\subsection{21.4. OFF}\label{off}

\begin{verbatim}
<OFF iheader>
\end{verbatim}

\index{\texttt{OFF}|textbf} removes the association between \emph{iheader} and the name of its interrupt, and then disables
\emph{iheader} and returns it. (An error occurs if there is no association.) If the interrupt is external, MDL arranges for
the operating system not to signal its occurrences.

\begin{verbatim}
<OFF name which>
\end{verbatim}

finds the \texttt{IHEADER} associated with \emph{name} and proceeds as above, returning the \texttt{IHEADER}. \emph{which}
must be given only for certain \emph{names}, as for \texttt{EVENT}\index{\texttt{EVENT}}. Caution: if you
\texttt{\textless{}OFF\ "CHAR"\ ,INCHAN\textgreater{}}, MDL will become deaf.

\begin{verbatim}
<OFF handler>
\end{verbatim}

returns \emph{handler} after removing it from its list of actions. There is no effect on any other
\texttt{HANDLER}s\index{\texttt{HANDLER}} in the list.

Now that you know how to remove \texttt{IHEADER}s and \texttt{HANDLER}s from their normal places, you need to know how to
put them back:

\begin{verbatim}
<EVENT iheader>
\end{verbatim}

If \emph{iheader} was previously disabled or disassociated from its name, \texttt{EVENT} will associate and enable it.

\begin{verbatim}
<HANDLER iheader handler>
\end{verbatim}

If \emph{handler} was previously removed from its list, \texttt{HANDLER} will add it to the front of \emph{iheader}'s list
of actions. Note that \emph{process} cannot be specified.

\subsection{21.5. IHEADER and HANDLER (the TYPEs)}\label{iheader-and-handler-the-types}

Both these \texttt{TYPE}s are of \texttt{PRIMTYPE} \texttt{VECTOR}, but they do not \texttt{PRINT} that way, since they are
self-referencing. Instead they \texttt{PRINT} as

\begin{verbatim}
#type most-interesting-component
\end{verbatim}

The contents of \texttt{IHEADER}s\index{\texttt{IHEADER}|textbf} and \texttt{HANDLER}s\index{\texttt{HANDLER}|textbf} can
be changed by \texttt{PUT}, and the new values will then determine the behavior of MDL.

Before describing the elements of these \texttt{TYPE}s in detail, here are a picture and a Pattern, both purporting to show
how they look:

\begin{verbatim}
#IHEADER [name:atom or which
          disabled?
          *-----------> #HANDLER [*-----------> #HANDLER [#HANDLER []
          priority] <-------------*                +------*
                                  applicable       |      applicable
                                  process] <-------+      process]

<IHEADER <OR ATOM CHANNEL LOCATIVE>
         <OR '#LOSE 0 '#LOSE -1>
         <HANDLER HANDLER <OR HANDLER IHEADER> APPLICABLE PROCESS>
         FIX>
\end{verbatim}

\subsubsection{21.5.1. IHEADER}\label{iheader}

The elements of an \texttt{IHEADER} are as follows:

\begin{enumerate}
\def\labelenumi{\arabic{enumi}.}
\tightlist
\item
  name of interrupt (\texttt{ATOM}, or \texttt{CHANNEL} if the name is \texttt{"CHAR"}, or \texttt{LOCATIVE} if the name is
  \texttt{"READ"} or \texttt{"WRITE"})
\item
  non-zero if and only if disabled
\item
  first \texttt{HANDLER}, if any, else a zero-length \texttt{HANDLER}
\item
  priority
\end{enumerate}

If you lose track of an \texttt{IHEADER}, you can get it via the association:

\begin{itemize}
\tightlist
\item
  For \texttt{"CHAR"} interrupts,
  \texttt{\textless{}GET\ channel\ INTERRUPT\textgreater{}}\index{\texttt{INTERRUPT}|textbf} returns the \texttt{IHEADER}
  or \texttt{\#FALSE\ ()} if there is no association;
  \texttt{\textless{}EVENT\ "CHAR"\ 0\ channel\textgreater{}}\index{\texttt{EVENT}} returns the \texttt{IHEADER}, creating
  it if there is no association.
\item
  For \texttt{"READ"} interrupts, \texttt{\textless{}GET\ locative\ READ!-INTERRUPTS\textgreater{}} returns the
  \texttt{IHEADER} or \texttt{\#FALSE\ ()} if there is no association;
  \texttt{\textless{}EVENT\ "READ"\ 0\ locative\textgreater{}} returns the \texttt{IHEADER}, creating it if there is no
  association.
\item
  For \texttt{"WRITE"} interrupts, \texttt{\textless{}GET\ locative\ WRITE!-INTERRUPTS\textgreater{}} returns the
  \texttt{IHEADER} or \texttt{\#FALSE\ ()} if there is no association:
  \texttt{\textless{}EVENT\ "WRITE"\ 0\ locative\textgreater{}} returns the \texttt{IHEADER}, creating it if there is no
  association.
\item
  Otherwise, the \texttt{IHEADER} is \texttt{PUT} on the name \texttt{ATOM} with the indicator \texttt{INTERRUPT}. Thus,
  for example, \texttt{\textless{}GET\ CLOCK!-INTERRUPTS\ INTERRUPT\textgreater{}} returns the \texttt{IHEADER} for the
  clock interrupt or \texttt{\#FALSE\ ()} if there is no association; \texttt{\textless{}EVENT\ "CLOCK"\ 0\textgreater{}}
  returns the \texttt{IHEADER}, creating it if there is no association.
\end{itemize}

\subsubsection{21.5.2. HANDLER}\label{handler}

A \texttt{HANDLER} specifies a \textbf{particular} action for a \textbf{particular} interrupt. The elements of a
\texttt{HANDLER} are as follows:

\begin{enumerate}
\def\labelenumi{\arabic{enumi}.}
\tightlist
\item
  next \texttt{HANDLER} if any, else a zero-length \texttt{HANDLER}
\item
  previous \texttt{HANDLER} or the \texttt{IHEADER} (Thus the \texttt{HANDLER}s of a given interrupt form a ``doubly-linked
  list'' chaining between each other and back to the \texttt{IHEADER}.)
\item
  handler to be applied (anything but \texttt{APPLICABLE} that evaluates its arguments -- the application is done not by
  \texttt{APPLY} but by \texttt{RUNINT}\index{\texttt{RUNINT}|textbf}, which can take a \texttt{PROCESS} argument: see next
  line)
\item
  \texttt{PROCESS} in which the handler will be applied, or \texttt{\#PROCESS\ 0}, meaning whatever \texttt{PROCESS} was
  running when the interrupt occurred (In the former case, \texttt{RUNINT} is applied to the handler and its arguments in
  the currently running \texttt{PROCESS}, which causes an \texttt{APPLY} in the \texttt{PROCESS} stored in the
  \texttt{HANDLER}, which \texttt{PROCESS} must be \texttt{RESUMABLE}. The running \texttt{PROCESS} becomes
  \texttt{RESUMABLE}, and the stored \texttt{PROCESS} becomes \texttt{RUNNING}, but no other \texttt{PROCESS} variables
  (for example \texttt{RESUMER}) are changed.)
\end{enumerate}

\subsection{21.6. Other SUBRs}\label{other-subrs}

\begin{verbatim}
<ON name applicable priority:fix process which>
\end{verbatim}

\index{\texttt{ON}|textbf} is equivalent to

\begin{verbatim}
<HANDLER <EVENT name priority which>
         applicable process>
\end{verbatim}

\texttt{ON} is a combination of \texttt{EVENT} and \texttt{HANDLER}: it creates (or finds) the \texttt{IHEADER}, associates
and enables it, adds a \texttt{HANDLER} to the front the list (first to be performed), and returns the \texttt{HANDLER}.

\begin{verbatim}
<DISABLE iheader>
\end{verbatim}

\index{\texttt{DISABLE}|textbf} is effectively \texttt{\textless{}PUT\ iheader\ 2\ \#LOSE\ -1\textgreater{}}. Actually the
\texttt{TYPE} \texttt{LOSE} is unimportant, but the \texttt{-1} signifies that \emph{iheader} is disabled.

\begin{verbatim}
<ENABLE iheader>
\end{verbatim}

\index{\texttt{ENABLE}|textbf} is effectively \texttt{\textless{}PUT\ iheader\ 2\ \#LOSE\ 0\textgreater{}}. Actually the
\texttt{TYPE} \texttt{LOSE} is unimportant, but the \texttt{0} signfies that \emph{iheader} is enabled.

\subsection{21.7. Priorities and Interrupt Levels}\label{priorities-and-interrupt-levels}

At any given time there is a defined \textbf{interrupt level}. This is a \texttt{FIX} which determines which interrupts can
really ``interrupt'' -- that is, cause the current processing to be suspended while their wants are satisfied. Normal,
non-interrupt programs operate at an interrupt level of 0 (zero.) An interrupt is processed at an interrupt level equal to
the interrupt's priority.

\subsubsection{21.7.1. Interrupt Processing}\label{interrupt-processing}

Interrupts ``actually'' only occur at well-defined points in time: during a call to a Subroutine, or at critical places
within Subroutines (for example, during each iteration of \texttt{MAPF} on a \texttt{LIST}, which may be circular), or
while a \texttt{PROCESS} is \texttt{"BLOCKED"} \index{\texttt{""BLOCKED""}} (see below). No interrupts can occur during
garbage collection.

What actually happens when an enabled interrupt occurs is that the priority of the interrupt is compared with the current
interrupt level, and the following is done:

If the priority is \textbf{greater than} the current interrupt level, the current processing is ``frozen in its tracks''
and processing of the action(s) specified for that interrupt begins.

If the priority is less than or equal to the current interrupt level, the interrupt occurrence is \textbf{queued} -- that
is, the fact that it occurred is saved away for processing when the interrupt level becomes low enough.

When the processing of an interrupt's actions is completed, MDL usually (1) ``acts as if'' the previously-existing
interrupt level is restored, and processing continues on what was left off (perhaps for no time duration); and (2) ``acts
as if'' any queued interrupt occurrences actually occurred right then, in their original order of occurrence.

\subsubsection{21.7.2. INT-LEVEL}\label{int-level}

The \texttt{SUBR} \texttt{INT-LEVEL}\index{\texttt{INT-LEVEL}|textbf} is used to examine and change the current interrupt
level directly.

\begin{verbatim}
<INT-LEVEL>
\end{verbatim}

simply returns the current interrupt level.

\begin{verbatim}
<INT-LEVEL fix>
\end{verbatim}

changes the interrupt level to its argument and returns the \textbf{previously}-existing interrupt level.

If \texttt{INT-LEVEL} lowers the priority of the interrupt level, it does not ``really'' return until all queued
occurrences of interrupts of higher priority than the target priority have been processed.

Setting the \texttt{INT-LEVEL} extremely high (for example,
\texttt{\textless{}INT-LEVEL\ \textless{}CHTPE\ \textless{}MIN\textgreater{}\ FIX\textgreater{}\textgreater{}}) effectively
disables all interrupts (but occurrences of enabled interrupts will still be queued).

If \texttt{LISTEN}\index{\texttt{LISTEN}} or \texttt{ERROR}\index{\texttt{ERROR}} is called when the \texttt{INT-LEVEL} is
not zero, then the typeout will be

\begin{verbatim}
LISTENING-AT-LEVEL I PROCESS p INT-LEVEL i
\end{verbatim}

\subsubsection{21.7.3. DISMISS}\label{dismiss}

\texttt{DISMISS}\index{\texttt{DISMISS}|textbf} permits a handler to return an arbitrary value for an arbitrary
\texttt{ACTIVATION} \index{\texttt{ACTIVATION}} at an arbitrary interrupt level. The call is as follows:

\begin{verbatim}
<DISMISS value:any activation int-level:fix>
\end{verbatim}

where only the \emph{value} is required. If \emph{activation} is omitted, return is to the place interrupted from, and
\emph{value} is ignored. If \emph{int-level} is omitted, the \texttt{INT-LEVEL} prior to the current interrupt is restored.

\subsection{21.8. Specific Interrupts}\label{specific-interrupts}

\index{\texttt{""CHAR""}|textbf} Descriptions of the characteristics of particular ``built-in'' MDL interrupts follow. Each
is named by its \texttt{STRING} name. Expect this list to be incomplete yesterday.

\texttt{"CHAR"} is currently the most complex built-in interrupt, because it serves duty in several ways. These different
ways will be described in several different sections. All ways are concerned with characters or machine words that arrive
or depart at unpredictable times, because MDL is communicating with a person or another processor. Each \texttt{"CHAR"}
\texttt{IHEADER} has a \texttt{CHANNEL} for the element that names the interrupt, and the mode of the \texttt{CHANNEL}
tells what kinds of \texttt{"CHAR"} interrupts occur to be handled through that \texttt{IHEADER}.

\begin{enumerate}
\def\labelenumi{\arabic{enumi}.}
\tightlist
\item
  If the \texttt{CHANNEL} is for \texttt{INPUT}, \texttt{"CHAR"} occurs every time an ``interesting'' character (see below)
  is received from the \texttt{CHANNEL}'s real terminal, or any character is received from the \texttt{CHANNEL}'s
  pseudo-terminal, or a character or word is received from the \texttt{CHANNEL}'s Network socket, or indeed (in the
  ITS\index{\texttt{ITS}} version) the operating system generates an interrupt for any reason.
\item
  If the \texttt{CHANNEL} is for output to a pseudo-terminal or Network socket, \texttt{"CHAR"} occurs every time a
  character or word is wanted.
\item
  If the \texttt{CHANNEL} is for output to a terminal, \texttt{"CHAR"} occurs every time a line-feed character is output or
  (in the ITS version) the operating system generates a screen-full interrupt for the terminal.
\end{enumerate}

\subsubsection{\texorpdfstring{21.8.1. ``CHAR'' received}{21.8.1. CHAR received}}\label{char-received}

A handler for an input \texttt{"CHAR"} interrupt on a real terminal must take two arguments: the \texttt{CHARACTER} which
was typed, and the \texttt{CHANNEL} on which it was typed.

In the ITS\index{\texttt{ITS}} version, the ``interesting'' characters are those ``enabled for interrupts'' on a real
terminal, namely \^{}@ through \^{}G\index{\texttt{"\^{}G}}, \^{}K through \^{}\_, and DEL (that is, ASCII codes 0-7,
13-37, and 177 octal.)

In the Tenex\index{\texttt{Tenex}} and Tops-20\index{\texttt{Tops-20}} versions, the operating system can be told which
characters typed on a terminal should cause this interrupt to occur, by calling the \texttt{SUBR} \texttt{ACTIVATE-CHARS}
\index{\texttt{ACTIVATE-CHARS}|textbf} with a \texttt{STRING} argument containing those characters (no more than six, all
with ASCII codes less than 33 octal). If called with no argument, \texttt{ACTIVATE-CHARS} returns a \texttt{STRING}
containing the characters that currently interrupt. Initially, only \^{}G, \^{}S\index{\texttt{"\^{}S}}, and \^{}O
interrupt.

An initial MDL already has \texttt{"CHAR"} enabled on \texttt{,INCHAN} with a priority 8 (eight), the \texttt{SUBR}
\texttt{QUITTER}\index{\texttt{QUITTER}|textbf} for a handler to run in \texttt{\#PROCESS\ 0} (the running
\texttt{PROCESS}); this is how \texttt{\^{}G} and \texttt{\^{}S} are processed. In addition, every time a new
\texttt{CHANNEL} is \texttt{OPEN}ed\index{\texttt{OPEN}} in \texttt{"READ"} \index{\texttt{""READ""}} mode to a terminal, a
similar \texttt{IHEADER} and \texttt{HANDLER}\index{\texttt{HANDLER}} are associated with that new \texttt{CHANNEL}
automatically. These automatically-generated \texttt{IHEADER}s and \texttt{HANDLER}s use the standard machinery, and they
can be \texttt{DISABLE}d or \texttt{OFF}ed at will. \textbf{However}, the \texttt{IHEADER} for \texttt{,INCHAN} should not
be \texttt{OFF}ed: MDL knows that \texttt{\$} \index{\texttt{\$}|textbf} is typed only by an interrupt!

Example: the following causes the given message to be printed out whenever a \texttt{\^{}Y} is typed on \texttt{.INCHAN}:
\index{\texttt{AND}}

\begin{verbatim}
<SET H <HANDLER <GET .INCHAN INTERRUPT>
     #FUNCTION ((CHAR CHAN)
      #DECL ((VALUE) ANY (CHAR) CHARACTER (CHAN) CHANNEL)
      <AND <==? .CHAR !\^Y>
           <PRINC " [Some of my best friends are ^Ys.] ">>)>>$
#HANDLER #FUNCTION **CHAR CHAN) ...)
<+ 2 ^Y [Some of my best friends are ^Ys.] 2>$
4
<OFF .H>$
#HANDLER #FUNCTION (...)
\end{verbatim}

Note that occurrences of \texttt{"CHAR"} do \textbf{not} wait for the \texttt{\$} to be typed, and the interrupting
character is omitted from the input stream.

A \texttt{"CHAR"} interrupt can also be associated with an input \texttt{CHANNEL} open to a Network socket (\texttt{"NET"}
device). A handler gets applied to a \texttt{NETSTATE} array (which see) and the \texttt{CHANNEL}.

In the ITS version, a \texttt{"CHAR"} interrupt can also be associated with an input \texttt{CHANNEL} open to a
pseudo-terminal (``STY'' device and friends). An interrupt occurs when a character is available for input. These interrupts
are set up in exactly the same way as real-terminal interrupts, except that a handler gets applied to only \textbf{one}
argument, the \texttt{CHANNEL}. Pseudo-terminals are not available in the Tenex and Tops-20 versions.

For any other flavor of ITS channel interrupt, a handler gets applied to only \textbf{one} argument, the \texttt{CHANNEL}.

\subsubsection{\texorpdfstring{21.8.2. ``CHAR'' wanted}{21.8.2. CHAR wanted}}\label{char-wanted}

A \texttt{"CHAR"} interrupt can be associated with an output \texttt{CHANNEL} open to a Network socket (\texttt{"NET"}
device). A handlers gets applied to a \texttt{NETSTATE} array (which see) and the \texttt{CHANNEL}.

In the ITS version, a \texttt{"CHAR"} interrupt can also be associated with an output \texttt{CHANNEL} open to a
pseudo-terminal (\texttt{"STY"} device and friends). An interrupt occurs when the program at the other end needs a
character (and the operating-system buffer is empty). A handler gets applied to one argument, the \texttt{CHANNEL}.
Pseudo-terminals are not available in the Tenex and Tops-20 versions.

\subsubsection{\texorpdfstring{21.8.3. ``CHAR'' for new line}{21.8.3. CHAR for new line}}\label{char-for-new-line}

A handler for an output \texttt{"CHAR"} interrupt on a real terminal must take \textbf{one or two} arguments (using
\texttt{"OPTIONAL"} or \texttt{"TUPLE"}): if two arguments are supplied by the interrupt system, they are the line number
(\texttt{FIX}) and the \texttt{CHANNEL}, respectively, and the interrupt is for a line-feed; if only one argument is
supplied (only in the ITS version), it is the \texttt{CHANNEL}, and the interrupt is for a full terminal screen. Note: the
supplied line number comes from the \texttt{CHANNEL}, and it may not be accurate if the program alters it in subtle ways,
for example, via \texttt{IMAGE}\index{\texttt{IMAGE}} calls or special control characters. (The program can compensate by
putting the proper line number into the \texttt{CHANNEL}.)

\subsubsection{\texorpdfstring{21.8.4. ``GC''}{21.8.4. GC}}\label{gc}

\texttt{"GC"} \index{\texttt{""GC""}|textbf} occurs just \textbf{after} every garbage collection. Enabling this interrupt
is the only way a program can know that a garbage collection has occurred. A handler for \texttt{"GC"} takes three
arguments. The first is a FLOAT indicating the number of seconds the garbage collection took. The second argument is a FIX
indicating the cause of the garbage collection, as follows (chapter 22):

\begin{enumerate}
\def\labelenumi{\arabic{enumi}.}
\setcounter{enumi}{-1}
\tightlist
\item
  Program called GC\index{\texttt{GC}}.
\item
  Movable storage was exhausted.
\item
  Control stack overflowed.
\item
  Top-level LVALs overflowed.
\item
  GVAL vector overflowed.
\item
  TYPE vector overflowed.
\item
  Immovable garbage-collected storage was exhausted.
\item
  Internal stack overflowed.
\item
  Both control and internal stacks overflowed (rare).
\item
  Pure storage was exhausted.
\item
  Second, exhaustive garbage collection occurred.
\end{enumerate}

The third argument is an ATOM indicating what initiated the garbage collection: \texttt{GC-READ}\index{\texttt{GC-READ}},
\texttt{BLOAT}\index{\texttt{BLOAT}}, \texttt{GROW}\index{\texttt{GROW}}, \texttt{LIST}\index{\texttt{LIST}},
\texttt{VECTOR}\index{\texttt{VECTOR}}, \texttt{SET}\index{\texttt{SET}}, \texttt{SETG}\index{\texttt{SETG}},
\texttt{FREEZE}\index{\texttt{FREEZE}}, \texttt{GC}, \texttt{NEWTYPE}\index{\texttt{NEWTYPE}},
\texttt{PURIFY}\index{\texttt{PURIFY}}, \texttt{PURE-PAGE-LOADER}\index{\texttt{PURE-PAGE-LOADER}|textbf} (pure storage was
exhausted), or \texttt{INTERRUPT-HANDLER}\index{\texttt{INTERRUPT-HANDLER}|textbf} (stack overflow, unfortunately).

\subsubsection{\texorpdfstring{21.8.5. ``DIVERT-AGC''}{21.8.5. DIVERT-AGC}}\label{divert-agc}

\texttt{"DIVERT-AGC"} \index{\texttt{""DIVERT-AGC""}|textbf} (``Automatic Garbage Collection'') occurs just \textbf{before}
a deferrable garbage collection that is needed because of exhausted movable garbage-collected storage. Enabling this
interrupt is the only way a program can know that a garbage collection is about to occur. A handler takes two arguments: A
\texttt{FIX} telling the number of machine words needed and an \texttt{ATOM} telling what initiated the garbage collection
(see above). If it wishes, a handler can try to prevent a garbage collection by calling \texttt{BLOAT} with the
\texttt{FIX} argument. If the pending request for garbage-collected storage cannot then be satisfied, a garbage collection
occurs anyway. \texttt{AGC-FLAG} \index{\texttt{AGC-FLAG}|textbf} is \texttt{SET} to \texttt{T} while the handler is
running, so that new storage requests do not try to cause a garbage collection.

\subsubsection{\texorpdfstring{21.8.6. ``CLOCK''}{21.8.6. CLOCK}}\label{clock}

\texttt{"CLOCK"}, \index{\texttt{""CLOCK""}|textbf} when enabled, occurs every half second (the ITS\index{\texttt{ITS}}
``slow-clock'' tick.) It is not available in the Tenex\index{\texttt{Tenex}} or Tops-20\index{\texttt{Tops-20}} versions.
It wants handlers which take no arguments. Example:

\begin{verbatim}
<ON "CLOCK" <FUNCTION () <PRINC "TICK ">> 1>
\end{verbatim}

\subsubsection{\texorpdfstring{21.8.7. ``BLOCKED''}{21.8.7. BLOCKED}}\label{blocked}

\texttt{"BLOCKED"} \index{\texttt{""BLOCKED""}|textbf} occurs whenever \textbf{any} \texttt{PROCESS} (not only the
\texttt{PROCESS} which may be in a \texttt{HANDLER}) starts waiting or terminal input: that is, an occurrence indicates
that somewhere, somebody did a \texttt{READ}\index{\texttt{READ}}, \texttt{READCHR}\index{\texttt{READCHR}},
\texttt{NEXTCHR}\index{\texttt{NEXTCHR}}, \texttt{TYI}\index{\texttt{TYI}}, etc. to a console. The handler for a
\texttt{"BLOCKED"} interrupt should take one argument, namely the \texttt{PROCESS} which started waiting (which will also
be the \texttt{PROCESS} in which the handler runs, if no specific one is in the \texttt{HANDLER}).

Example: the following will cause MDL to acquire a \texttt{*} prompting character.

\begin{verbatim}
<ON "BLOCKED" #FUNCTION ((IGNORE) <PRINC !\*>) 5>
\end{verbatim}

\subsubsection{\texorpdfstring{21.8.8. ``UNBLOCKED''}{21.8.8. UNBLOCKED}}\label{unblocked}

\texttt{"UNBLOCKED"} \index{\texttt{""UNBLOCKED""}|textbf} occurs whenever a \texttt{\$} \index{\texttt{\$}} (\texttt{ESC})
is typed on a terminal if a program was hanging and waiting for input, or when a TYI\index{\texttt{TYI}} call (which see)
is satisfied. A handler takes one argument: the \texttt{CHANNEL} via which the \texttt{\$} or character is input.

\subsubsection{\texorpdfstring{21.8.9. ``READ'' and ``WRITE''}{21.8.9. READ and WRITE}}\label{read-and-write}

\texttt{"READ"} \index{\texttt{""READ""}|textbf} and \texttt{"WRITE"} \index{\texttt{""WRITE""}|textbf} are associated with
read or write references to MDL objects. These interrupts are often called ``monitors'', and enabling the interrupt is
often called ``monitoring'' the associated object. A ``read reference'' to an \texttt{ATOM}'s local value includes applying
\texttt{BOUND?}\index{\texttt{BOUND?}} or \texttt{ASSIGNED?}\index{\texttt{ASSIGNED?}} to the \texttt{ATOM}; similarly for
a global value and \texttt{GASSIGNED?}\index{\texttt{GASSIGNED?}}. If the \texttt{INT-LEVEL} is too high when
\texttt{"READ"} or \texttt{"WRITE"} occurs, an error occurs, because occurrences of these interrupts cannot be queued.

Monitors are set up with \texttt{EVENT} or \texttt{ON}, using a locative to the object being monitored as the extra
\emph{which} argument, just as a \texttt{CHANNEL} is given for \texttt{"CHAR"}. A handler for \texttt{"READ"} takes two
arguments: the locative and the \texttt{FRAME} of the function application that make the reference. A handler for
\texttt{"WRITE"} takes three arguments: the locative, the new value, and the \texttt{FRAME}. For example:

\begin{verbatim}
<SET A (1 2 3)>$
(1 2 3)
<SET B <AT .A 2>>$
#LOCL 2
<ON "WRITE" <FUNCTION (OBJ VAL FRM)
        #DECL ((VALUE VAL) ANY (OBJ) LOCATIVE (FRM) FRAME)
        <CRLF>
        <PRINC "Program changed ">
        <PRIN1 .OBJ>
        <PRINC " to ">
        <PRIN1 .VAL>
        <PRINC " via ">
        <PRIN1 .FRM>
        <CRLF>>
        4 0 .B>$
#HANDLER #FUNCTION (...)
<1 .A 10>$
(10 2 3)
<2 .A 20>$
Program changed #LOCL 2 to 20 via #FRAME PUT
(10 20 3)
<OFF "WRITE" .B>$
#IHEADER #LOCL 20
\end{verbatim}

\subsubsection{\texorpdfstring{21.8.10. ``SYSDOWN''}{21.8.10. SYSDOWN}}\label{sysdown}

\texttt{"SYSDOWN"} \index{\texttt{""SYSDOWN""}|textbf} occurs when a system-going-down or system-revived signal is received
from ITS\index{\texttt{ITS}}. It is not available in the Tenex\index{\texttt{Tenex}} or Tops-20\index{\texttt{Tops-20}}
versions. If no \texttt{IHEADER} is associated and enabled, a warning message is printed on the terminal. A handler takes
one argument: a \texttt{FIX} giving the number of thirtieths of a second until the shutdown (-1 for a reprieve).

\subsubsection{\texorpdfstring{21.8.11. ``ERROR''}{21.8.11. ERROR}}\label{error-1}

\index{\texttt{""ERROR""}|textbf} In an effort to simplify error handling by programs, MDL has a facility allowing errors
to be handled like interrupts. \texttt{SETG}ing \texttt{ERROR} to a user function is a distasteful method, not safe if any
bugs are around. An \texttt{"ERROR"} interrupt wants a handler that takes any number of arguments, via \texttt{"TUPLE"}.
When an error occurs, handlers are applied to the \texttt{FRAME} of the \texttt{ERROR} call and the \texttt{TUPLE} of
\texttt{ERROR} arguments. If a given handler ``takes care of the error'', it can \texttt{ERRET} with a value from the
\texttt{ERROR} \texttt{FRAME}, after having done \texttt{\textless{}INT-LEVEL\ 0\textgreater{}}. If no handler takes care
of the error, it falls into the normal \texttt{ERROR}.

If an error occurs at an \texttt{INT-LEVEL} greater than or equal to that of the \texttt{"ERROR"} interrupt, real
\texttt{ERROR} will be called, because \texttt{"ERROR"} interrupts cannot be queued.

\subsubsection{\texorpdfstring{21.8.12. ``IPC''}{21.8.12. IPC}}\label{ipc}

\texttt{"IPC"} \index{\texttt{""IPC""}} occurs when a message is received on the ITS\index{\texttt{ITS}} IPC device
(chapter 23). It is not available in the Tenex\index{\texttt{Tenex}} and Tops-20\index{\texttt{Tops-20}} versions.

\subsubsection{\texorpdfstring{21.8.13. ``INFERIOR''}{21.8.13. INFERIOR}}\label{inferior}

\texttt{"INFERIOR"} \index{\texttt{""INFERIOR""}|textbf} occurs when an inferior ITS\index{\texttt{ITS}} process interrupts
the MDL process. It is not available in the Tenex\index{\texttt{Tenex}} and Tops-20\index{\texttt{Tops-20}} versions. A
handler takes one argument: A \texttt{FIX} between \texttt{0} and \texttt{7} inclusive, telling which inferior process is
interrupting.

\subsubsection{\texorpdfstring{21.8.14. ``RUNT'' and ``REALT''}{21.8.14. RUNT and REALT}}\label{runt-and-realt}

These are not available in the Tenex\index{\texttt{Tenex}} and Tops-20\index{\texttt{Tops-20}} versions.

\texttt{"RUNT"}, \index{\texttt{""RUNT""}|textbf} if enabled, occurs \textbf{once}, \emph{N} seconds of MDL running time
(CPU time) after calling \texttt{\textless{}RUNTIMER\ N:fix-or-float\textgreater{}}\index{\texttt{RUNTIMER}|textbf}, which
returns its argument. A handler takes no arguments. If \texttt{RUNTIMER} is called with no argument, it returns a
\texttt{FIX}, the number of run-time seconds left until the interrupt occurs, or \texttt{\#FALSE\ ()} if the interrupt is
not going to occur.

\texttt{"REALT"}, \index{\texttt{""REALT""}|textbf} if enabled, occurs \textbf{every} \emph{N} seconds of real-world time
after calling \texttt{\textless{}REALTIMER\ N:fix-or-float\textgreater{}}\index{\texttt{REALTIMER}|textbf}, which returns
its argument. A handler takes no arguments. \texttt{\textless{}REALTIMER\ 0\textgreater{}} tells the operating system not
to generate real-time interrupts. If \texttt{REALTIMER} is called with no argument, it returns a \texttt{FIX}, the number
of real-time seconds given in the most recent call to \texttt{REALTIMER} with an argument, or \texttt{\#FALSE\ ()} if
\texttt{REALTIMER} has not been called.

\subsubsection{\texorpdfstring{21.8.15. ``Dangerous''
Interrupts}{21.8.15. Dangerous Interrupts}}\label{dangerous-interrupts}

\texttt{"MPV"} \index{\texttt{""MPV""}|textbf} (``memory protection violation'') occurs if MDL tries to refer to a storage
address not in its address space. \texttt{"PURE"} \index{\texttt{""PURE""}|textbf} occurs if MDL tries to alter read-only
storage. \texttt{"ILOPR"} \index{\texttt{""ILOPR""}|textbf} occurs if MDL executes and illegal instruction (``operator'').
\texttt{"PARITY"} \index{\texttt{""PARITY""}|textbf} occurs if the CPU detects a parity error in MDL's address space. All
of these require a handler that takes one argument: the address (\texttt{TYPE} \texttt{WORD}) following the instruction
that was being executed at the time.

\texttt{"IOC"} \index{\texttt{""IOC""}|textbf} occurs if MDL tries to deal illegally with an I/O channel. A handler must
take two arguments: a three-element \texttt{FALSE} like one that \texttt{OPEN} might return, and the \texttt{CHANNEL} that
got the error.

Ideally these interrupts should never occur. In fact, in the Tenex\index{\texttt{Tenex}} and
Tops-20\index{\texttt{Tops-20}} versions, these interrupts always go to the superior operating system process instead of to
MDL. In the ITS\index{\texttt{ITS}} version, if and when a ``dangerous'' interrupt does occur:

\begin{itemize}
\tightlist
\item
  If no \texttt{IHEADER} is associated with the interrupt, then the interrupt goes to the superior operating system
  process.
\item
  If an \texttt{IHEADER} is associated but disabled, the error \texttt{DANGEROUS-INTERRUPT-NOT-HANDLED} occurs
  (\texttt{FILE-SYSTEM-ERROR} for \texttt{"IOC"}).
\item
  If an \texttt{IHEADER} is associated and enabled, but the \texttt{INT-LEVEL} is too high, the error
  \texttt{ATTEMPT-TO-DEFER-UNDEFERABLE-INTERRUPT} occurs.
\end{itemize}

\subsection{21.9. User-Defined Interrupts}\label{user-defined-interrupts}

If the interrupt name given to \texttt{EVENT} or \texttt{ON} is \textbf{not} one of the standard predefined interrupts of
MDL, they will gleefully create an \texttt{ATOM} in \texttt{\textless{}INTERRUPTS\textgreater{}} and an associated
\texttt{IHEADER} anyway, making the assumption that you are setting up a ``program-defined'' interrupt.

Program-defined interrupts are made to occur by applying the \texttt{SUBR}
\texttt{INTERRUPT}\index{\texttt{INTERRUPT}|textbf}, as in

\begin{verbatim}
<INTERRUPT name arg1 ... argN>
\end{verbatim}

where \emph{name} is a \texttt{STRING}, \texttt{ATOM} or \texttt{IHEADER}, and \emph{arg1} through \emph{argN} are the
arguments wanted by the handlers for the interrupt.

If the interrupt specified by \texttt{INTERRUPT} is enabled, \texttt{INTERRUPT} returns \texttt{T}; otherwise it returns
\texttt{\#FALSE\ ()}. All the usual priority and queueing rules hold, so that even if \texttt{INTERRUPT} returns
\texttt{T}, it is possible that nothing ``really happened'' (yet).

\texttt{INTERRUPT} can also be used to cause ``artificial'' occurrences of standard predefined MDL interrupts.

Making a program-defined interrupt occur is similar to calling a handler directly, but there are differences. The value
returned by a handler is ignored, so side effects must be used in order to communicate information back to the caller,
other than whether any handler ran or will run. One good use for a program-defined interrupt is to use the priority and
queueing machinery of \texttt{INT-LEVEL} to control the execution of functions that must not run concurrently. For example,
if a \texttt{"CHAR"} handler just deposits characters in a buffer, then a function to process the buffered characters
should probably run at a higher priority level -- to prevent unpredictable changes to the buffer during the processing --
and it is natural to invoke the processing with \texttt{INTERRUPT}.

In more exotic applications, \texttt{INTERRUPT} can signal a condition to be handled by an unknown number of independent
and ``nameless'' functions. The functions are ``nameless'' because the caller doesn't know their name, only the name of the
interrupt. This programming style is modular and event-driven, and it is one way of implementing ``heuristic'' algorithms.
In addition, each \texttt{HANDLER} has a \texttt{PROCESS}\index{\texttt{PROCESS}} in which to run its handler, and so the
different handlers for a given condition can do their thing in different environments quite easily, with less explicit
control than when using \texttt{RESUME}\index{\texttt{RESUME}}.

\subsection{21.10. Waiting for Interrupts}\label{waiting-for-interrupts}

\subsubsection{21.10.1. HANG}\label{hang}

\begin{verbatim}
<HANG pred>
\end{verbatim}

\index{\texttt{HANG}|textbf} hangs interruptibly, without consuming any CPU time, potentially forever. \texttt{HANG} is
nice for a program that cannot do anything until an interrupt occurs. If the optional \emph{pred} is given, it is evaluated
every time an interrupt occurs and is dismissed back into the \texttt{HANG}; if the result of evaluation is not
\texttt{FALSE}, \texttt{HANG} unhangs and returns it as a value. If \emph{pred} is not given, there had better be a named
\texttt{ACTIVATION} somewhere to which a handler can return.

\subsubsection{21.10.2. SLEEP}\label{sleep}

\begin{verbatim}
<SLEEP time:fix-or-float pred>
\end{verbatim}

\index{\texttt{SLEEP}|textbf} suspends execution, interruptibly, without consuming any CPU time, for \emph{time} seconds,
where \emph{time} is non-negative, and then returns \texttt{T}. \emph{pred} is the same as for \texttt{HANG}.

\section{Chapter 22. Storage Management}\label{chapter-22.-storage-management}

The reason this chapter comes so late in this document is that, except for special cases, MDL programs have their storage
needs handled automatically. There is usually no need even to consider storage management, except as it affects efficiency
(chapter 24). This chapter gives some explanation of why this is so, and covers those special means by which a program can
assume control of storage management.

The MDL address space is divided into five parts, which are usually called

\begin{enumerate}
\def\labelenumi{\arabic{enumi}.}
\tightlist
\item
  movable garbage-collected space,
\item
  immovable space (both garbage-collected and not),
\item
  user pure/page space,
\item
  pure-\texttt{RSUBR} mapping space, and
\item
  internal storage.
\end{enumerate}

Internal storage occupies both the highest and lowest addresses in the address space, and its size never changes as MDL
executes. The other spaces can vary in size according to the needs of the executing program. Generally the interpreter
allocates a contiguous set of addresses for each space, and each space gradually fills up as new objects are created and as
disk files are mapped in. The action taken when space becomes full varies, as discussed below.

\subsection{22.1. Movable Garbage-collected Storage}\label{movable-garbage-collected-storage}

Most storage used explicitly by MDL programs is obtained from a pool of free storage managed by a ``garbage collector''.
Storage is obtained from this pool by the \texttt{SUBR}s which construct objects. When a \texttt{SUBR} finds that the pool
of available storage is exhausted, it automatically calls the garbage collector.

The garbage collector has two algorithms available to it: the ``copying'' algorithm, which is used by default, and the
``mark-sweep'' algorithm. Actually, one often speaks of two separate garbage collectors, the ``copying'' one and the
``mark-sweep'' one, because each is an independent module that is mapped in to the interpreter's internal storage from disk
only during garbage collection. For simplicity, this document speaks of ``the'' garbage collector, which has two
algorithms.

The garbage collector examines the storage pool and \textbf{marks} all the objects there, separating them into two classes:
those which cannot possibly be referenced by a program, and those which can. The ``copying'' algorithm then copies the
latter into one compact section of the pool, and the remainder of the pool is made available for newly constructed objects.
The ``mark-sweep'' algorithm, instead, puts all objects in the former class (garbage) into ``free lists'', where the
object-construction \texttt{SUBR}s can find them and re-use their storage.

If the request for more storage still cannot be satisfied from reclaimed storage, the garbage collector will attempt to
obtain more total storage from the operating system under which MDL runs. (Also, if there is a gross superfluity of storage
space, the garbage collector will politely return some storage to the operating system.) Only when the total system
resources are exhausted will you finally lose.

Thus, if you just ``forget about'' an object, that is, lose all possible means of referencing it, its storage is
automatically reclaimed. ``Object'' in this context includes that stack-structured storage space used in \texttt{PROCESS}es
for functional application.

\subsubsection{22.1.1. Stacks and Other Internal Vectors}\label{stacks-and-other-internal-vectors}

Control stacks are used in MDL to control the changes in environment caused by calling and binding. Each active
\texttt{PROCESS}\index{\texttt{PROCESS}} has its own control stack. On this stack are stored
\texttt{LVAL}s\index{\texttt{LVAL}} for \texttt{ATOM}s; \texttt{PRIMTYPE} \texttt{TUPLE}s\index{\texttt{TUPLE}}, which are
otherwise like \texttt{VECTOR}s; \texttt{PRIMTYPE} \texttt{FRAME}s\index{\texttt{FRAME}}, which are generated by calling
Subroutines; and \texttt{ACTIVATION}s\index{\texttt{ACTIVATION}}, which are generated by calling \texttt{FUNCTION}s with
named \texttt{ACTIVATION}s, \texttt{PROG}, and \texttt{REPEAT}. \texttt{TAG}\index{\texttt{TAG}} and
\texttt{LLOC}\index{\texttt{LLOC}} can make \texttt{TAG}s and \texttt{LOCD}s\index{\texttt{LOCD}} (respectively) that refer
to a specific place on a specific control stack. (\texttt{LEGAL?}\index{\texttt{LEGAL?}|textbf} returns \texttt{T} if and
only if the portion of the control stack in which its argument is found or to which its argument refers is still active, or
if its argument doesn't care about the control stack. The garbage collector may change a non-\texttt{LEGAL?} object to
\texttt{TYPE}\index{\texttt{TYPE}} \texttt{ILLEGAL}\index{\texttt{ILLEGAL}|textbf} before reclaiming it.) As the word
``stack'' implies, things can be put on it and removed from it at only one end, called the top. It has a maximum size (or
depth), and attempting to put too many things on it will cause overflow. A stack is stored like a \texttt{VECTOR}, and it
must be \texttt{GROW}n if and when it overflows.

A control stack is actually two stacks in one. One section is used for ``top-level'' \texttt{LVAL}s -- those \texttt{SET}
while the \texttt{ATOM} is not bound by any active Function's argument \texttt{LIST} or Subroutine's
\texttt{SPECIAL}\index{\texttt{SPECIAL}} binding -- and the other section is used for everything else. Either section can
overflow, of course. The top-level-\texttt{LVAL} section is below the other one, so that a top-level \texttt{LVAL} will be
found only if the \texttt{ATOM} is not currently bound elsewhere, namely in the other section.

MDL also has an internal stack, used for calling and temporary storage within the interpreter and compiled programs. It too
is stored like a \texttt{VECTOR} and can overflow. There are other internal vectors that can overflow: the ``global
vector'' holds pairs (``slots'') of \texttt{ATOM}s and corresponding \texttt{GVAL}s\index{\texttt{GVAL}} (``globally
bound'' or \texttt{GBOUND?}\index{\texttt{GBOUND?}} means that the \texttt{ATOM} in question is in this vector, whether or
not it currently has a global value), and the ``\texttt{TYPE} vector'' holds \texttt{TYPE} names (predefined and
\texttt{NEWTYPE}s\index{\texttt{NEWTYPE}}) and how they are to be treated.

\subsection{22.2. Immovable Storage}\label{immovable-storage}

\subsubsection{22.2.1. Garbage-collected: FREEZE}\label{garbage-collected-freeze}

In very special circumstances, such as debugging \texttt{RSUBR}s, you may need to prevent an object from being moved by the
garbage collector. \texttt{FREEZE}\index{\texttt{FREEZE}|textbf} takes one argument, of \texttt{PRIMTYPE} \texttt{VECTOR},
\texttt{UVECTOR}, \texttt{STRING}, \texttt{BYTES} or \texttt{TUPLE}. It copies its argument into non-moving
garbage-collected space. \texttt{FREEZE} returns the copy \texttt{CHTYPE}d to its \texttt{PRIMTYPE}, except in the case of
a \texttt{TUPLE}, which is changed to a \texttt{VECTOR}.

\subsubsection{22.2.2. Non-garbage-collected: STORAGE (the PRIMTYPE)}\label{non-garbage-collected-storage-the-primtype}

An object of \texttt{PRIMTYPE} \texttt{STORAGE}\index{\texttt{STORAGE}|textbf} is really a frozen \texttt{UVECTOR} whose
\texttt{UTYPE} is of \texttt{PRIMTYPE} \texttt{WORD}, but it is always pointed to by something internal to MDL and thus is
never garbage-collectible. The use of \texttt{FREEZE} is always preferable, except when for historical reasons a
\texttt{STORAGE} is necessary.

\subsection{22.3. Other Storage}\label{other-storage}

User pure/page space serves two purposes. First, when a user program \texttt{PURIFY}s\index{\texttt{PURIFY}} (see below)
MDL objects, they are copied into this space. Second, so-called hand-crafted \texttt{RSUBR}s\index{\texttt{RSUBR}}
(assembled but not compiled) can call on the interpreter to map pages of disk files into this space for arbitrary purposes.

Pure-\texttt{RSUBR} mapping space is used by the interpreter to dynamically map pages of pure compiled programs into and
out of the MDL address space. Pure code can refer to impure storage through the ``transfer vector'', another internal
vector. This space is the most vulnerable to being compressed in size by the long-term growth of other spaces.

Internal storage has both pure and impure parts. The interpreter program itself is pure and sharable, while impure storage
is used for internal pointers, counters, and flags, for example, pointers to the boundaries of other spaces. In the pure
part of this space are most of the \texttt{ATOM}s\index{\texttt{ATOM}} in an initial MDL, along with their
\texttt{OBLIST}\index{\texttt{OBLIST}} buckets (\texttt{LIST}s) and \texttt{GVAL}\index{\texttt{GVAL}} slots (a pure
extension of the global vector), where possible. A \texttt{SET}\index{\texttt{SET}} or \texttt{SETG}\index{\texttt{SETG}}
of a pure \texttt{ATOM} automatically impurifies the \texttt{ATOM} and as much of its \texttt{OBLIST} bucket as needs to be
impure.

\subsection{22.4. Garbage Collection: Details}\label{garbage-collection-details}

When either of the garbage-collected spaces (movable or immovable) becomes full, MDL goes through the following procedure:

\begin{enumerate}
\def\labelenumi{\arabic{enumi}.}
\tightlist
\item
  A \texttt{"DIVERT-AGC"} \index{\texttt{""DIVERT-AGC""}} interrupt occurs if the garbage collection can be deferred
  temporarily by shifting boundaries between storage spaces slightly. The interrupt handler may postpone a garbage
  collection by moving boundaries itself with a call to \texttt{BLOAT} (below).
\item
  The garbage collector begins execution. The ``copying'' algorithm creates an inferior operating-system process (named
  \texttt{AGC} in the ITS\index{\texttt{ITS}} version) whose address space is used to hold the new copies of non-garbage
  objects. MDL accesses the inferior's address space through two pages (``frontier'' and ``window'') in its internal space
  that are shared with the inferior. If the garbage collection occurred because movable garbage-collected space was
  exhausted, then the ``mark-sweep'' algorithm might be used instead (see below) and no inferior process is created.
\item
  The garbage collector marks and moves all objects that can possibly be referenced hereafter. It begins with the
  \texttt{\textless{}MAIN\textgreater{}}\index{\texttt{MAIN}} \texttt{PROCESS} and the currently running \texttt{PROCESS}
  \texttt{\textless{}ME\textgreater{}}\index{\texttt{ME}}, considered as vectors containing the control stacks, object
  pointers in live registers, etc. Every object in these ``\texttt{PROCESS} vectors'' is marked ``accessible'', and every
  element of these objects (bindings, etc.), and so on recursively. The ``copying'' algorithm moves objects into the
  inferior process's address space as it marks them.
\item
  If the garbage collection is ``exhaustive'' -- which is possible only in the ``copying'' algorithm -- then both the chain
  of associations and top-level local/global bindings are examined thoroughly, which takes more time but is more likely to
  uncover garbage therein. In a normal garbage collection these constructs are not treated specially.
\item
  Finally, the ``mark-sweep'' algorithm sweeps through the storage space, adding unmarked objects to the internal free
  lists for later re-use. The ``copying'' algorithm maps the inferior process's address space into MDL's own, replacing old
  garbagey with the new compact storage, and the inferior process is destroyed.
\end{enumerate}

\subsection{22.5. GC}\label{gc-1}

\begin{verbatim}
<GC min:fix exh?:false-or-any ms-freq:fix>
\end{verbatim}

\index{\texttt{GC}|textbf} causes the garbage collector to run and returns the total number of words of storage reclaimed.
All of its arguments are optional: if they are not supplied, a call to GC simply causes a ``copying'' garbage collection.

If \emph{min} is explicitly supplied as an argument, a garbage-collection parameter is changed permanently before the
garbage collector runs. \emph{min} is the smallest number of words of ``free'' (unclaimed, available for use) movable
garbage-collected storage the garbage collector will be satisfied with having after it is done. Initially it is 8192 words.
If the total amount of reclaimed storage is less than \emph{min}, the garbage collector will ask the operating system for
enough storage (in 1024 word blocks) to make it up. N.B.: the system may be incivil enough not to grant the request; in
that case, the garbage collector will be content with what it has, \textbf{unless} that is not enough to satisfy a
\textbf{pending} request for storage. Then it will inform you that it is losing. A large \emph{min} will result in fewer
total garbage collections, but they will take longer since the total quantity of storage to be dealt with will generally be
larger. Smaller \emph{min}s result in shorter, more frequent garbage collections.

\subsection{22.6. BLOAT}\label{bloat}

\texttt{BLOAT}\index{\texttt{BLOAT}|textbf} is used to cause a temporary expansion of the available storage space with or
without changing the garbage-collection parameters. \texttt{BLOAT} is particularly useful for avoiding unnecessary garbage
collections when loading a large file. It will cause (at most) one garbage collection, at the end of which the available
storage will be at least the amount specified in the call to \texttt{BLOAT}. (Unless, of course, the operating system is
cranky and will not provide the storage. Then you will get an error. \texttt{\textless{}ERRET\ 1\textgreater{}} from this
error will cause the \texttt{BLOAT} to return \texttt{1}, which usually just causes you to lose at a later time -- unless
the operating system feels nicer when the storage is absolutely necessary.)

A call to BLOAT looks like this:

\begin{verbatim}
<BLOAT fre stk lcl glb typ sto pstk
       min plcl pglb ptyp imp pur dpstk dstk>
\end{verbatim}

where all arguments on the first line above are \texttt{FIX}, optional (\texttt{0} by default), and indicate the following:

\begin{itemize}
\tightlist
\item
  \emph{fre}: number of words of free movable storage desired (for \texttt{LIST}s, \texttt{VECTOR}s, \texttt{ATOM}s, etc.)
\item
  \emph{stk}: number of words of free control-stack space desired (for functional applications and binding of
  \texttt{ATOM}s)
\item
  \emph{lcl}: number of new top-level \texttt{LVAL}s for which to leave space (\texttt{SET}s of \texttt{ATOM}s which are
  not currently bound)
\item
  \emph{glb}: number of new \texttt{GVAL}s for which to leave space (in the global vector)
\item
  \emph{typ}: number of new \texttt{TYPE} definitions for which to leave space (in the \texttt{TYPE} vector)
\item
  \emph{sto}: number of words of immovable garbage-collected storage desired
\item
  \emph{pstk}: number of words of free internal-stack space desired (for \texttt{READ}ing large \texttt{STRING}s, and
  calling routines within the interpreter and compiled programs)
\end{itemize}

Arguments on the second line are also \texttt{FIX} and optional, but they set garbage-collection parameters permanently, as
follows:

\begin{itemize}
\tightlist
\item
  \emph{min}: as for \texttt{GC}
\item
  \emph{plcl}: number of slots for \texttt{LVAL}s added when the space for top-level \texttt{LVAL}s is expanded (initially
  64)
\item
  \emph{pglb}: number of slots for \texttt{GVAL}s added when the global vector is grown (initially 64)
\item
  \emph{ptyp}: number of slots for \texttt{TYPE}s added when the \texttt{TYPE} vector is grown (initially 32)
\item
  \emph{imp}: number of words of immovable garbage-collected storage added when it is expanded (initially 1024)
\item
  \emph{pur}: number of words reserved for pure compiled programs, if possible (initially 0)
\item
  \emph{dpstk}: most desirable size for the internal stack, to prevent repeated shrinking and \texttt{GROW}ing (initially
  512)
\item
  \emph{dstk}: most desirable size for the control stack (initially 4096)
\end{itemize}

\texttt{BLOAT} returns the actual number of words of free movable garbage-collected storage available when it is done.

\subsection{22.7. BLOAT-STAT}\label{bloat-stat}

\texttt{BLOAT-STAT}\index{\texttt{BLOAT-STAT}|textbf} can be used with \texttt{BLOAT} to ``tune'' the garbage collector to
particular program requirements.

\begin{verbatim}
<BLOAT-STAT length-27:uvector>
\end{verbatim}

fills the \emph{uvector} with information about the state of storage of MDL. The argument should be a \texttt{UVECTOR} of
length 27 and \texttt{UTYPE} \texttt{FIX}. If \texttt{BLOAT-STAT} does not get an argument, it will provide its own
\texttt{UVECTOR}. The information returned is as follows: the first 8 elements indicate the number of garbage collections
that are attributable to certain causes, and the other 19 give information about certain areas of storage. In detail:

\begin{enumerate}
\def\labelenumi{\arabic{enumi}.}
\item
  number of garbage collections caused by exhaustion of movable garbage-collected storage
\item
  ditto by overflow of control stack(s)
\item
  ditto by overflow of top-level-\texttt{LVAL} section of control stack(s)
\item
  ditto by overflow of global vector
\item
  ditto by overflow of \texttt{TYPE} vector
\item
  ditto by exhaustion of immovable garbage-collected storage
\item
  ditto by overflow of internal stack
\item
  ditto by overflow of both stacks at the same time (rare)
\item
  number of words of movable storage
\item
  number of words of movable storage used since last \texttt{BLOAT-STAT}
\item
  maximum number of words of movable storage ever existing
\item
  number of words of movable storage used since MDL began running
\item
  maximum size of control stack
\item
  number of words on control stack in use
\item
  maximum size of control stack(s) ever reached
\item
  number of slots for top-level \texttt{LVAL}s
\item
  number of top-level \texttt{LVAL}s existing
\item
  number of slots for \texttt{GVAL}s in global vector
\item
  number of \texttt{GVAL}s existing
\item
  number of slots for \texttt{TYPE}s in \texttt{TYPE} vector
\item
  number of \texttt{TYPE}s existing
\item
  number of words of immovable garbage-collected storage
\item
  number of words of immovable storage unused
\item
  size of largest unused contiguous immovable-storage block
\item
  number of words on internal stack
\item
  number of words on internal stack in use
\item
  maximum size of internal stack ever reached
\end{enumerate}

\subsection{22.8. GC-MON}\label{gc-mon}

\begin{verbatim}
<GC-MON pred>
\end{verbatim}

\index{\texttt{GC-MON}|textbf} (``garbage-collector monitor'') determines whether or not the interpreter will hereafter
print information on the terminal when a garbage collection starts and finishes, according to whether or not its argument
is true. It returns the previous state. Calling it with no argument returns the current state. The initial state is false.

When typing is enabled, the ``copying'' garbage collector prints, when it starts:

\begin{verbatim}
GIN reason subr-that-caused:atom
\end{verbatim}

and, when it finishes:

\begin{verbatim}
GOUT seconds-needed
\end{verbatim}

The ``mark-sweep'' garbage collector prints \texttt{MSGIN} and \texttt{MSGOUT} instead of \texttt{GIN} and \texttt{GOUT}.

\subsection{22.9. Related Subroutines}\label{related-subroutines}

Two \texttt{SUBR}s, described next, use only part of the garbage-collector algorithm, in order to find all pointers to an
object. \texttt{GC-DUMP}\index{\texttt{GC-DUMP}} and \texttt{GC-READ}\index{\texttt{GC-READ}}, as their names imply, also
use part in order to translate between MDL objects and binary representation thereof.

\subsubsection{22.9.1. SUBSTITUTE}\label{substitute}

\begin{verbatim}
<SUBSTITUTE new:any old:any>
\end{verbatim}

\index{\texttt{SUBSTITUTE}|textbf} returns \emph{old}, after causing a miniature garbage collection to occur, during which
\textbf{all} references to \emph{old} are changed so as to refer to \emph{new}. Neither argument can be of
\texttt{PRIMTYPE} \texttt{STRING} or \texttt{BYTES} or \texttt{LOCD} or live on the control stack, unless both are of the
same \texttt{PRIMTYPE}. One \texttt{TYPE} name cannot be substituted for another. One of the few legitimate uses for it is
to substitute the ``right'' \texttt{ATOM} for the ``wrong'' one, after \texttt{OBLIST}s have been in the wrong state. This
is more or less the way \texttt{ATOM}s are impurified. It is also useful for unlinking \texttt{RSUBR}s. \texttt{SUBSTITUTE}
returns \emph{old} as a favor: unless you hang onto \emph{old} at that point, it will be garbage-collected.

\subsubsection{22.9.2. PURIFY}\label{purify}

\begin{verbatim}
<PURIFY any-1 ... any-N>
\end{verbatim}

\index{\texttt{PURIFY}|textbf} returns its last argument, after causing a miniature garbage collection that results in all
the arguments becoming pure and sharable, and ignored afterward by the garbage collector. No argument can live on the
control stack or be of \texttt{PRIMTYPE} \texttt{PROCESS} or \texttt{LOCD} or \texttt{ASOC}. Sharing between
operating-system processes actually occurs after a \texttt{SAVE}\index{\texttt{SAVE}}, if and when the \texttt{SAVE} file
is \texttt{RESTORE}d.

\section{Chapter 23. MDL as a System Process}\label{chapter-23.-mdl-as-a-system-process}

This chapter treats MDL considered as executing in an operating-system process, and interactions between MDL and other
operating-system processes. See also section 21.8.13.

\subsection{23.1. TIME}\label{time}

\texttt{TIME}\index{\texttt{TIME}|textbf} takes any number of arguments, which are evaluated but ignored, and returns a
\texttt{FLOAT} giving the number of seconds of CPU time the MDL process has used so far. \texttt{TIME} is often used in
machine-level debugging to examine the values of its arguments, by having MDL's superior process (say, DDT) plant a
breakpoint in the code for \texttt{TIME}.

\subsection{23.2. Names}\label{names}

\begin{verbatim}
<UNAME>
\end{verbatim}

\index{\texttt{UNAME}|textbf} returns a \texttt{STRING} which is the ``user name'' of MDL's process. This is the ``uname''
process-control variable in the ITS\index{\texttt{ITS}} version and the logged-in directory in the Tenex and Tops-20
versions.

\begin{verbatim}
<XUNAME>
\end{verbatim}

\index{\texttt{XUNAME}|textbf} returns a \texttt{STRING} which is the ``intended user name'' of MDL's process. This is the
``xuname'' process-control variable in the ITS version and identical to \texttt{\textless{}UNAME\textgreater{}} in the
Tenex and Tops-20 versions.

\begin{verbatim}
<JNAME>
\end{verbatim}

\index{\texttt{JNAME}|textbf} returns a \texttt{STRING} which is the ``job name'' of MDL's process. This is the ``jname''
process-control variable in the ITS version and the \texttt{SETNM} name in the Tenex and Tops-20 versions. The characters
belong to the ``sixbit'' or ``printing'' subset of ASCII, namely those between
\texttt{\textless{}ASCII\ *40*\textgreater{}} and \texttt{\textless{}ASCII\ *137*\textgreater{}} inclusive.

\begin{verbatim}
<XJNAME>
\end{verbatim}

\index{\texttt{XJNAME}|textbf} returns a \texttt{STRING} which is the ``intended job name'' of MDL's process. This is the
``xjname'' process-control variable in the ITS version and identical to \texttt{\textless{}JNAME\textgreater{}} in the
Tenex and Tops-20 versions.

\subsection{23.3. Exits}\label{exits}

\begin{verbatim}
<LOGOUT>
\end{verbatim}

\index{\texttt{LOGOUT}|textbf} attempts to log out the process in which it is executed. It will succeed only if the MDL is
the top-level process, that is, it is running disowned or as a daemon. If it succeeds, it of course never returns. If it
does not, it returns \texttt{\#FALSE\ ()}.

\begin{verbatim}
<QUIT>
\end{verbatim}

\index{\texttt{QUIT}|textbf} causes MDL to stop running, in an orderly manner. In the ITS version, it is equivalent to a
\texttt{.LOGOUT\ 1} instruction. In the Tenex and Tops-20 versions, it is equivalent to a control-C signal, and control
passes to the superior process.

\begin{verbatim}
<VALRET string-or-fix>
\end{verbatim}

\index{\texttt{VALRET}|textbf} (``value return'') seldom returns. It passes control back up the process tree to the
superior of MDL, passing its argument as a message to that superior. If it does return, the value is \texttt{\#FALSE\ ()}.
If the argument is a \texttt{STRING}, it is passed to the superior as a command to be executed, via \texttt{.VALUE} in the
ITS version and \texttt{RSCAN} in the Tops-20 version. If the argument is a \texttt{FIX}, it is passed to the superior as
the ``effective address'' of a \texttt{.BREAK\ 16}, instruction in the ITS version and ignored in other versions.

\subsection{23.4. Inter-process Communication}\label{inter-process-communication}

All of the \texttt{SUBR}s in this section are available only in the ITS\index{\texttt{ITS}} version.

The IPC (``inter-process communication'') device is treated as an I/O device by ITS but not explicitly so by MDL: that is,
it is never \texttt{OPEN}ed. It allows MDL to communicate with other ITS processes by means of sending and receiving
messages. A process identifies itself as sender or recipient of a message with an ordered pair of ``sixbit''
\texttt{STRING}s, which are often but not always \texttt{\textless{}UNAME\textgreater{}} and
\texttt{\textless{}JNAME\textgreater{}}. A message has a ``body'' and a ``type''.

\subsubsection{23.4.1. SEND and SEND-WAIT}\label{send-and-send-wait}

\begin{verbatim}
<SEND othern1 othern2 body type mynamel myname2>

<SEND-WAIT othern1 othern2 body type mynamel myname2>
\end{verbatim}

\index{\texttt{SEND}|textbf} both send an IPC message to any job that is listening for it as \emph{othern1} \emph{othern2}.
\emph{body} must be either a \texttt{STRING}, or a \texttt{UVECTOR} of objects of \texttt{PRIMTYPE} \texttt{WORD}.
\emph{type} is an optional \texttt{FIX}, \texttt{0} by default, which is part of the information the other guy receives.
The last two arguments are from whom the message is to be sent. These are optional, and
\texttt{\textless{}UNAME\textgreater{}} and \texttt{\textless{}JNAME\textgreater{}} respectively are used by default.
\texttt{SEND} returns a \texttt{FALSE} if no one is listening, while \texttt{SEND-WAIT}\index{\texttt{SEND-WAIT}|textbf}
hangs until someone wants it. Both return \texttt{T} if someone accepts the message.

\subsubsection{\texorpdfstring{23.4.2. The ``IPC'' Interrupt}{23.4.2. The IPC Interrupt}}\label{the-ipc-interrupt}

When your MDL process receives an IPC message, \texttt{"IPC"} \index{\texttt{""IPC""}|textbf} occurs (chapter 21). A
handler is called with either four or six arguments gleaned from the message. \emph{body}, \emph{type}, \emph{othern1}, and
\emph{othern2} are supplied only if they are not this process's \texttt{\textless{}UNAME\textgreater{}} and
\texttt{\textless{}JNAME\textgreater{}}.

There is a built-in \texttt{HANDLER} for the \texttt{"IPC"} interrupt, with a handler named
\texttt{IPC-HANDLER}\index{\texttt{IPC-HANDLER}|textbf} and \texttt{0} in the \texttt{PROCESS} slot. The handler prints out
on the terminal the \emph{body}, whom it is from, the \emph{type} if not \texttt{0}, and whom it is to if not
\texttt{\textless{}UNAME\textgreater{}} \texttt{\textless{}JNAME\textgreater{}}. If the \emph{type} is \texttt{1} and the
\emph{body} is a \texttt{STRING}, then, after the message information is printed out, the \texttt{STRING} is
\texttt{PARSE}d and \texttt{EVAL}uated.

\subsubsection{23.4.3. IPC-OFF}\label{ipc-off}

\texttt{\textless{}IPC-OFF\textgreater{}}\index{\texttt{IPC-OFF}|textbf} stops all listening on the IPC device.

\subsubsection{23.4.4. IPC-ON}\label{ipc-on}

\begin{verbatim}
<IPC-ON myname1 myname2>
\end{verbatim}

\index{\texttt{IPC-ON}|textbf} causes listening on the IPC device as \emph{myname1} \emph{myname2}. If no arguments are
provided, listening is on \texttt{\textless{}UNAME\textgreater{}} \texttt{\textless{}JNAME\textgreater{}}. When a message
arrives, \texttt{"IPC"} occurs.

MDL is initially listening as \texttt{\textless{}UNAME\textgreater{}} \texttt{\textless{}JNAME\textgreater{}} with the
built-in \texttt{HANDLER} set up on the \texttt{"IPC"} interrupt with a priority of \texttt{1}.

\subsubsection{23.4.5. DEMSIG}\label{demsig}

\begin{verbatim}
<DEMSIG daemon:string>
\end{verbatim}

\index{\texttt{DEMSIG}|textbf} signals to ITS (directly, not via the IPC device) that the daemon named by its argument
should run now. It returns \texttt{T} if the daemon exists, \texttt{\#FALSE\ ()} otherwise.

\section{Chapter 24. Efficiency and Tastefulness}\label{chapter-24.-efficiency-and-tastefulness}

\subsection{24.1. Efficiency}\label{efficiency}

Actually, you make MDL programs efficient by thinking hard about what they really make the interpreter \textbf{do}, and
making them do less. Some guidelines, in order of decreasing expense:

\begin{enumerate}
\def\labelenumi{\arabic{enumi}.}
\tightlist
\item
  Free storage is expensive.
\item
  Calling functions is expensive.
\item
  \texttt{PROG}\index{\texttt{PROG}} and \texttt{REPEAT}\index{\texttt{REPEAT}} are expensive, except when compiled.
\end{enumerate}

Explanation:

\begin{enumerate}
\def\labelenumi{\arabic{enumi}.}
\tightlist
\item
  Unnecessary use of free storage (creating needless \texttt{LIST}s\index{\texttt{LIST}},
  \texttt{VECTOR}s\index{\texttt{VECTOR}}, \texttt{UVECTOR}s\index{\texttt{UVECTOR}}, etc.) will cause the garbage
  collector to run more often. This is \textbf{expensive!} A fairly large MDL (for example, 60,000 36-bit words) can take
  ten seconds of PDP-10 CPU time for a garbage collection. Be especially wary of constructions like \texttt{(0)}. Every
  time that is evaluated, it creates a new one-element \texttt{LIST}; it is too easy to write such things when they aren't
  really necessary. Unless you are doing \texttt{PUT}s or \texttt{PUTREST}s on it, use \texttt{\textquotesingle{}(0)}
  instead.
\item
  Sad, but true. Also generally ignored. If you call a function only once, or if it is short (less than one line), you are
  much better off in speed if you substitute its body in by hand. On the other hand, you may be much worse off in
  modularity. There are techniques for combining several \texttt{FUNCTION}s into one \texttt{RSUBR} (with
  \texttt{RSUBR-ENTRY}s), either during or after compilation, and for changing \texttt{FUNCTION}s into \texttt{MACRO}s.
\item
  \texttt{PROG} is almost never necessary, given (a) \texttt{"AUX"} in \texttt{FUNCTION}s; (b) the fact that
  \texttt{FUNCTION}s can contain any number of \texttt{FORM}s; (c) the fact that \texttt{COND} clauses can contain any
  number of \texttt{FORM}s; and (d) the fact that new variables can be generated and initialized by \texttt{REPEAT}.
  However, \texttt{PROG} may be useful when an error occurs, to establish bindings needed for cleaning things up or
  interacting with a human.
\end{enumerate}

The use of \texttt{PROG} may be sensible when the normal flow of control can be cut short by unusual conditions, so that
the program wants to \texttt{RETURN} before reaching the end of \texttt{PROG}. Of course, nested \texttt{COND}s can
accomplish the same end, but deep nesting may tend to make the program unreadable. For example:

\begin{verbatim}
<PROG (TEMP)
      <OR <SET TEMP <OK-FOR-STEP-1?>>
          <RETURN .TEMP>>
      <STEP-1>
      <OR <SET TEMP <OK-FOR-STEP-2?>>
          <RETURN .TEMP>>
      <STEP-2>>
\end{verbatim}

could instead be written

\begin{verbatim}
<COND (<OK-FOR-STEP-1?>
       <STEP-1>
       <COND (<OK-FOR-STEP-2?>
              <STEP-2>)>)>
\end{verbatim}

By the way, \texttt{REPEAT} is faster than \texttt{GO}\index{\texttt{GO}} in a \texttt{PROG}. The
\texttt{\textless{}GO\ x\textgreater{}} \texttt{FORM} has to be separately interpreted, right? In fact, if you organize
things properly you \textbf{very} seldom need a \texttt{GO}; using \texttt{GO} is generally considered ``bad style'', but
in some cases it's needed. Very few.

In many cases, a \texttt{REPEAT} can be replaced with a \texttt{MAPF} or \texttt{MAPR}, or an
\texttt{ILIST}\index{\texttt{ILIST}}, \texttt{IVECTOR}, etc. of the form

\begin{verbatim}
<ILIST .N '<SET X <+ .X 1>>
\end{verbatim}

which generates an \texttt{N}-element \texttt{LIST} of successive numbers starting at \texttt{X+1}.

Whether a program is interpreted or compiled, the first two considerations mentioned above hold: garbage collection and
function calling remain expensive. Garbage collection is, clearly, exactly the same. Function calling is relatively more
expensive. However, the compiler careth not whether you use \texttt{REPEAT}, \texttt{GO}, \texttt{PROG}, \texttt{ILIST},
\texttt{MAPF}, or whatnot: it all gets compiled into practically the same thing. However, the \texttt{REPEAT} or
\texttt{PROG} will be slower if it has an \texttt{ACTIVATION} \index{\texttt{ACTIVATION}} that is \texttt{SPECIAL} or used
other than by \texttt{RETURN} or \texttt{AGAIN}.

\subsubsection{24.1.1. Example}\label{example-2}

There follows an example of a \texttt{FUNCTION} that does many things wrong. It is accompanied by commentary, and two
better versions of the same thing. (This function actually occurred in practice. Needless to say, names are withheld to
protect the guilty.)

Blunt comment: this is terrible. Its purpose is to output the characters needed by a graphics terminal to draw lines
connecting a set of points. The points are specified by two input lists: \texttt{X} values and \texttt{Y} values. The
output channel is the third argument. The actual characters for each line are returned in a \texttt{LIST} by the function
\texttt{TRANS}.

\begin{verbatim}
<DEFINE PLOTVDSK (X Y CHN "AUX" L LIST)
   <COND (<NOT <==? <SET L <LENGTH .X>><LENGTH .Y> >>
          <ERROR "LENGTHS NOT EQUAL">)>
   <SET LIST (29)>
   <REPEAT ((N 1))
       <SET LIST (!.LIST !<TRANS <.N .X> <.N .Y>>)>
       <COND (<G? <SET N <+ .N 1>> .L><RETURN .N>)> >
   <REPEAT ((N 1) (L1 <LENGTH .LIST>))
       <PRINC <ASCII <.N .LIST>> .CHN>
       <COND (<G? <SET N <+ .N 1>> .L1>
              <RETURN "DONE">)> >>
\end{verbatim}

\index{\texttt{"!<}|textbf} \index{\texttt{"!.}|textbf}

Comments:

\begin{enumerate}
\def\labelenumi{\arabic{enumi}.}
\tightlist
\item
  \texttt{LIST} is only temporarily necessary. It is just created and then thrown away.
\item
  Worse, the construct \texttt{(!.LIST\ !\textless{}TRANS\ ...\textgreater{})} \textbf{copies} the previous elements of
  \texttt{LIST} every time it is executed!
\item
  Indexing down the elements of \texttt{LIST} as in \texttt{\textless{}.N\ .LIST\textgreater{}} takes a long time, if the
  \texttt{LIST} is long. \texttt{\textless{}3\ ...\textgreater{}} or \texttt{\textless{}4\ ...\textgreater{}} is not worth
  worrying about, but \texttt{\textless{}10\ ...\textgreater{}} is, and \texttt{\textless{}100\ ...\textgreater{}} takes
  quite a while. Even if the indexing were not phased out, the compiler would be happier with
  \texttt{\textless{}NTH\ .LIST\ .N\textgreater{}}.
\item
  The variable \texttt{CHN} is unnecessary if \texttt{OUTCHAN} is bound to the argument \texttt{CHANNEL}.
\item
  It is tasteful to call \texttt{ERROR}\index{\texttt{ERROR}} in the same way that F/SUBRs do. This includes using an
  \texttt{ATOM} from the \texttt{ERRORS}\index{\texttt{ERRORS}} \texttt{OBLIST} (if one is appropriate) to tell what is
  wrong, and it includes identifying yourself.
\end{enumerate}

So, do it this way:

\begin{verbatim}
<DEFINE PLOTVDSK (X Y OUTCHAN)
#DECL ((OUTCHAN <SPECIAL CHANNEL>)
<COND (<NOT <==? <LENGTH .X> <LENGTH .Y>>>
        <ERROR VECTOR-LENGTHS-DIFFER!-ERRORS PLOTVDSK>)>
<PRINC <ASCII 29>>
<REPEAT ()
        <COND (<EMPTY? .X> <RETURN "DONE">)>
        <REPEAT ((OL <TRANS <1 .X> <1 .Y>>))
                <PRINC <ASCII <1 .OL>>>
                <COND (<EMPTY? <SET OL <REST .OL>>>
                       <RETURN>)>>
        <SET X <REST .X>>
        <SET Y <REST .Y>>>>
\end{verbatim}

Of course, if you know how long is the \texttt{LIST} that \texttt{TRANS} returns, you can avoid using the inner
\texttt{REPEAT} loop and have explicit \texttt{PRINC}s for each element. This can be done even better by using
\texttt{MAPF}, as in the next version, which does exactly the same thing as the previous one, but uses \texttt{MAPF} to do
the \texttt{REST}ing and the end conditional:

\begin{verbatim}
<DEFINE PLOTVDSK (X Y OUTCHAN)
#DECL ((OUTCHAN <SPECIAL CHANNEL>)
<COND (<NOT <==? <LENGTH .X> <LENGTH .Y>>>
        <ERROR VECTOR-LENGTHS-DIFFER!-ERRORS PLOTVDSK>)>
<PRINC <ASCII 29>> <MAPF <>
      #FUNCTION ((XE YE)
                <MAPF <> #FUNCTION ((T) <PRINC <ASCII .T>>) <TRANS
.XE .YE>>)
      .X
      .Y>
"DONE">
\end{verbatim}

\subsection{24.2. Creating a LIST in Forward Order}\label{creating-a-list-in-forward-order}

If you must create the elements of a \texttt{LIST} in sequence from first to last, you can avoid copying earlier ones when
adding a later one to the end. One way is to use \texttt{MAPF} or \texttt{MAPR} with a first argument of \texttt{,LIST}:
the elements are put on the control stack rather than in free storage, until the final call to \texttt{LIST}. If you know
how many elements there will be, you can put them on the control stack yourself, in a \texttt{TUPLE} built for that
purpose. Another way is used when \texttt{REPEAT} is necessary:

\begin{verbatim}
<REPEAT ((FIRST (T)) (LAST .FIRST) ...)
        #DECL ((VALUE FIRST LAST) LIST ...)
        ...
        <SET LAST <REST <PUTREST .LAST (.NEW)>>>
        ...
        <RETURN <REST .FIRST>>>
        ...>
\end{verbatim}

Here, \texttt{.LAST} always points to the current last element of the \texttt{LIST}. Because of the order of evaluation,
the \texttt{\textless{}SET\ LAST\ ...\textgreater{}} could also be written
\texttt{\textless{}PUTREST\ .LAST\ (SET\ LAST\ (.NEW)\textgreater{}\textgreater{}}.

\subsection{24.3. Read-only Free Variables}\label{read-only-free-variables}

If a Function uses the value of a free variable (\texttt{\textless{}GVAL\ unmanifest:atom\textgreater{}} or
\texttt{\textless{}LVAL\ special:atom\textgreater{}}) without changing it, the compiled version may be more efficient if
the value is assigned to a dummy \texttt{UNSPECIAL} \texttt{ATOM} in the Function's \texttt{"AUX"} list. This is true
because an \texttt{UNSPECIAL} \texttt{ATOM} gets compiled into a slot on the control stack, which is accessible very
quickly. The tradeoff is probably worthwhile if a \emph{special} is referenced more than once, or if an \emph{unmanifest}
is referenced more than twice. Example:

\begin{verbatim}
<DEFINE MAP-LOOKUP (THINGS "AUX" (DB ,DATA-BASE))
        #DECL ((VALUE) VECTOR (THINGS DB) <UNSPECIAL <PRIMTYPE LIST>>)
        <MAPF ,VECTOR <FUNCTION (T) <MEMQ .T .DB>> .THINGS>>
\end{verbatim}

\subsection{24.4. Global and Local Values}\label{global-and-local-values}

In the interpreter the sequence \texttt{,X\ .X\ ,X\ .X} is slower than \texttt{,X\ ,X\ .X\ .X} because of interference
between the \texttt{GVAL}\index{\texttt{GVAL}} and \texttt{LVAL}\index{\texttt{LVAL}} mechanisms (appendix 1). Thus it is
not good to use both the \texttt{GVAL} and \texttt{LVAL} of the same \texttt{ATOM} frequently, unless references to the
\texttt{LVAL} will be compiled away (made into control stack references).

\subsection{24.5. Making Offsets for Arrays}\label{making-offsets-for-arrays}

It is often the case that you want to attach some meaning to each element of an array and access it independently of other
elements. Firstly, it is a good idea to use names (\texttt{ATOM}s) rather than integers (\texttt{FIX}es or even
\texttt{OFFSET}s) for offsets into the array, to make future changes easier. Secondly, it is a good idea to use the
\texttt{GVAL}s of the name \texttt{ATOM}s to remember the actual \texttt{FIX}es, so that the \texttt{ATOM}s can be
\texttt{MANIFEST} for the compiler's benefit. Thirdly, to establish the \texttt{GVAL}s, both the interpreter and the
compiler will be happier with \texttt{\textless{}SETG\ name\ offset\textgreater{}} rather than
\texttt{\textless{}DEFINE\ name\ ("TUPLE"\ T)\ \textless{}offset\ !.T\textgreater{}\textgreater{}}.

\subsection{24.6. Tables}\label{tables}

There are several ways in MDL to store a table, that is, a collection of (names and) values that will be searched.
Unsurprisingly, choosing the best way is often dictated by the size of the table and/or the nature of the (names and)
values.

For a small table, the names and values can be put in (separate) structures -- the choice of \texttt{LIST} or array being
determined by volatility and limitability -- which are searched using \texttt{MEMQ} or \texttt{MEMBER}. This method is very
space-efficient. If the table gets larger, and if the elements are completely orderable, a (uniform) vector can be used,
kept sorted, and searched with a binary search.

For a large table, where reasonably efficient searches are required, a hashing scheme is probably best. Two methods are
available in MDL: associations and \texttt{OBLIST}s.

In the first method, \texttt{PUTPROP} and \texttt{GETPROP} are used, which are very fast. The number of hashing buckets is
fixed. Duplicates are eliminated by \texttt{==?} testing. If it is necessary to use \texttt{=?} testing, or to find all the
entries in the table, you can duplicate the table in a \texttt{LIST} or array, to be used only for those purposes.

In the second method, \texttt{INSERT} and \texttt{LOOKUP} on a specially-built \texttt{OBLIST} are used. (If the names are
not \texttt{STRING}s, they can be converted to \texttt{STRING}s using \texttt{UNPARSE}, which takes a little time.) The
number of hashing buckets can be chosen for best efficiency. Duplicates are eliminated by \texttt{=?} testing. MAPF/R can
be used to find all the entries in the table.

\subsection{24.7. Nesting}\label{nesting}

The beauty of deeply-nested control structures in a single \texttt{FUNCTION} is definitely in the eye of the beholder.
(\texttt{PPRINT}, a preloaded \texttt{RSUBR}, finds them trying. However, the compiler often produces better code from
them.) \textbf{If} you don't like excessive nesting, then you will agree that

\begin{verbatim}
<SET X ...>
<COND (<0? .X> ...) ...>
\end{verbatim}

looks better than

\begin{verbatim}
<COND (<0? <SET X ...>> ...) ...>
\end{verbatim}

and that

\begin{verbatim}
<REPEAT ...
        <COND ...
              (... <RETURN ...>)>
        ...
        ...>
\end{verbatim}

looks better than

\begin{verbatim}
<REPEAT ...
        <COND ...
              (... <RETURN ...>)
              (ELSE ...)>
        ...>
\end{verbatim}

You can see the nature of the choices. Nesting is still and all better than \texttt{GO}.

\section{Appendix 1. A Look Inside}\label{appendix-1.-a-look-inside}

This appendix tells about the mapping between MDL objects and PDP-10 storage -- in other words, the way things look ``on
the inside''. None of this information is essential to knowing how to program in MDL, but it does give some reasons for
capabilities and restrictions that otherwise you have to memorize. The notation and terminology get a little awkward in
this discussion, because we are in a twilight zone between the worlds of MDL objects and of bit patterns. In general the
words and phrases appearing in diagrams refer to bit patterns not MDL objects. A lower-case word (like ``tuple'') refers to
the storage occupied by an object of the corresponding \texttt{PRIMTYPE} (like \texttt{TUPLE}\index{\texttt{TUPLE}}).

First some terminology needs discussion. The sine qua non of any MDL object is a \textbf{pair} of 36-bit computer words. In
general, lists consist of pairs chained together by pointers (addresses), and vectors consist of contiguous blocks of
pairs. \texttt{==?} \index{\texttt{==?}} essentially tests two pairs to see whether they contain the same bit patterns.

The first (lower-addressed) word of a pair is called the \textbf{\texttt{TYPE} word}, because it contains a numeric
\textbf{\texttt{TYPE} code} that represents the object's \texttt{TYPE}\index{\texttt{TYPE}}. The second (higher-addressed)
word of a pair is called the \textbf{value word}, because it contains (part of or the beginning of) the ``data part'' of
the object. The \texttt{TYPE}\index{\texttt{TYPE}} word (and sometimes the value word) is considered to be made of a left
half and a right half. We will picture a pair like this:

\begin{verbatim}
---------------------------------
|      TYPE     |               |
| - - - - - - - - - - - - - - - |
|             value             |
---------------------------------
\end{verbatim}

where a vertical bar in the middle of a word means the word's halves are used independently. You can see that the
\texttt{TYPE} code is confined to the left half of the \texttt{TYPE} word. (Half-)words are sometimes subdivided into
\textbf{fields} appropriate for the context; fields are also pictured as separated by vertical bars. The right half of the
\texttt{TYPE} word is used for different purposes depending on the \texttt{TYPE} of the object and actual location of the
value.

Actually the 18-bit \texttt{TYPE} field is further decoded. The high-order (leftmost) bit is the mark bit, used exclusively
by the garbage collector when it runs. The next two bits are monitor bits, used to cause \texttt{"READ"}
\index{\texttt{""READ""}} and \texttt{"WRITE"} \index{\texttt{""WRITE""}|textbf} interrupts on read and write references to
the pair. The next bit is used to differentiate between list elements and vector dope words. The next bit is unused but
could be used in the future for an ``execute'' monitor. The remaining 13 bits specify the actual \texttt{TYPE} code. What
\texttt{CHTYPE}\index{\texttt{CHTYPE}} does is to copy the pair and put a new \texttt{TYPE} code into the new pair.

Each data \texttt{TYPE} (predefined and \texttt{NEWTYPE}s) must belong to one of about 25 ``storage allocation classes''
(roughly corresponding to MDL \texttt{PRIMTYPE}s). These classes are characterized primarily by the manner in which the
garbage collector treats them. Some of these classes will now be described.

\paragraph{\texorpdfstring{``One Word''}{One Word}}\label{one-word}

This class includes all data that are not pointers to some kind of structure. All external (program-available)
\texttt{TYPE}s in this class are of \texttt{PRIMTYPE} \texttt{WORD}. Example:

\begin{verbatim}



---------------------------------
|       FIX     |       0       |
| - - - - - - - - - - - - - - - |
|              105              |
---------------------------------
\end{verbatim}

\paragraph{\texorpdfstring{``Two Word''}{Two Word}}\label{two-word}

The members of this class are all 18-bit pointers to list elements. All external \texttt{TYPE}s in this class are of
\texttt{PRIMTYPE} \texttt{LIST}\index{\texttt{LIST}}. Example:

\begin{verbatim}
---------------------------------
|      LIST     |       0       |
| - - - - - - - - - - - - - - - |
|       0       |    pointer    |
---------------------------------
\end{verbatim}

where \texttt{pointer} is a pointer to the first list element. If there are no elements, \texttt{pointer} is zero; thus
empty objects of \texttt{PRIMTYPE} \texttt{LIST} are \texttt{==?} \index{\texttt{==?}} if their \texttt{TYPE}s are the
same.

\paragraph{\texorpdfstring{``Two N Word''}{Two N Word}}\label{two-n-word}

Members of this class are all ``counting pointers'' to blocks of two-word pairs. The right half of a counting pointer is an
address, and the left half is the negative of the number of 36-bit words in the block. (This format is tailored to the
PDP-10 \texttt{AOBJN} instruction.) The number of pairs in the block (\texttt{LENGTH}) is half that number, since each pair
is two words. All external \texttt{TYPE}s in this class are of \texttt{PRIMTYPE} \texttt{VECTOR}\index{\texttt{VECTOR}}.
Example:

\begin{verbatim}
---------------------------------
|     VECTOR    |       0       |
| - - - - - - - - - - - - - - - |
|   -2*length   |    pointer    |
---------------------------------
\end{verbatim}

where \texttt{length} is the \texttt{LENGTH} of the \texttt{VECTOR} and \texttt{pointer} is the location of the start (the
element selected by an \texttt{NTH} argument of 1) of the \texttt{VECTOR}.

\paragraph{\texorpdfstring{``N word''}{N word}}\label{n-word}

This class is the same as the previous one, except that the block contains objects all of the same \texttt{TYPE} without
individual \texttt{TYPE} words. The \texttt{TYPE} code for all the elements is in vector dope words, which are at addresses
just larger than the block itself. Thus, any object that carries information in its \texttt{TYPE} word cannot go into the
block: \texttt{PRIMTYPE}s \texttt{STRING}\index{\texttt{STRING}}, \texttt{BYTES}\index{\texttt{BYTES}}, \texttt{TUPLE} (and
the corresponding locatives \texttt{LOCS}, \texttt{LOCB}, \texttt{LOCA}), \texttt{FRAME}\index{\texttt{FRAME}}, and
\texttt{LOCD}\index{\texttt{LOCD}}. All external \texttt{TYPE}s in this class are of \texttt{PRIMTYPE}
\texttt{UVECTOR}\index{\texttt{UVECTOR}}. Example:

\begin{verbatim}
---------------------------------
|    UVECTOR    |       0       |
| - - - - - - - - - - - - - - - |
|    -length    |    pointer    |
---------------------------------
\end{verbatim}

where \texttt{length} is the \texttt{LENGTH} of the \texttt{UVECTOR} and \texttt{pointer} points to the beginning of the
\texttt{UVECTOR}.

\paragraph{\texorpdfstring{``Byte String'' and ``Character
String''}{Byte String and Character String}}\label{byte-string-and-character-string}

These two classes are almost identical. Byte strings are byte pointers to strings of arbitrary-size bytes.
\texttt{PRIMTYPE} \texttt{BYTES} is the only member of this class. Character strings are byte pointers to strings of ASCII
characters. \texttt{PRIMTYPE} \texttt{STRING} is the only member of this class. Both of these classes consist of a length
and a PDP-10 byte pointer. In the case of character strings, the byte-size field in the byte pointer is always seven bits
per byte (hence five bytes per word). Example:

\begin{verbatim}
---------------------------------
|     STRING    |    length     |
| - - - - - - - - - - - - - - - |
|         byte-pointer          |
---------------------------------
\end{verbatim}

where \texttt{length} is the \texttt{LENGTH} of the \texttt{STRING} (in bytes) and \texttt{byte-pointer} points to a byte
just before the beginning of the string (an \texttt{ILDB} instruction is needed to get the first byte). A newly-created
\texttt{STRING} always has \texttt{*010700*} in the left half of \texttt{byte-pointer}. Unless the string was created by
\texttt{SPNAME}, \texttt{byte-pointer} points to a uvector, where the elements (characters) of the \texttt{STRING} are
stored, packed together five to a word.

\paragraph{\texorpdfstring{``Frame''}{Frame}}\label{frame}

This class gives the user program a handle on its control and variable-reference structures. All external \texttt{TYPE}s in
this class are of \texttt{PRIMTYPE} \texttt{FRAME}. Three numbers are needed to designate a frame: a unique 18-bit
identifying number, a pointer to the frame's storage on a control stack, and a pointer to the
\texttt{PROCESS}\index{\texttt{PROCESS}} associated with the frame. Example:

\begin{verbatim}
---------------------------------
|     FRAME     |PROCESS-pointer|
| - - - - - - - - - - - - - - - |
|   unique-id   | frame-pointer |
---------------------------------
\end{verbatim}

where \texttt{PROCESS-pointer} points to the dope words of a \texttt{PROCESS} vector, and \texttt{unique-id} is used for
validating (testing \texttt{LEGAL?}\index{\texttt{LEGAL?}}) the \texttt{frame-pointer}, which points to a frame for some
Subroutine call on the control stack.

\paragraph{\texorpdfstring{``Tuple''}{Tuple}}\label{tuple}

A tuple pointer is a counting pointer to a vector on the control stack. It may be a pointer to the arguments to a
Subroutine or a pointer generated by the \texttt{"TUPLE"} declaration in a \texttt{FUNCTION}. Like objects in the previous
class, these objects contain a unique identifying number used for validation. \texttt{PRIMTYPE} \texttt{TUPLE} is the only
member of this class. Example:

\begin{verbatim}
---------------------------------
|     TUPLE     |   unique-id   |
| - - - - - - - - - - - - - - - |
|   -2*length   |    pointer    |
---------------------------------
\end{verbatim}

\paragraph{Other Storage Classes}\label{other-storage-classes}

The rest of the storage classes include strictly internal \texttt{TYPE}s and pointers to special kinds of lists and vectors
like locatives, \texttt{ATOM}s and \texttt{ASOC}s\index{\texttt{ASOC}}. A pair for any
\texttt{LOCATIVE}\index{\texttt{LOCATIVE}} except a \texttt{LOCD} looks like a pair for the corresponding structure, except
of course that the \texttt{TYPE} is different. A \texttt{LOCD} pair looks like a tuple pair and needs a word and a half for
its value; the \texttt{unique-id} refers to a binding on the control stack or to the ``global stack'' if zero. Thus
\texttt{LOCD}s are in a sense ``stack objects'' and are more restricted than other locatives.

An \texttt{OFFSET}\index{\texttt{OFFSET}} is stored with the \texttt{INDEX} in the right half of the value word and the
Pattern in the left half. Since the Pattern can be either an \texttt{ATOM}\index{\texttt{ATOM}} or a \texttt{FORM}, the
left half actually points to a pair, which points to the actual Pattern. The Pattern \texttt{ANY} is recognized as a
special case: the left-half pointer is zero, and no pair is used. Thus, if you're making the production version of your
program and want to save some storage, can do something like
\texttt{\textless{}SETG\ FOO\ \textless{}PUT-DECL\ ,FOO\ ANY\textgreater{}\textgreater{}} for all \texttt{OFFSET}s.

\subsection{Basic Data Structures}\label{basic-data-structures}

\paragraph{Lists}\label{lists}

List elements are pairs linked together by the right halves of their first words. The list is terminated by a zero in the
right half of the last pair. For example the \index{\texttt{LIST}} \texttt{LIST} \texttt{(1\ 2\ 3)} would look like this:

\begin{verbatim}
-------------
| LIST | 0  |
| - - - - - |   -----------     -----------     -----------
|  0   | ------>| FIX | ------->| FIX | ------->| FIX | 0 |
-------------   | - - - - |     | - - - - |     | - - - - |
                |    1    |     |    2    |     |    3    |
                -----------     -----------     -----------
\end{verbatim}

The use of pointers to tie together elements explains why new elements can be added easily to a list, how sharing and
circularity work, etc. The links go in only one direction through the list, which is why a list cannot be
\texttt{BACK}ed\index{\texttt{BACK}} or \texttt{TOP}ped\index{\texttt{TOP}}: there's no way to find the
\texttt{REST}ed\index{\texttt{REST}} elements.

Since some MDL values require a word and a half for the value in the pair, they do not fit directly into list elements.
This problem is solved by having ``deferred pointers''. Instead of putting the datum directly into the list element, a
pointer to another pair is used as the value with the special internal \texttt{TYPE} \texttt{DEFER}, and the real datum is
put in the deferred pair. For example the \texttt{LIST} \texttt{(1\ "hello"\ 3)} would look like this:

\begin{verbatim}
-------------
| LIST | 0  |
| - - - - - |   -----------     -----------     -----------
|  0   | ------>| FIX | ------->|DEFER| ------->| FIX | 0 |
-------------   | - - - - |     | - - - - |     | - - - - |
                |    1    |     |       -----   |    3    |
                -----------     ----------- |   -----------
                                            |
                                ----------- |
                                |STRING| 5|<-
                                | - - - - |
                                |byte-pntr|
                                -----------
\end{verbatim}

\paragraph{Vectors}\label{vectors}

A vector is a block of contiguous words. More than one pair can point to the block, possibly at different places in the
block; this is how sharing occurs among vectors. Pointers that are different arise from \texttt{REST} or
\texttt{GROW}/\texttt{BACK} operations. The block is followed by two ``dope words'', at addresses just larger than the
largest address in the block. Dope words have the following format:

\begin{verbatim}
/                               /
|                               |
|                               |
---------------------------------
|      type     |      grow     |
| - - - - - - - - - - - - - - - |
|     length    |       gc      |
---------------------------------
\end{verbatim}

The various fields have the following meanings:

\texttt{type} -- The fourth bit from the left (the ``vector bit'', \texttt{40000} octal) is always one, to distinguish
these vector dope words from a \texttt{TYPE}/value pair.

If the high-order bit is zero, then the vector is a \texttt{UVECTOR}\index{\texttt{UVECTOR}}, and the remaining bits
specify the uniform \texttt{TYPE} of the elements. \texttt{CHUTYPE}\index{\texttt{CHUTYPE}} just puts a new \texttt{TYPE}
code in this field. Each element is limited to a one-word value: clearly \texttt{PRIMTYPE} \texttt{STRING}s and
\texttt{BYTES}es and stack objects can't go in uniform vectors.

If the high-order bit is one and the \texttt{TYPE} bits are zero, then this is a regular
\texttt{VECTOR}\index{\texttt{VECTOR}}.

If the high-order bit is one and the \texttt{TYPE} bits are not all zero, then this is either an \texttt{ATOM}, a
\texttt{PROCESS}, an \texttt{ASOC}, or a \texttt{TEMPLATE}\index{\texttt{TEMPLATE}}. The special internal format of these
objects will be described a little later in this appendix.

\texttt{length} -- The high-order bit is the mark bit, used by the garbage collector. The rest of this field specifies the
number of words in the block, including the dope words. This differs from the length given in pairs pointing to this
vector, since such pairs may be the result of \texttt{REST} operations.

\texttt{grow} -- This is actually two nine-bit fields, specifying either growth or shrinkage at both the high and low ends
of the vector. The fields are usually set only when a stack must be grown or shrunk.

\texttt{gc} -- This is used by the garbage collector to specify where this vector is moving during compaction.

Examples (numbers in octal): the \texttt{VECTOR} \texttt{{[}1\ "bye"\ 3{]}} looks like:

\begin{verbatim}
---------------
| VECTOR |  0 |
| - - - - - - |         -----------------
|   -6   |  ----------->|  FIX  |       |
---------------         | - - - - - - - |
                        |       1       |
                        -----------------
                        | STRING |  3   |
                        | - - - - - - - |
                        |  byte pointer |
                        -----------------
                        |  FIX  |       |
                        | - - - - - - - |
                        |       3       |
                        -----------------
                        | 440000 |  0   |
                        | - - - - - - - |
                        |   10   |      |
                        -----------------
\end{verbatim}

The \texttt{UVECTOR}\index{\texttt{UVECTOR}} \texttt{!{[}-1\ 7\ -4!{]}} looks like:

\begin{verbatim}
---------------
| UVECTOR | 0 |
| - - - - - - |         -----------------
|   -3    | ----------->|       -1      |
---------------         -----------------
                        |        7      |
                        -----------------
                        |       -4      |
                        -----------------
                        | 40000+FIX | 0 |
                        | - - - - - - - |
                        |   5       |   |
                        -----------------
\end{verbatim}

\paragraph{Atoms}\label{atoms}

Internally, atoms are special vector-like objects. An atom contains a value cell (the first two words of the block, filled
in whenever the global or local value of the \texttt{ATOM} is referenced and is not already there), an \texttt{OBLIST}
pointer, and a print name (\texttt{PNAME}\index{\texttt{PNAME}}), in the following format:

\begin{verbatim}
---------------------------------
|      type     |     bindid    |
---------------------------------
|       pointer-to-value        |
---------------------------------
|       pointer-to-OBLIST       |
---------------------------------
|           print-name          |
/                               /
/                               /
|(ASCII with NUL padding on end)|
---------------------------------
|      ATOM     |   valid-type  |
| - - - - - - - - - - - - - - - |
|     length    |       gc      |
---------------------------------
\end{verbatim}

If the type field corresponds to \texttt{TYPE} \texttt{UNBOUND}\index{\texttt{UNBOUND}}, then the \texttt{ATOM} is locally
and globally unbound. (This is different from a pair, where the same \texttt{TYPE} \texttt{UNBOUND} is used to mean
unassigned.) If it corresponds to \texttt{TYPE} \texttt{LOCI} (an internal \texttt{TYPE}), then the value cell points
either to the global stack, if \texttt{bindid} is zero, or to a local control stack, if \texttt{bindid} is non-zero. The
\texttt{bindid} field is used to verify whether the local value pointed to by the value cell is valid in the current
environment. The \texttt{pointer-to-OBLIST} is either a counting pointer to an oblist (uvector), a positive offset into the
``transfer vector'' (for pure \texttt{ATOM}s), or zero, meaning that this \texttt{ATOM} is not on an \texttt{OBLIST}. The
\texttt{valid-type} field tells whether or not the \texttt{ATOM} represents a \texttt{TYPE} and if so the code for that
\texttt{TYPE}; \texttt{grow} values are never needed for atoms.

\paragraph{Associations}\label{associations}

Associations are also special vector-like objects. The first six words of the block contain \texttt{TYPE}/value pairs for
the \texttt{ITEM}, \texttt{INDICATOR} and \texttt{AVALUE} of the \texttt{ASOC}. The next word contains forward and backward
pointers in the chain for that bucket of the association hash table. The last word contains forward and backward pointers
in the chain of all the associations.

\begin{verbatim}

---------------------------------
|             ITEM              |
| - - - - - - - - - - - - - - - |
|             pair              |
---------------------------------
|          INDICATOR            |
| - - - - - - - - - - - - - - - |
|             pair              |
---------------------------------
|            AVALUE             |
| - - - - - - - - - - - - - - - |
|             pair              |
---------------------------------
|     bucket-chain-pointers     |
---------------------------------
|  association-chain-pointers   |
---------------------------------
|      ASOC     |       0       |
| - - - - - - - - - - - - - - - |
|    12 octal   |       gc      |
---------------------------------
\end{verbatim}

\paragraph{\texorpdfstring{\texttt{PROCESS}es}{PROCESSes}}\label{processes}

A \texttt{PROCESS} vector looks exactly like a vector of \texttt{TYPE}/value pairs. It is different only in that the
garbage collector treats it differently from a normal vector, and it contains extremely volatile information when the
\texttt{PROCESS} is \texttt{RUNNING}.

\paragraph{Templates}\label{templates}

In a template, the number in the type field (left half or first dope word) identifies to which ``storage allocation class''
this \texttt{TEMPLATE} belongs, and it is used to find PDP-10 instructions in internal tables (frozen uvectors) for
performing \texttt{LENGTH}, \texttt{NTH}, and \texttt{PUT} operations on any object of this \texttt{TYPE}. The programs to
build these tables are not part of the interpreter, but the interpreter does know how to use them properly. The compiler
can put these instructions directly in compiled programs if a \texttt{TEMPLATE} is never \texttt{REST}ed; otherwise it must
let the interpreter discover the appropriate instruction. The value word of a template pair contains, not a counting
pointer, but the number of elements that have been \texttt{REST}ed off in the left half and a pointer to the first dope
word in the right half.

\subsection{The Control Stack}\label{the-control-stack}

Accumulators with symbolic names \texttt{AB}, \texttt{TB}, and \texttt{TP} are all pointers into the \texttt{RUNNING}
\texttt{PROCESS}'s control stack. \texttt{AB} (``argument base'') is a pointer to the arguments to the Subroutine now being
run. It is set up by the Subroutine-call mediator, and its old value is always restored after a mediated Subroutine call
returns. \texttt{TB} (``temporaries base'') points to the frame for the running Subroutine and also serves as a stack base
pointer. The \texttt{TB} pointer is really all that is necessary to return from a Subroutine -- given a value to return,
for example by \texttt{ERRET}\index{\texttt{ERRET}} -- since the frame specifies the entire state of the calling routine.
\texttt{TP} (``temporaries pointer'') is the actual stack pointer and always points to the current top of the control
stack.

While we're on the subject of accumulators, we might as well be complete. Each accumulator contains the value word of a
pair, the corresponding \texttt{TYPE} words residing in the \texttt{RUNNING} \texttt{PROCESS} vector. When a
\texttt{PROCESS} is not \texttt{RUNNING} (or when the garbage collector is running), the accumulator contents are stored in
the vector, so that the Objects they point to look like elements of the \texttt{PROCESS} and thus are not
garbage-collectible.

Accumulators \texttt{A}, \texttt{B}, \texttt{C}, \texttt{D}, \texttt{E} and \texttt{O} are used almost entirely as scratch
accumulators, and they are not saved or restored across Subroutine calls. Of course the interrupt machinery always saves
these and all other accumulators. \texttt{A} and \texttt{B} are used to return a pair as the value of a Subroutine call.
Other than that special feature, they are just like the other scratch accumulators.

\texttt{M} and \texttt{R} are used in running \texttt{RSUBR}s. \texttt{M} is always set up to point to the start of the
\texttt{RSUBR}'s code, which is actually just a uniform vector of instructions. All jumps and other references to the code
use \texttt{M} as an index register. This makes the code location-insensitive, which is necessary because the code uvector
will move around. \texttt{R} is set up to point to the vector of objects needed by the \texttt{RSUBR}. This accumulator is
necessary because objects in garbage-collected space can move around, but the pointers to them in the reference vector are
always at the same place relative to its beginning.

\texttt{FRM} is the internal frame pointer, used in compiled code to keep track of pending Subroutine calls when the
control stack is heavily used. \texttt{P} is the internal-stack pointer, used primarily for internal calls in the
interpreter.

One of the nicest features of the MDL environment is the uniformity of the calling and returning sequence. All Subroutines
-- both built-in F/SUBRs and compiled \texttt{RSUBR(-ENTRY)}s -- are called in exactly the same way and return the same
way. Arguments are always passed on the control stack and results always end up in the same accumulators. For efficiency
reasons, a lot of internal calls within the interpreter circumvent the calling sequence. However, all calls made by the
interpreter when running user programs go through the standard calling sequence.

A Subroutine call is initiated by one of three UUOs (PDP-10 instructions executed by software rather than hardware).
\texttt{MCALL} (``MDL call'') is used when the number of arguments is known at assemble or compile time, and this number is
less than 16. \texttt{QCALL} (``quick call'') may be used if, in addition, an \texttt{RSUBR(-ENTRY)} is being called that
can be called ``quickly'' by virtue of its having special information in its reference vector. \texttt{ACALL}
(``accumulator call'') is used otherwise. The general method of calling a Subroutine is to \texttt{PUSH} (a PDP-10
instruction) pairs representing the arguments onto the control stack via \texttt{TP} and then either (1) \texttt{MCALL} or
\texttt{QCALL} or (2) put the number of arguments into an accumulator and \texttt{ACALL}. Upon return the object returned
by the Subroutine will be in accumulators \texttt{A} and \texttt{B}, and the arguments will have been \texttt{POP}ped off
the control stack.

The call mediator stores the contents of \texttt{P} and \texttt{TP} and the address of the calling instruction in the
current frame (pointed to by \texttt{TB}). It also stores MDL's ``binding pointer'' to the topmost binding in the control
stack. (The bindings are linked together through the control stack so that searching through them is more efficient than
looking at every object on the stack.) This frame now specifies the entire state of the caller when the call occurred. The
mediator then builds a new frame on the control stack and stores a pointer back to the caller's frame (the current contents
of \texttt{TB}), a pointer to the Subroutine being called, and the new contents of \texttt{AB}, which is a counting pointer
to the arguments and is computed from the information in the \texttt{MCALL} or \texttt{QCALL} instruction or the
\texttt{ACALL} accumulator. \texttt{TB} is then set up to point to the new frame, and its left half is incremented by one,
making a new \texttt{unique-id}. The mediator then transfers control to the Subroutine.

A control stack frame has seven words as shown:

\begin{verbatim}
---------------------------------
|     ENTRY     |  called-addr  |
---------------------------------
|   unique-id   |  prev frame   |
---------------------------------
|       argument pointer        |
---------------------------------
|    saved binding pointer      |
---------------------------------
|           saved P             |
---------------------------------
|           saved TP            |
---------------------------------
|    saved calling address      |
---------------------------------
\end{verbatim}

The first three words are set up during the call to the Subroutine. The rest are filled in when this routine calls another
Subroutine. The left half of \texttt{TB} is incremented every time a Subroutine call occurs and is used as the
\texttt{unique-id} for the frame, stored in frame and tuple pairs as mentioned before. Obviously this \texttt{id} is not
strictly unique, since each 256K calls it wraps around to zero. The right half of \texttt{TB} is always left pointing one
word past the saved-calling-address word in the frame. \texttt{TP} is also left pointing at that word, since that is the
top of the control stack at Subroutine entry. The arguments to the called Subroutine are below the frame on the control
stack (at lower storage addresses), and the temporaries for the called Subroutine are above the frame (at higher storage
addresses). These arguments and temporaries are just pairs stored on the control stack while needed: they are all that
remain of \texttt{UNSPECIAL}\index{\texttt{UNSPECIAL}} values in compiled programs.

The following figure shows what the control stack might look like after several Subroutine calls.

\begin{verbatim}
/               /
|               |
-----------------
|               |
|  args for S1  |
|               |
-----------------
| frame for S1  |
----------------- <--
|               |   |
| temps for S1  |   |
|               |   |
-----------------   |
|               |   |
|  args for S2  |   |
|               |   |
-----------------   |
| frame for S2  | ---
----------------- <------
|               |       |
| temps for S2  |       |
|               |       |
-----------------       |
|  args for S3  |       |
-----------------       |
| frame for S3  | -------
-----------------
|               |
| temps for S3  |
|               |
|               |
-----------------
      (top)
\end{verbatim}

The above figure shows the frames all linked together through the control stack (the ``execution path''), so that it is
easy to return to the caller of a given Subroutine (\texttt{ERRET}\index{\texttt{ERRET}} or
\texttt{RETRY}\index{\texttt{RETRY}}).

Subroutine exit is accomplished simply by the call mediator, which loads the right half of \texttt{TB} from the previous
frame pointer, restores the ``binding pointer'', \texttt{P}, and \texttt{TP}, and transfers control back to the instruction
following the saved calling address.

\subsection{Variable Bindings}\label{variable-bindings}

All local \texttt{ATOM} values are kept on the control stack of the \texttt{PROCESS} to which they are local. As described
before, the atom contains a word that points to the value on the control stack. The pointer is actually to a six-word
``binding block'' on the control stack. Binding blocks have the following format:

\begin{verbatim}
---------------------------------
| BIND or UBIND |      prev     |
---------------------------------
|        pointer to ATOM        |
---------------------------------
|             value             |
| - - - - - - - - - - - - - - - |
|             pair              |
---------------------------------
|     decl      |   unique-id   |
---------------------------------
|       previous-binding        |
---------------------------------
\end{verbatim}

where:

\begin{itemize}
\tightlist
\item
  \texttt{BIND} means this is a binding for a \texttt{SPECIAL}\index{\texttt{SPECIAL}} \texttt{ATOM} (the only kind used by
  compiled programs), and \texttt{UBIND} means this is a binding for an \texttt{UNSPECIAL}\index{\texttt{UNSPECIAL}}
  \texttt{ATOM} -- for \texttt{SPECIAL} checking by the interpreter;
\item
  \texttt{prev} points to the closest previous binding block for any \texttt{ATOM} (the ``access path'' --
  \texttt{UNWIND}\index{\texttt{UNWIND}} objects are also linked in this chain);
\item
  \texttt{decl} points to a \texttt{DECL}\index{\texttt{DECL}} associated with this value, for \texttt{SET(LOC)} to check;
\item
  \texttt{unique-id} is used for validation of this block; and
\item
  \texttt{previous-binding} points to the closest previous binding for this \texttt{ATOM} (used in unbinding).
\end{itemize}

Bindings are generated by an internal subroutine called \texttt{SPECBIND} (name comes from \texttt{SPECIAL}). The caller to
\texttt{SPECBIND} \texttt{PUSH}es consecutive six-word blocks onto the control stack via \texttt{TP} before calling
\texttt{SPECBIND}. The first word of each block contains the \texttt{TYPE} code for \texttt{ATOM} in its left half and all
ones in its right half. \texttt{SPECBIND} uses this bit pattern to identify the binding blocks. \texttt{SPECBIND}'s caller
also fills in the next three words and leaves the last two words empty. \texttt{SPECBIND} fills in the rest and leaves the
``binding pointer'' pointing at the topmost binding on the control stack. \texttt{SPECBIND} also stores a pointer to the
current binding in the value cell of the atom.

Unbinding is accomplished during Subroutine return. When the previous frame is being restored, the call mediator checks to
see if the saved ``binding pointer'' and the current one are different; if they are, \texttt{SPECSTORE} is called.
\texttt{SPECSTORE} runs through the binding blocks, restoring old value pointers in atoms until the ``binding pointer'' is
equal to the one saved in the frame.

Obviously variable binding is more complicated than this, because \texttt{ATOM}s can have both local and global values and
even different local values in different \texttt{PROCESS}es. The solution to all of these additional problems lies in the
\texttt{bindid} field of the atom. Each \texttt{PROCESS} vector also contains a current \texttt{bindid}. Whenever an
\texttt{ATOM}'s local value is desired, the \texttt{RUNNING} \texttt{PROCESS}'s \texttt{bindid} is checked against that of
the atom: if they are the same, the atom points to the current value; if not, the current \texttt{PROCESS}'s control stack
must be searched to find a binding block for this \texttt{ATOM}. This binding scheme might be called ``shallow binding''.
The searching is facilitated by having all binding blocks linked together. Accessing global variables is accomplished in a
similar way, using a \texttt{VECTOR} that is referred to as the ``global stack''. The global stack has only an
\texttt{ATOM} and a value slot for each variable, since global values never get rebound.

\texttt{EVAL} with respect to a different environment causes some additional problems. Whenever this kind of \texttt{EVAL}
is done, a brand new \texttt{bindid} is generated, forcing all current local value cells of atoms to appear invalid. Local
values must now be obtained by searching the control stack, which is inefficient compared to just pulling them out of the
atoms. (The greatest inefficiency occurs when an \texttt{ATOM}'s \texttt{LVAL} is never accessed twice in a row in the same
environment.) A special block is built on the control stack and linked into the binding-block chain. This block is called a
``skip block'' or ``environment splice'', and it diverts the ``access path'' to the new environment, causing searches to
become relative to this new environment.

\section{Appendix 2. Predefined Subroutines}\label{appendix-2.-predefined-subroutines}

The following is a very brief description of all the primitives (F/SUBRs) currently available in MDL. These descriptions
are in no way to be considered a definition of the effects or values produced by the primitives. They just try to be as
complete and as accurate as is possible in a single-statement description. However, because of the complexity of most
primitives, many important assumptions and restrictions have been omitted. Even though all primitives return a value, some
descriptions mention only the side effects produced by a primitive, because these primitives are most often used for this
effect rather than the value.

A description is given in this format:

\emph{name} (\emph{arguments})\\
\emph{decl}\\
English description

This format is intended to look like a \texttt{FUNCTION} definition, omitting the call to \texttt{DEFINE} and all internal
variable and code. The \emph{name} is just the ATOM that is used to refer to the primitive. The names of the
\emph{arguments} are intended to be mnemonic or suggestive of their meanings. The \emph{decl} is a \texttt{FUNCTION}-style
\texttt{DECL} (chapter 14) for the primitive. In some cases the \texttt{DECL} may look unusual, because it is intended to
convey information to a person about the uses of arguments, not to convey information to the MDL interpreter or compiler.
For example, \texttt{\textless{}OR\ FALSE\ ANY\textgreater{}} is functionally equivalent to \texttt{ANY}, but it indicates
that only the ``truth'' of the argument is significant. Indeed, the \texttt{{[}OPT\ ...{]}} construction is often used
illegally, with other elements following it: be warned that MDL would not accept it. An argument is included in the same
\texttt{LIST} with \texttt{VALUE} (the value of the primitive) only if the argument is actually returned by the primitive
as a value. In other words, \texttt{\#DECL\ ((VALUE\ \ ARG)\ ...)} implies
\texttt{\textless{}==?\ .VALUE\ .ARG\textgreater{}}.

\begin{verbatim}
* ("TUPLE" FACTORS)
 #DECL ((VALUE) <OR FIX FLOAT>
        (FACTORS) <TUPLE [REST <OR FIX FLOAT>]>)
\end{verbatim}

multiplies all arguments together (arithmetic)

\begin{verbatim}
+ ("TUPLE" TERMS)
 #DECL ((VALUE) <OR FIX FLOAT>
        (TERMS) <TUPLE [REST <OR FIX FLOAT>]>)
\end{verbatim}

adds all arguments together (arithmetic)

\begin{verbatim}
- ("OPTIONAL" MINUEND "TUPLE" SUBTRAHENDS)
 #DECL ((VALUE) <OR FIX FLOAT>
        (MINUEND) <OR FIX FLOAT>
        (SUBTRAHENDS) <TUPLE [REST <OR FIX FLOAT>]>)
\end{verbatim}

subtracts other arguments from first argument (arithmetic)

\begin{verbatim}
/ ("OPTIONAL" DIVIDEND "TUPLE" DIVISORS)
 #DECL ((VALUE) <OR FIX FLOAT>
        (DIVIDEND) <OR FIX FLOAT>
        (DIVISORS) <TUPLE [REST <OR FIX FLOAT>]>)
\end{verbatim}

divides first argument by other arguments (arithmetic)

\begin{verbatim}
0? (NUMBER)
 #DECL ((VALUE) <OR 'T '#FALSE ()>
        (NUMBER) <OR FIX FLOAT>)
\end{verbatim}

tells whether a number is zero (predicate)

\begin{verbatim}
1? (NUMBER)
 #DECL ((VALUE) <OR 'T '#FALSE ()>
        (NUMBER) <OR FIX FLOAT>)
\end{verbatim}

tells whether a number is one (predicate)

\begin{verbatim}
1STEP (PROCESS)
 #DECL ((VALUE PROCESS) PROCESS)
\end{verbatim}

causes a \texttt{PROCESS} to enter single-step mode

\begin{verbatim}
==? (OBJECT-1 OBJECT-2)
 #DECL ((VALUE) <OR 'T '#FALSE ()>
        (OBJECT-1 OBJECT-2) ANY)
\end{verbatim}

tells whether two objects are ``exactly'' equal (predicate)

\begin{verbatim}
=? (OBJECT-1 OBJECT-2)
 #DECL ((VALUE) <OR 'T '#FALSE ()>
        (OBJECT-1 OBJECT-2) ANY)
\end{verbatim}

tells whether two objects are ``structurally'' equal (predicate)

\begin{verbatim}
ABS (NUMBER)
 #DECL ((VALUE) <OR FIX FLOAT>
        (NUMBER) <OR FIX FLOAT>)
\end{verbatim}

returns absolute value of a number (arithmetic)

\begin{verbatim}
ACCESS (CHANNEL ACCESS-POINTER)
 #DECL ((VALUE CHANNEL) CHANNEL
        (ACCESS-POINTER) FIX)
\end{verbatim}

sets access pointer for next I/O transfer via a \texttt{CHANNEL}

\begin{verbatim}
ACTIVATE-CHARS ("OPTIONAL" STRING)
 #DECL ((VALUE STRING) STRING)
\end{verbatim}

sets or returns interrupt characters for terminal typing (Tenex\index{\texttt{Tenex}} and Tops-20\index{\texttt{Tops-20}}
versions only)

\begin{verbatim}
AGAIN ("OPTIONAL" (ACTIVATION .LPROG\ !-INTERRUPTS))
 #DECL ((VALUE) ANY
        (ACTIVATION) ACTIVATION)
\end{verbatim}

resumes execution at the given \texttt{ACTIVATION}

\begin{verbatim}
ALLTYPES ()
 #DECL ((VALUE) <VECTOR [REST ATOM]>)
\end{verbatim}

returns the \texttt{VECTOR} of all type names

\begin{verbatim}
AND ("ARGS" ARGS)
 #DECL ((VALUE) <OR FALSE ANY>
        (ARGS) LIST)
\end{verbatim}

computes logical ``and'' of truth-values, evaluated by the Subroutine

\begin{verbatim}
AND? ("TUPLE" TUPLE)
 #DECL ((VALUE) <OR FALSE ANY>
        (TUPLE) TUPLE)
\end{verbatim}

computes logical ``and'' of truth-values, evaluated at call time

\begin{verbatim}
ANDB ("TUPLE" WORDS)
 #DECL ((VALUE) WORD
        (WORDS) <TUPLE [REST <PRIMTYPE WORD>]>)
\end{verbatim}

computes bitwise ``and'' of machine words

\begin{verbatim}
APPLICABLE? (OBJECT)
 #DECL ((VALUE) <OR 'T '#FALSE ()>
        (OBJECT) ANY)
\end{verbatim}

tells whether argument is applicable (predicate)

\begin{verbatim}
APPLY (APPLICABLE "TUPLE" ARGUMENTS)
 #DECL ((VALUE) ANY
        (APPLICABLE) APPLICABLE (ARGUMENTS) TUPLE)
\end{verbatim}

applies first argument to the other arguments

\begin{verbatim}
APPLYTYPE (TYPE "OPTIONAL" HOW)
 #DECL ((VALUE) <OR ATOM APPLICABLE '#FALSE ()>
        (TYPE) ATOM (HOW) <OR ATOM APPLICABLE>)
\end{verbatim}

specifies or returns how a data type is applied

\begin{verbatim}
ARGS (CALL)
 #DECL ((VALUE) TUPLE
        (CALL) <OR FRAME ENVIRONMENT ACTIVATION PROCESS>)
\end{verbatim}

returns arguments of a given un-returned Subroutine call

\begin{verbatim}
ASCII (CODE-OR-CHARACTER)
 #DECL ((VALUE) <OR CHARACTER FIX>
        (CODE-OR-CHARACTER) <OR FIX CHARACTER>)
\end{verbatim}

returns \texttt{CHARACTER} with given ASCII code or vice versa

\begin{verbatim}
ASSIGNED? (ATOM "OPTIONAL" ENV)
 #DECL ((VALUE) <OR 'T '#FALSE ()>
        (ATOM) ATOM (ENV) <OR FRAME ENVIRONMENT ACTIVATION PROCESS>)
\end{verbatim}

tells whether an \texttt{ATOM} has a local value (predicate)

\begin{verbatim}
ASSOCIATIONS ()
 #DECL ((VALUE) <OR ASOC '#FALSE ()>)
\end{verbatim}

returns the first object in the association chain

\begin{verbatim}
AT (STRUCTURED "OPTIONAL" (N 1))
 #DECL ((VALUE) LOCATIVE
        (STRUCTURED) STRUCTURED (N) <OR FIX OFFSET>)
\end{verbatim}

returns a locative to the Nth element of a structure

\begin{verbatim}
ATAN (NUMBER)
 #DECL ((VALUE) FLOAT
        (NUMBER) <OR FIX FLOAT>)
\end{verbatim}

returns arc tangent of a number (arithmetic)

\begin{verbatim}
ATOM (PNAME)
 #DECL ((VALUE) ATOM
        (PNAME) STRING)
\end{verbatim}

creates an \texttt{ATOM} with a given name

\begin{verbatim}
AVALUE (ASSOCIATION)
 #DECL ((VALUE) ANY
        (ASSOCIATION) ASOC)
\end{verbatim}

returns the ``value'' field of an association

\begin{verbatim}
BACK (STRUCTURE "OPTIONAL" N)
 #DECL ((VALUE) <OR VECTOR TUPLE UVECTOR STORAGE STRING BYTES TEMPLATE>
        (N) FIX
        (STRUCTURE) <OR <PRIMTYPE VECTOR>  <PRIMTYPE TUPLE>
                        <PRIMTYPE UVECTOR> <PRIMTYPE STORAGE>
                        <PRIMTYPE STRING>  <PRIMTYPE BYTES>
                        <PRIMTYPE TEMPLATE>>)
\end{verbatim}

replaces some elements removed from a non-list structure by \texttt{REST}ing and changes to primitive data type

\begin{verbatim}
BIND ("ARGS" ARGS)
 #DECL ((VALUE) ANY
        (ARGS) <LIST [OPT ATOM] LIST [OPT DECL] ANY>)
\end{verbatim}

executes sequential expressions without providing a bound \texttt{ACTIVATION}

\begin{verbatim}
BITS (WIDTH "OPTIONAL" (RIGHT-EDGE 0))
 #DECL ((VALUE) BITS
        (WIDTH RIGHT-EDGE) FIX)
\end{verbatim}

creates a bit mask for \texttt{PUTBITS} and \texttt{GETBITS}

\begin{verbatim}
BLOAT ("OPTIONAL"
       (FREE 0) (STACK 0) (LOCALS 0) (GLOBALS 0) (TYPES 0) (STORAGE 0) (P-STACK 0)
       MIN GROW-LOCAL GROW-GLOBAL GROW-TYPE GROW-STORAGE PURE P-STACK-SIZE STACK-SIZE)
 #DECL ((VALUE) FIX
        (FREE STACK LOCALS GLOBALS TYPES STORAGE P-STACK MIN GROW-LOCAL GROW-GLOBAL
         GROW-TYPE GROW-STORAGE PURE P-STACK-SIZE STACK-SIZE) FIX)
\end{verbatim}

allocates extra storage temporarily

\begin{verbatim}
BLOAT-STAT ("OPTIONAL" STATS)
 #DECL ((VALUE) <UVECTOR [27 FIX]>
        (STATS) <UVECTOR [27 ANY]>)
\end{verbatim}

gives garbage-collector and storage statistics

\begin{verbatim}
BLOCK (LOOK-UP)
 #DECL ((VALUE LOOK-UP) <OR OBLIST <LIST [REST <OR OBLIST 'DEFAULT>]>>)
\end{verbatim}

\texttt{SET}s \texttt{OBLIST} for looking up \texttt{ATOM}s during \texttt{READ}ing and \texttt{PARSE}ing

\begin{verbatim}
BOUND? (ATOM "OPTIONAL" ENV)
 #DECL ((VALUE) <OR 'T '#FALSE ()>
        (ATOM) ATOM (ENV) <OR FRAME ENVIRONMENT ACTIVATION PROCESS>)
\end{verbatim}

tells whether an \texttt{ATOM} is locally bound (predicate)

\begin{verbatim}
BREAK-SEQ (OBJECT PROCESS)
 #DECL ((VALUE PROCESS) PROCESS
        (OBJECT) ANY)
\end{verbatim}

modifies execution sequence of another \texttt{PROCESS}

\begin{verbatim}
BUFOUT ("OPTIONAL" (CHANNEL .OUTCHAN))
 #DECL ((VALUE CHANNEL) CHANNEL)
\end{verbatim}

writes out all internal MDL buffers for an output \texttt{CHANNEL}

\begin{verbatim}
BYTE-SIZE (BYTES)
 #DECL ((VALUE) FIX
        (BYTES) BYTES)
\end{verbatim}

returns size of bytes in a byte-string

\begin{verbatim}
BYTES (SIZE "TUPLE" ELEMENTS)
 #DECL ((VALUE) BYTES
        (SIZE) FIX (ELEMENTS) <TUPLE [REST FIX]>)
\end{verbatim}

creates a byte-string from explicit arguments

\begin{verbatim}
CHANLIST ()
 #DECL ((VALUE) <LIST [REST CHANNEL]>)
\end{verbatim}

returns a \texttt{LIST} of currently open I/O \texttt{CHANNEL}s

\begin{verbatim}
CHANNEL ("OPTIONAL" (MODE "READ") "TUPLE" FILE-NAME)
 #DECL ((VALUE) CHANNEL
        (MODE) STRING (FILE-NAME) TUPLE)
\end{verbatim}

creates an unopened I/O \texttt{CHANNEL}

\begin{verbatim}
CHTYPE (OBJECT TYPE)
 #DECL ((VALUE) ANY
        (OBJECT) ANY (TYPE) ATOM)
\end{verbatim}

makes a new pair with a given data type from an old one

\begin{verbatim}
CHUTYPE (UVECTOR TYPE)
 #DECL ((VALUE UVECTOR) <PRIMTYPE UVECTOR>
        (TYPE) ATOM)
\end{verbatim}

changes the data type of the elements of a uniform vector

\begin{verbatim}
CLOSE (CHANNEL)
 #DECL ((VALUE CHANNEL) CHANNEL)
\end{verbatim}

closes an I/O \texttt{CHANNEL}

\begin{verbatim}
CLOSURE (FUNCTION "TUPLE" VARIABLES)
 #DECL ((VALUE) CLOSURE
        (FUNCTION) FUNCTION (VARIABLES) <TUPLE [REST ATOM]>)
\end{verbatim}

``binds'' the free variables of a \texttt{FUNCTION} to current values

\begin{verbatim}
COND ("ARGS" CLAUSES)
 #DECL ((VALUE) ANY
        (CLAUSES) <LIST <LIST <OR FALSE ANY>> [REST <LIST <OR FALSE ANY>>]>)
\end{verbatim}

evaluates conditions and selected expression

\begin{verbatim}
CONS (NEW-ELEMENT LIST)
 #DECL ((VALUE) LIST
        (NEW-ELEMENT) ANY (LIST) LIST)
\end{verbatim}

adds an element to the front of a \texttt{LIST}

\begin{verbatim}
COS (NUMBER)
 #DECL ((VALUE) FLOAT
        (NUMBER) <OR FIX FLOAT>)
\end{verbatim}

returns cosine of a number (arithmetic)

\begin{verbatim}
CRLF ("OPTIONAL" (CHANNEL .OUTCHAN))
 #DECL ((VALUE) 'T
        (CHANNEL) CHANNEL)
\end{verbatim}

prints a carriage-return and line-feed via an output \texttt{CHANNEL}

\begin{verbatim}
DECL-CHECK ("OPTIONAL" SWITCH)
 #DECL ((VALUE) <OR 'T '#FALSE ()>
        (SWITCH) <OR FALSE ANY>)
\end{verbatim}

enables or disables type-declaration checking

\begin{verbatim}
DECL? (OBJECT PATTERN)
 #DECL ((VALUE) <OR 'T '#FALSE ()>
        (OBJECT) ANY (PATTERN) <OR ATOM FORM>)
\end{verbatim}

tells whether an object matches a type declaration (predicate)

\begin{verbatim}
DEFINE ('NAME "ARGS" ARGS)
 #DECL ((VALUE) ATOM
        (NAME) ANY (ARGS) <LIST [OPT ATOM] LIST [OPT DECL] ANY>)
\end{verbatim}

sets the global value of an \texttt{ATOM} to a \texttt{FUNCTION}

\begin{verbatim}
DEFMAC ('NAME "ARGS" ARGS)
 #DECL ((VALUE) ATOM
        (NAME) ANY (ARGS) <LIST [OPT ATOM] LIST [OPT DECL] ANY>)
\end{verbatim}

sets the global value of an \texttt{ATOM} to a \texttt{MACRO}

\begin{verbatim}
DEMSIG (NAME)
 #DECL ((VALUE) <OR 'T '#FALSE ()>
        (NAME) STRING)
\end{verbatim}

signals an ITS daemon

\begin{verbatim}
DISABLE (INTERRUPT)
 #DECL ((VALUE INTERRUPT) IHEADER)
\end{verbatim}

disables an interrupt

\begin{verbatim}
DISMISS (VAL "OPTIONAL" ACTIVATION INT-LEVEL)
 #DECL ((VALUE VAL) ANY
        (ACTIVATION) ACTIVATION (INT-LEVEL) FIX)
\end{verbatim}

dismisses an interrupt occurrence

\begin{verbatim}
ECHOPAIR (IN OUT)
 #DECL ((VALUE IN) CHANNEL
        (OUT) CHANNEL)
\end{verbatim}

coordinates I/O \texttt{CHANNEL}s for echoing characters on rubout

\begin{verbatim}
EMPTY? (OBJECT)
 #DECL ((VALUE) <OR 'T '#FALSE ()>
        (OBJECT) STRUCTURED)
\end{verbatim}

tells whether a structure has zero elements (predicate)

\begin{verbatim}
ENABLE (INTERRUPT)
 #DECL ((VALUE INTERRUPT) IHEADER)
\end{verbatim}

enables an interrupt

\begin{verbatim}
ENDBLOCK ()
 #DECL ((VALUE) <OR OBLIST <LIST [REST <OR OBLIST 'DEFAULT>]>>)
\end{verbatim}

restores the .OBLIST that existed before corresponding call to \texttt{BLOCK}

\begin{verbatim}
ENTRY-LOC (ENTRY)
 #DECL ((VALUE) FIX
        (ENTRY) RSUBR-ENTRY)
\end{verbatim}

returns the offset in the code vector of an \texttt{RSUBR-ENTRY}

\begin{verbatim}
EQVB ("TUPLE" WORDS)
 #DECL ((VALUE) WORD
        (WORDS) <TUPLE [REST <PRIMTYPE WORD>]>)
\end{verbatim}

computes bitwise ``equivalence'' of machine words

\begin{verbatim}
ERRET ("OPTIONAL" VAL (FRAME .LERR\ !-INTERRUPTS))
 #DECL ((VALUE) ANY
        (VAL) ANY (FRAME) FRAME)
\end{verbatim}

continues evaluation from the last \texttt{ERROR} or \texttt{LISTEN} or from a given \texttt{FRAME}

\begin{verbatim}
ERROR ("TUPLE" INFO)
 #DECL ((VALUE) ANY
        (INFO) TUPLE)
\end{verbatim}

stops and informs user of an error

\begin{verbatim}
ERRORS ()
 #DECL ((VALUE) OBLIST)
\end{verbatim}

returns the \texttt{OBLIST} where error messages are located

\begin{verbatim}
EVAL (ANY "OPTIONAL" ENV)
 #DECL ((VALUE) ANY
        (ENV) <OR FRAME ENVIRONMENT ACTIVATION PROCESS>)
\end{verbatim}

evaluates an expression in a given environment

\begin{verbatim}
EVALTYPE (TYPE "OPTIONAL" HOW)
 #DECL ((VALUE) <OR ATOM APPLICABLE '#FALSE ()>
        (TYPE) ATOM (HOW) <OR ATOM APPLICABLE>)
\end{verbatim}

specifies or returns how a data type is evaluated

\begin{verbatim}
EVENT (NAME "OPTIONAL" PRIORITY WHICH)
 #DECL ((VALUE) IHEADER
        (NAME) <OR STRING ATOM IHEADER> (PRIORITY) FIX (WHICH) <OR CHANNEL LOCATIVE>)
\end{verbatim}

sets up an interrupt

\begin{verbatim}
EXP (NUMBER)
 #DECL ((VALUE) FLOAT
        (NUMBER) <OR FIX FLOAT>)
\end{verbatim}

returns ``e'' to the power of a number (arithmetic)

\begin{verbatim}
EXPAND (ANY)
 #DECL ((VALUE) ANY
        (ANY) ANY)
\end{verbatim}

evaluates its argument (only once if a \texttt{MACRO} is involved) in the top-level environment

\begin{verbatim}
FILE-EXISTS? ("TUPLE" FILE-NAME)
 #DECL ((VALUE) <OR 'T <FALSE STRING FIX>>
        (FILE-NAME) TUPLE)
\end{verbatim}

tests for existence of a file (predicate)

\begin{verbatim}
FILE-LENGTH (INCH)
 #DECL ((VALUE) FIX
        (INCH) CHANNEL)
\end{verbatim}

returns the system-provided length of a file open on an input \texttt{CHANNEL}

\begin{verbatim}
FILECOPY ("OPTIONAL" (INCH .INCHAN) (OUCH .OUTCHAN))
 #DECL ((VALUE) FIX
        (INCH OUCH) CHANNEL)
\end{verbatim}

copies characters from one \texttt{CHANNEL} to another until end-of-file on the input \texttt{CHANNEL}

\begin{verbatim}
FIX (NUMBER)
 #DECL ((VALUE) FIX
        (NUMBER) <OR FLOAT FIX>)
\end{verbatim}

returns integer part of a number (arithmetic)

\begin{verbatim}
FLATSIZE (ANY MAX "OPTIONAL" (RADIX 10))
 #DECL ((VALUE) <OR FIX '#FALSE ()>
        (ANY) ANY (MAX RADIX) FIX)
\end{verbatim}

returns number of characters needed to \texttt{PRIN1} an object, if not greater than given maximum

\begin{verbatim}
FLOAD ("TUPLE" FILE-NAME-AND-LOOK-UP)
 #DECL ((VALUE) '"DONE"
        (FILE-NAME-AND-LOOK-UP) TUPLE)
\end{verbatim}

reads and evaluates all objects in a file

\begin{verbatim}
FLOAT (NUMBER)
 #DECL ((VALUE) FLOAT
        (NUMBER) <OR FIX FLOAT>)
\end{verbatim}

returns floating-point value of a number (arithmetic)

\begin{verbatim}
FORM ("TUPLE" ELEMENTS)
 #DECL ((VALUE) FORM
        (ELEMENTS) TUPLE)
\end{verbatim}

creates a \texttt{FORM} from explicit arguments

\begin{verbatim}
FRAME ("OPTIONAL" (FRAME .LERR\ !-INTERRUPTS))
 #DECL ((VALUE) FRAME
        (FRAME) <OR FRAME ENVIRONMENT ACTIVATION PROCESS>)
\end{verbatim}

returns a previous Subroutine call

\begin{verbatim}
FREE-RUN (PROCESS)
 #DECL ((VALUE) <OR PROCESS '#FALSE ()>
        (PROCESS) PROCESS)
\end{verbatim}

causes a \texttt{PROCESS} to leave single-step mode

\begin{verbatim}
FREEZE (STRUCTURE)
 #DECL ((VALUE) <OR VECTOR UVECTOR STRING BYTES>
        (STRUCTURE) <OR <PRIMTYPE VECTOR> <PRIMTYPE TUPLE> <PRIMTYPE UVECTOR>
                        <PRIMTYPE STRING> <PRIMTYPE BYTES>>)
\end{verbatim}

makes copy of argument in non-moving garbage-collected space

\begin{verbatim}
FUNCT (FRAME)
 #DECL ((VALUE) ATOM
        (FRAME) <OR FRAME ENVIRONMENT ACTIVATION PROCESS>)
\end{verbatim}

returns Subroutine name of a given previous Subroutine call

\begin{verbatim}
FUNCTION ("ARGS" ARGS)
 #DECL ((VALUE) FUNCTION
        (ARGS) <LIST [OPT ATOM] LIST [OPT DECL] ANY>)
\end{verbatim}

creates a \texttt{FUNCTION}

\begin{verbatim}
G=? (NUMBER-1 NUMBER-2)
 #DECL ((VALUE) <OR 'T '#FALSE ()>
        (NUMBER-1 NUMBER-2) <OR FIX FLOAT>)
\end{verbatim}

tells whether first argument is greater than or equal to second (predicate)

\begin{verbatim}
G? (NUMBER-1 NUMBER-2)
 #DECL ((VALUE) <OR 'T '#FALSE ()>
        (NUMBER-1 NUMBER-2) <OR FIX FLOAT>)
\end{verbatim}

tells whether first argument is greater than second (predicate)

\begin{verbatim}
GASSIGNED? (ATOM)
 #DECL ((VALUE) <OR 'T '#FALSE ()>
        (ATOM) ATOM)
\end{verbatim}

tells whether an \texttt{ATOM} has a global value (predicate)

\begin{verbatim}
GBOUND? (ATOM)
 #DECL ((VALUE) <OR 'T '#FALSE ()>
        (ATOM) ATOM)
\end{verbatim}

tells whether an \texttt{ATOM} ever had a global value (predicate)

\begin{verbatim}
GC ("OPTIONAL" MIN (EXHAUSTIVE? <>) MS-FREQ)
 #DECL ((VALUE) FIX
        (MIN MS-FREQ) FIX (EXHAUSTIVE?) <OR FALSE ANY>)
\end{verbatim}

causes a garbage collection and changes garbage-collection parameters

\begin{verbatim}
GC-DUMP (ANY PRINTB)
 #DECL ((VALUE) <OR ANY <UVECTOR <PRIMTYPE WORD>>>
        (ANY) ANY (PRINTB) <OR CHANNEL FALSE>)
\end{verbatim}

dumps an object so that it can be reproduced exactly

\begin{verbatim}
GC-MON ("OPTIONAL" SWITCH)
 #DECL ((VALUE) <OR 'T '#FALSE ()>
        (SWITCH) <OR FALSE ANY>)
\end{verbatim}

turns garbage-collection monitoring off or on

\begin{verbatim}
GC-READ (READB "OPTIONAL" (EOF-ROUTINE '<ERROR ...>))
 #DECL ((VALUE) ANY
        (READB) CHANNEL (EOF-ROUTINE) ANY)
\end{verbatim}

inputs an object that was previously \texttt{GC-DUMP}ed

\begin{verbatim}
GDECL ("ARGS" ARGS)
 #DECL ((VALUE) ANY
        (ARGS) <LIST [REST <LIST [REST ATOM]> <OR ATOM FORM>]>)
\end{verbatim}

declares the type/structure of the global value of \texttt{ATOM}s

\begin{verbatim}
GET (ITEM INDICATOR "OPTIONAL" (IF-NONE <>))
 #DECL ((VALUE) ANY
        (ITEM) <OR STRUCTURED ANY> (INDICATOR) <OR FIX OFFSET ANY> (IF-NONE) ANY)
\end{verbatim}

does \texttt{NTH} or \texttt{GETPROP}

\begin{verbatim}
GET-DECL (ATOM-OR-OFFSET)
 #DECL ((VALUE) <OR ATOM FORM '#FALSE ()>
        (ATOM-OR-OFFSET) <OR LOCD OFFSET>)
\end{verbatim}

gets the type declaration for an \texttt{ATOM}'s value or an \texttt{OFFSET}

\begin{verbatim}
GETBITS (FROM FIELD)
 #DECL ((VALUE) WORD
        (FROM) <OR <PRIMTYPE WORD> <PRIMTYPE STORAGE>> (FIELD) BITS)
\end{verbatim}

returns a bit field of a machine word or \texttt{STORAGE} address

\begin{verbatim}
GETL (ITEM INDICATOR "OPTIONAL" (IF-NONE <>))
 #DECL ((VALUE) <OR LOCATIVE LOCAS ANY>
        (ITEM) <OR STRUCTURED ANY> (INDICATOR) <OR FIX OFFSET ANY> (IF-NONE) ANY)
\end{verbatim}

does \texttt{AT} or \texttt{GETPL}

\begin{verbatim}
GETPL (ITEM INDICATOR "OPTIONAL" (IF-NONE <>))
 #DECL ((VALUE) <OR LOCAS ANY>
        (ITEM INDICATOR IF-NONE) ANY)
\end{verbatim}

returns a locative to an association

\begin{verbatim}
GETPROP (ITEM INDICATOR "OPTIONAL" (IF-NONE <>))
 #DECL ((VALUE) ANY
        (ITEM INDICATOR IF-NONE) ANY)
\end{verbatim}

returns the value associated with an item under an indicator

\begin{verbatim}
GLOC (ATOM "OPTIONAL" (MAKE-SLOT <>))
 #DECL ((VALUE) LOCD
        (ATOM) ATOM (MAKE-SLOT) <OR FALSE ANY>)
\end{verbatim}

returns a locative to the global-value cell of an \texttt{ATOM}

\begin{verbatim}
GO (LABEL)
 #DECL ((VALUE) ANY
        (LABEL) <OR ATOM TAG>)
\end{verbatim}

goes to a label and continues evaluation from there

\begin{verbatim}
GROW (U/VECTOR END BEG)
 #DECL ((VALUE)    <OR <PRIMTYPE VECTOR> <PRIMTYPE UVECTOR>>
        (U/VECTOR) <OR <PRIMTYPE VECTOR> <PRIMTYPE UVECTOR>> (END BEG) FIX)
\end{verbatim}

increases the size of a vector or uniform vector

\begin{verbatim}
GUNASSIGN (ATOM)
 #DECL ((VALUE ATOM) ATOM)
\end{verbatim}

causes an \texttt{ATOM} to have no global value

\begin{verbatim}
GVAL (ATOM)
 #DECL ((VALUE) ANY
        (ATOM) ATOM)
\end{verbatim}

returns the global value of an \texttt{ATOM}

\begin{verbatim}
HANDLER (IHEADER HANDLER "OPTIONAL" (PROCESS #PROCESS 0))
 #DECL ((VALUE) HANDLER
        (IHEADER) IHEADER (HANDLER) <OR HANDLER APPLICABLE> (PROCESS) PROCESS)
\end{verbatim}

creates an interrupt \texttt{HANDLER}

\begin{verbatim}
HANG ("OPTIONAL" (UNHANG <>))
 #DECL ((VALUE) ANY
        (UNHANG) ANY)
\end{verbatim}

does nothing, interruptibly, potentially forever

\begin{verbatim}
IBYTES (SIZE LENGTH "OPTIONAL" (ELEMENT 0))
 #DECL ((VALUE) BYTES
        (SIZE LENGTH) FIX (ELEMENT) ANY)
\end{verbatim}

creates a byte-string from implicit arguments

\begin{verbatim}
IFORM (LENGTH "OPTIONAL" (ELEMENT #LOSE 0))
 #DECL ((VALUE) FORM
        (LENGTH) FIX (ELEMENT) ANY)
\end{verbatim}

creates a \texttt{FORM} from implicit arguments

\begin{verbatim}
ILIST (LENGTH "OPTIONAL" (ELEMENT #LOSE 0))
 #DECL ((VALUE) LIST
        (LENGTH) FIX (ELEMENT) ANY)
\end{verbatim}

creates a \texttt{LIST} from implicit arguments

\begin{verbatim}
IMAGE (CODE "OPTIONAL" (CHANNEL .OUTCHAN))
 #DECL ((VALUE CODE) FIX
        (CHANNEL) CHANNEL)
\end{verbatim}

sends an image-mode character via an output \texttt{CHANNEL}

\begin{verbatim}
IN (POINTER)
 #DECL ((VALUE) ANY
        (POINTER) LOCATIVE)
\end{verbatim}

returns the object pointed to by a locative

\begin{verbatim}
INDEX (OFFSET)
 #DECL ((VALUE) FIX
        (OFFSET) OFFSET)
\end{verbatim}

fetches the integral part of an \texttt{OFFSET}

\begin{verbatim}
INDICATOR (ASSOCIATION)
 #DECL ((VALUE) ANY
        (ASSOCIATION) ASOC)
\end{verbatim}

returns the ``indicator'' field of an association

\begin{verbatim}
INSERT (PNAME OBLIST)
 #DECL ((VALUE) ATOM
        (PNAME) <OR ATOM STRING> (OBLIST) OBLIST)
\end{verbatim}

adds an \texttt{ATOM} to an \texttt{OBLIST}

\begin{verbatim}
INT-LEVEL ("OPTIONAL" NEW-INT-LEVEL)
 #DECL ((VALUE) FIX
        (NEW-INT-LEVEL) FIX)
\end{verbatim}

returns and/or sets current interrupt level

\begin{verbatim}
INTERRUPT (NAME "TUPLE" HANDLER-ARGS)
 #DECL ((VALUE) <OR 'T '#FALSE ()>
        (NAME) <OR STRING ATOM IHEADER> (HANDLER-ARGS) TUPLE)
\end{verbatim}

causes an interrupt to occur

\begin{verbatim}
INTERRUPTS ()
 #DECL ((VALUE) OBLIST)
\end{verbatim}

returns the \texttt{OBLIST} on which interrupt names are kept

\begin{verbatim}
IPC-HANDLER (BODY TYPE OTHER-NAME-1 OTHER-NAME-2
             "OPTIONAL" (MY-NAME-1 <UNAME>) (MY-NAME-2 <JNAME>))
 #DECL ((VALUE) 'T
        (BODY) <OR STRING UVECTOR> (TYPE) FIX
        (OTHER-NAME-1 OTHER-NAME-2 MY-NAME-1 MY-NAME-2) STRING)
\end{verbatim}

is the built-in handler for ``IPC'' (ITS version only)

\begin{verbatim}
IPC-OFF ()
 #DECL ((VALUE) 'T)
\end{verbatim}

stops all listening on the IPC device (ITS version only)

\begin{verbatim}
IPC-ON ("OPTIONAL" (MY-NAME-1 <UNAME>) (MY-NAME-2 <JNAME>))
 #DECL ((VALUE) 'T
        (MY-NAME-1 MY-NAME-2) STRING)
\end{verbatim}

listens on the IPC device (ITS version only)

\begin{verbatim}
ISTORAGE (LENGTH "OPTIONAL" (ELEMENT #LOSE 0))
 #DECL ((VALUE) STORAGE
        (LENGTH) FIX (ELEMENT) ANY)
\end{verbatim}

\index{\texttt{ISTORAGE}} creates a non-garbage-collected \texttt{STORAGE} from implicit arguments (archaic)

\begin{verbatim}
ISTRING (LENGTH "OPTIONAL" (ELEMENT !\^@))
 #DECL ((VALUE) STRING
        (LENGTH) FIX (ELEMENT) ANY)
\end{verbatim}

creates a character-string from implicit arguments

\begin{verbatim}
ITEM (ASSOCIATION)
 #DECL ((VALUE) ANY
        (ASSOCIATION) ASOC)
\end{verbatim}

returns the ``item'' field of an association

\begin{verbatim}
ITUPLE (LENGTH "OPTIONAL" (ELEMENT #LOSE 0))
 #DECL ((VALUE) TUPLE
        (LENGTH) FIX (ELEMENT) ANY)
\end{verbatim}

creates a \texttt{TUPLE} from implicit arguments

\begin{verbatim}
IUVECTOR (LENGTH "OPTIONAL" (ELEMENT #LOSE 0))
 #DECL ((VALUE) UVECTOR
        (LENGTH) FIX (ELEMENT) ANY)
\end{verbatim}

creates a \texttt{UVECTOR} from implicit arguments

\begin{verbatim}
IVECTOR (LENGTH "OPTIONAL" (ELEMENT #LOSE 0))
 #DECL ((VALUE) VECTOR
        (LENGTH) FIX (ELEMENT) ANY)
\end{verbatim}

creates a \texttt{VECTOR} from implicit arguments

\begin{verbatim}
JNAME ()
 #DECL ((VALUE) STRING)
\end{verbatim}

returns the ``job name'' of MDL's process

\begin{verbatim}
L=? (NUMBER-1 NUMBER-2)
 #DECL ((VALUE) <OR 'T '#FALSE ()>
        (NUMBER-1 NUMBER-2) <OR FIX FLOAT>)
\end{verbatim}

tells whether first argument is less than or equal to second (predicate)

\begin{verbatim}
L? (NUMBER-1 NUMBER-2)
 #DECL ((VALUE) <OR 'T '#FALSE ()>
        (NUMBER-1 NUMBER-2) <OR FIX FLOAT>)
\end{verbatim}

tells whether first argument is less than second (predicate)

\begin{verbatim}
LEGAL? (STACK-OBJECT)
 #DECL ((VALUE) <OR 'T '#FALSE ()>
        (STACK-OBJECT) ANY)
\end{verbatim}

tells whether argument (which might live on the control stack) is still legal (predicate)

\begin{verbatim}
LENGTH (OBJECT)
 #DECL ((VALUE) FIX
        (OBJECT) STRUCTURED)
\end{verbatim}

returns the number of elements in a structure

\begin{verbatim}
LENGTH? (OBJECT MAX)
 #DECL ((VALUE) <OR FIX '#FALSE ()>
        (OBJECT) STRUCTURED (MAX) FIX)
\end{verbatim}

tells whether length of structure is less than or equal to an integer (predicate)

\begin{verbatim}
LINK (EXPR PNAME "OPTIONAL" (OBLIST <1 .OBLIST>))
 #DECL ((VALUE EXPR) ANY
        (PNAME) STRING (OBLIST) OBLIST)
\end{verbatim}

creates a symbolic \texttt{LINK} to any expression for \texttt{READ}ing

\begin{verbatim}
LIST ("TUPLE" ELEMENTS)
 #DECL ((VALUE) LIST
        (ELEMENTS) TUPLE)
\end{verbatim}

creates a \texttt{LIST} from explicit arguments

\begin{verbatim}
LISTEN ("TUPLE" INFO)
 #DECL ((VALUE) ANY
        (INFO) TUPLE)
\end{verbatim}

stops and informs user that MDL is listening

\begin{verbatim}
LLOC (ATOM "OPTIONAL" ENV)
 #DECL ((VALUE) LOCD
        (ENV) <OR FRAME ENVIRONMENT ACTIVATION PROCESS>)
\end{verbatim}

returns a locative to the local-value cell of an \texttt{ATOM}

\begin{verbatim}
LOAD (CHANNEL "OPTIONAL" (LOOK-UP .OBLIST))
 #DECL ((VALUE) '"DONE"
        (LOOK-UP) <OR OBLIST <LIST [REST <OR OBLIST 'DEFAULT>]>>)
\end{verbatim}

reads and evaluates all objects via an input \texttt{CHANNEL}

\begin{verbatim}
LOCATIVE? (OBJECT)
 #DECL ((VALUE) <OR 'T '#FALSE ()>
        (OBJECT) ANY)
\end{verbatim}

tells whether an object is a locative (predicate)

\begin{verbatim}
LOG (NUMBER)
 #DECL ((VALUE) FLOAT
        (NUMBER) <OR FIX FLOAT>)
\end{verbatim}

returns natural logarithm of a number (arithmetic)

\begin{verbatim}
LOGOUT ()
 #DECL ((VALUE) '#FALSE ())
\end{verbatim}

logs out of the operating system (useful for background processes)

\begin{verbatim}
LOOKUP (PNAME OBLIST)
 #DECL ((VALUE) <OR ATOM '#FALSE ()>
        (PNAME) STRING (OBLIST) OBLIST)
\end{verbatim}

returns an \texttt{ATOM} found on a given \texttt{OBLIST}

\begin{verbatim}
LPARSE ("OPTIONAL"
        (STRING .PARSE-STRING) (RADIX 10) (LOOK-UP .OBLIST) PARSE-TABLE LOOK-AHEAD)
 #DECL ((VALUE) LIST
        (STRING) STRING (RADIX) FIX (PARSE-TABLE) VECTOR (LOOK-AHEAD) CHARACTER
        (LOOK-UP) <OR OBLIST <LIST [REST <OR OBLIST 'DEFAULT>]>>)
\end{verbatim}

returns a \texttt{LIST} of the objects parsed from a \texttt{STRING} (sections 7.6.6.3, 15.7.2, 17.1.3)

\begin{verbatim}
LSH (WORD AMOUNT)
 #DECL ((VALUE) WORD
        (WORD) <PRIMTYPE WORD> (AMOUNT) FIX)
\end{verbatim}

shifts bits in a machine word

\begin{verbatim}
LVAL (ATOM "OPTIONAL" ENV)
 #DECL ((VALUE) ANY
        (ENV) <OR FRAME ENVIRONMENT ACTIVATION PROCESS>)
\end{verbatim}

returns the local value of an \texttt{ATOM}

\begin{verbatim}
MAIN ()
 #DECL ((VALUE) PROCESS)
\end{verbatim}

returns \texttt{\#PROCESS\ 1} (the main \texttt{PROCESS})

\begin{verbatim}
MANIFEST ("TUPLE" ATOMS)
 #DECL ((VALUE) 'T
        (ATOMS) <TUPLE [REST ATOM]>)
\end{verbatim}

declares the global values of \texttt{ATOM}s to be constant

\begin{verbatim}
MANIFEST? (ATOM)
 #DECL ((VALUE) <OR 'T '#FALSE ()>
        (ATOM) ATOM)
\end{verbatim}

tells whether the global value of an \texttt{ATOM} is constant (predicate)

\begin{verbatim}
MAPF (FINAL-FCN LOOP-FCN "TUPLE" STRUCTURES)
 #DECL ((VALUE) ANY
        (FINAL-FCN) <OR APPLICABLE FALSE> (LOOP-FCN) APPLICABLE
        (STRUCTURES) <TUPLE [REST STRUCTURED]>)
\end{verbatim}

maps function onto elements of structures

\begin{verbatim}
MAPLEAVE ("OPTIONAL" (VAL T))
 #DECL (
        (VAL) ANY)
\end{verbatim}

leaves the most recent \texttt{MAPF/R} with a value

\begin{verbatim}
MAPR (FINAL-FCN LOOP-FCN "TUPLE" STRUCTURES)
 #DECL ((VALUE) ANY
        (FINAL-FCN) <OR APPLICABLE FALSE> (LOOP-FCN) APPLICABLE
        (STRUCTURES) <TUPLE [REST STRUCTURED]>)
\end{verbatim}

maps function onto \texttt{REST}s of structures

\begin{verbatim}
MAPRET ("TUPLE" ELEMENTS)
 #DECL (
        (ELEMENTS) TUPLE)
\end{verbatim}

returns a variable number of objects to the current \texttt{MAPF/R}

\begin{verbatim}
MAPSTOP ("TUPLE" ELEMENTS)
 #DECL (
        (ELEMENTS) TUPLE)
\end{verbatim}

\texttt{MAPRET}s, then stops looping of \texttt{MAPF/R} and causes application

\begin{verbatim}
MAX ("TUPLE" NUMBERS)
 #DECL ((VALUE) <OR FIX FLOAT>
        (NUMBERS) <TUPLE [REST <OR FIX FLOAT>]>)
\end{verbatim}

returns the greatest of its arguments (arithmetic)

\begin{verbatim}
ME ()
 #DECL ((VALUE) PROCESS)
\end{verbatim}

returns the current \texttt{PROCESS}

\begin{verbatim}
MEMBER (OBJECT STRUCTURE)
 #DECL ((VALUE) <OR STRUCTURED '#FALSE ()>
        (OBJECT) ANY (STRUCTURE) STRUCTURED)
\end{verbatim}

tells whether an object is ``structurally'' equal to some element of a structure (predicate)

\begin{verbatim}
MEMQ (OBJECT STRUCTURE)
 #DECL ((VALUE) <OR STRUCTURED '#FALSE ()>
        (OBJECT) ANY (STRUCTURE) STRUCTURED)
\end{verbatim}

tells whether an object is ``exactly'' equal to some element of a structure (predicate)

\begin{verbatim}
MIN ("TUPLE" NUMBERS)
 #DECL ((VALUE) <OR FIX FLOAT>
        (NUMBERS) <TUPLE [REST <OR FIX FLOAT>]>)
\end{verbatim}

returns the least of its arguments (arithmetic)

\begin{verbatim}
MOBLIST (NAME "OPTIONAL" (LENGTH 13))
 #DECL ((VALUE) OBLIST
        (NAME) ATOM (LENGTH) FIX)
\end{verbatim}

creates or gets an \texttt{OBLIST}

\begin{verbatim}
MOD (NUMBER MODULUS)
 #DECL ((VALUE) FIX
        (NUMBER MODULUS) FIX)
\end{verbatim}

returns number-theoretic remainder (fixed-point residue) (arithmetic)

\begin{verbatim}
MONAD? (OBJECT)
 #DECL ((VALUE) <OR 'T '#FALSE ()>
        (OBJECT) ANY)
\end{verbatim}

tells whether an object is either unstructured or an empty structure (predicate)

\begin{verbatim}
N==? (OBJECT-1 OBJECT-2)
 #DECL ((VALUE) <OR 'T '#FALSE ()>
        (OBJECT-1 OBJECT-2) ANY)
\end{verbatim}

tells whether two objects are NOT ``exactly'' equal (predicate)

\begin{verbatim}
N=? (OBJECT-1 OBJECT-2)
 #DECL ((VALUE) <OR 'T '#FALSE ()>
        (OBJECT-1 OBJECT-2) ANY)
\end{verbatim}

tells whether two objects are NOT ``structurally'' equal (predicate)

\begin{verbatim}
NETACC (CHANNEL)
 #DECL ((VALUE) <OR CHANNEL '#FALSE ()>
        (CHANNEL) CHANNEL)
\end{verbatim}

accepts a network connection

\begin{verbatim}
NETS (CHANNEL)
 #DECL ((VALUE CHANNEL) CHANNEL)
\end{verbatim}

forces operating-system network-\texttt{CHANNEL} buffer to be sent

\begin{verbatim}
NETSTATE (CHANNEL)
 #DECL ((VALUE) <UVECTOR FIX FIX FIX>
        (CHANNEL) CHANNEL)
\end{verbatim}

returns state information for a network \texttt{CHANNEL}

\begin{verbatim}
NEWTYPE (NEW-TYPE OLD-TYPE "OPTIONAL" PATTERN)
 #DECL ((VALUE NEW-TYPE) ATOM
        (OLD-TYPE) ATOM (PATTERN) <OR ATOM FORM>)
\end{verbatim}

defines a new data type

\begin{verbatim}
NEXT (ASSOCIATION)
 #DECL ((VALUE) <OR ASOC '#FALSE ()>
        (ASSOCIATION) ASOC)
\end{verbatim}

returns the next object in the association chain

\begin{verbatim}
NEXTCHR ("OPTIONAL" (CHANNEL .INCHAN) (EOF-ROUTINE '<ERROR ...>))
 #DECL ((VALUE) <OR CHARACTER FIX>
        (CHANNEL) CHANNEL (EOF-ROUTINE) ANY)
\end{verbatim}

returns the character that will next be read via an input \texttt{CHANNEL}

\begin{verbatim}
NOT (OBJECT)
 #DECL ((VALUE) <OR 'T '#FALSE ()>
        (OBJECT) <OR FALSE ANY>)
\end{verbatim}

computes logical ``not'' of a truth-value

\begin{verbatim}
NTH (STRUCTURED "OPTIONAL" N)
 #DECL ((VALUE) ANY
        (N) <OR FIX OFFSET>)
\end{verbatim}

fetches the Nth element of a structure

\begin{verbatim}
OBLIST? (ATOM)
 #DECL ((VALUE) <OR OBLIST '#FALSE ()>
        (ATOM) ATOM)
\end{verbatim}

returns an \texttt{ATOM}'s \texttt{OBLIST} or false if none (predicate)

\begin{verbatim}
OFF (INTERRUPT "OPTIONAL" WHICH)
 #DECL ((VALUE) <OR HANDLER IHEADER '#FALSE ()>
        (INTERRUPT) <OR HANDLER IHEADER STRING ATOM> (WHICH) <OR CHANNEL LOCATIVE>)
\end{verbatim}

removes an interrupt \texttt{HANDLER} or destroys an interrupt

\begin{verbatim}
OFFSET (N PATTERN)
 #DECL ((VALUE) OFFSET
        (N) FIX (PATTERN) <OR ATOM FORM>)
\end{verbatim}

creates an integer with attached type declaration

\begin{verbatim}
ON (NAME APPLICABLE PRIORITY "OPTIONAL" (PROCESS 0) WHICH)
 #DECL ((VALUE) HANDLER
        (NAME) <OR STRING ATOM> (APPLICABLE) APPLICABLE (PRIORITY) FIX
        (PROCESS) <OR FIX PROCESS> (WHICH) <OR CHANNEL LOCATIVE>)
\end{verbatim}

turns on an interrupt and creates an interrupt \texttt{HANDLER}

\begin{verbatim}
OPEN ("OPTIONAL" (MODE "READ") "TUPLE" FILE-NAME)
 #DECL ((VALUE) <OR CHANNEL <FALSE STRING STRING FIX>>
        (MODE) STRING (FILE-NAME) TUPLE)
\end{verbatim}

creates and opens an I/O \texttt{CHANNEL}

\begin{verbatim}
OPEN-NR ("OPTIONAL" (MODE "READ") "TUPLE" FILE-NAME)
 #DECL ((VALUE) <OR CHANNEL <FALSE STRING STRING FIX>>
        (MODE) STRING (FILE-NAME) TUPLE)
\end{verbatim}

creates and opens an I/O \texttt{CHANNEL} without changing file's reference date

\begin{verbatim}
OR ("ARGS" ARGS)
 #DECL ((VALUE) <OR FALSE ANY>
        (ARGS) LIST)
\end{verbatim}

computes logical inclusive ``or'' of truth-values, evaluated by the Subroutine

\begin{verbatim}
OR? ("TUPLE" TUPLE)
 #DECL ((VALUE) <OR FALSE ANY>
        (TUPLE) TUPLE)
\end{verbatim}

compares logical inclusive ``or'' of truth-values, evaluated at call time

\begin{verbatim}
ORB ("TUPLE" WORDS)
 #DECL ((VALUE) WORD
        (WORDS) <TUPLE [REST <PRIMTYPE WORD>]>)
\end{verbatim}

computes bitwise inclusive ``or'' of machine words

\begin{verbatim}
OVERFLOW ("OPTIONAL" SWITCH)
 #DECL ((VALUE) <OR 'T '#FALSE ()>
        (SWITCH) <OR ANY FALSE>)
\end{verbatim}

enables or disables overflow error (arithmetic)

\begin{verbatim}
PARSE ("OPTIONAL"
        (STRING .PARSE-STRING) (RADIX 10) (LOOK-UP .OBLIST) PARSE-TABLE LOOK-AHEAD)
 #DECL ((VALUE) ANY
        (STRING) STRING (RADIX) FIX (PARSE-TABLE) VECTOR (LOOK-AHEAD) CHARACTER
        (LOOK-UP) <OR OBLIST <LIST [REST <OR OBLIST 'DEFAULT>]>>)
\end{verbatim}

parses a \texttt{STRING} into an object (sections 7.6.6.2, 15.7.2, 17.1.3)

\begin{verbatim}
PCODE (NAME OFFSET)
 #DECL ((VALUE) PCODE
        (NAME) STRING (OFFSET) FIX)
\end{verbatim}

creates pointer to pure \texttt{RSUBR} code

\begin{verbatim}
PNAME (ATOM)
 #DECL ((VALUE) STRING
        (ATOM) ATOM)
\end{verbatim}

returns the print-name of an \texttt{ATOM} as a distinct copy

\begin{verbatim}
PRIMTYPE (OBJECT)
 #DECL ((VALUE) ATOM
        (OBJECT) ANY)
\end{verbatim}

returns the primitive data type of an object

\begin{verbatim}
PRIMTYPE-C (TYPE)
 #DECL ((VALUE) PRIMTYPE-C
        (TYPE) ATOM)
\end{verbatim}

gets a ``storage allocation code'' for a data type

\begin{verbatim}
PRIN1 (OBJECT "OPTIONAL" (CHANNEL .OUTCHAN))
 #DECL ((VALUE OBJECT) ANY
        (CHANNEL) CHANNEL)
\end{verbatim}

prints an object via an output \texttt{CHANNEL}

\begin{verbatim}
PRINC (OBJECT "OPTIONAL" (CHANNEL .OUTCHAN))
 #DECL ((VALUE OBJECT) ANY
        (CHANNEL) CHANNEL)
\end{verbatim}

prints an object via an output \texttt{CHANNEL} without \texttt{STRING} or \texttt{CHARACTER} brackets or \texttt{ATOM}
trailers

\begin{verbatim}
PRINT (OBJECT "OPTIONAL" (CHANNEL .OUTCHAN))
 #DECL ((VALUE OBJECT) ANY
        (CHANNEL) CHANNEL)
\end{verbatim}

prints an object via an output \texttt{CHANNEL} between new-line and space

\begin{verbatim}
PRINTB (BUFFER CHANNEL)
 #DECL ((VALUE BUFFER) <<OR UVECTOR STORAGE> [REST <PRIMTYPE WORD>]>
        (CHANNEL) CHANNEL)
\end{verbatim}

writes binary information via an output \texttt{CHANNEL}

\begin{verbatim}
PRINTSTRING (BUFFER "OPTIONAL" (CHANNEL .OUTCHAN) (COUNT <LENGTH .BUFFER>))
 #DECL ((VALUE COUNT) FIX
        (BUFFER) STRING (CHANNEL) CHANNEL)
\end{verbatim}

writes contents of a \texttt{STRING} via an output \texttt{CHANNEL}

\begin{verbatim}
PRINTTYPE (TYPE "OPTIONAL" HOW)
 #DECL ((VALUE) <OR ATOM APPLICABLE '#FALSE ()>
        (TYPE) ATOM (HOW) <OR ATOM APPLICABLE>)
\end{verbatim}

specifies or returns how a data type is printed

\begin{verbatim}
PROCESS (STARTUP)
 #DECL ((VALUE) PROCESS
        (STARTUP) APPLICABLE)
\end{verbatim}

creates a new \texttt{PROCESS} with given startup function

\begin{verbatim}
PROG ("ARGS" ARGS)
 #DECL ((VALUE) ANY
        (ARGS) <LIST [OPT ATOM] LIST [OPT DECL] ANY>)
\end{verbatim}

executes sequential expressions

\begin{verbatim}
PURIFY ("TUPLE" TUPLE)
 #DECL ((VALUE) ANY
        (TUPLE) TUPLE)
\end{verbatim}

purifies objects for sharing by different operating-system processes

\begin{verbatim}
PUT (ITEM INDICATOR "OPTIONAL" VAL)
 #DECL ((VALUE) ANY
        (ITEM) <OR STRUCTURED ANY> (INDICATOR) <OR FIX OFFSET ANY> (VAL) ANY)
\end{verbatim}

stores into structure or does \texttt{PUTPROP}

\begin{verbatim}
PUT-DECL (IDENTIFIER PATTERN)
 #DECL ((VALUE IDENTIFIER) <OR LOCD OFFSET>
        (PATTERN) <OR ATOM FORM>)
\end{verbatim}

changes the type declaration for an \texttt{ATOM}'s value or an \texttt{OFFSET}

\begin{verbatim}
PUTBITS (TO FIELD "OPTIONAL" (FROM 0))
 #DECL ((VALUE) <PRIMTYPE WORD>
        (TO FROM) <PRIMTYPE WORD> (FIELD) BITS)
\end{verbatim}

sets a bit field in a machine word

\begin{verbatim}
PUTPROP (ITEM INDICATOR "OPTIONAL" VAL)
 #DECL ((VALUE) ANY
        (ITEM INDICATOR VAL) ANY)
\end{verbatim}

(dis)associates a value with an item under an indicator

\begin{verbatim}
PUTREST (HEAD TAIL)
 #DECL ((VALUE HEAD) <PRIMTYPE LIST>
        (TAIL) <PRIMTYPE LIST>)
\end{verbatim}

replaces the rest of a list

\begin{verbatim}
QUIT ()
 #DECL ((VALUE) '#FALSE ())
\end{verbatim}

exits from MDL gracefully

\begin{verbatim}
QUITTER (WAS-TYPED CHANNEL)
 #DECL ((VALUE WAS-TYPED) CHARACTER
        (CHANNEL) CHANNEL)
\end{verbatim}

is the interrupt handler for \^{}G and \^{}S quit features

\begin{verbatim}
QUOTE ("ARGS" ARGS)
 #DECL ((VALUE) ANY
        (ARGS) LIST)
\end{verbatim}

returns the first argument unevaluated

\begin{verbatim}
RANDOM ("OPTIONAL" SEED-1 SEED-2)
 #DECL ((VALUE) FIX
        (SEED-1 SEED-2) FIX)
\end{verbatim}

generates a uniform pseudo-random integer (arithmetic)

\begin{verbatim}
READ ("OPTIONAL"
        (CHANNEL .INCHAN) (EOF-ROUTINE '<ERROR ...>) (LOOK-UP .OBLIST) READ-TABLE)
 #DECL ((VALUE) ANY
        (CHANNEL) CHANNEL (EOF-ROUTINE) ANY (READ-TABLE) VECTOR
        (LOOK-UP) <OR OBLIST <LIST [REST <OR OBLIST 'DEFAULT>]>>)
\end{verbatim}

reads one object via an input \texttt{CHANNEL} (sections 11.1.1.1, 11.3, 15.7.1, 17.1.3)

\begin{verbatim}
READB (BUFFER CHANNEL "OPTIONAL" (EOF-ROUTINE '<ERROR ...>))
 #DECL ((VALUE) FIX
        (BUFFER) <<OR UVECTOR STORAGE> [REST <PRIMTYPE WORD>]>
        (CHANNEL) CHANNEL (EOF-ROUTINE) ANY)
\end{verbatim}

reads binary information via an input \texttt{CHANNEL}

\begin{verbatim}
READCHR ("OPTIONAL" (CHANNEL .INCHAN) (EOF-ROUTINE '<ERROR ...>))
 #DECL ((VALUE) <OR CHARACTER FIX>
        (CHANNEL) CHANNEL (EOF-ROUTINE) ANY)
\end{verbatim}

reads one character via an input \texttt{CHANNEL}

\begin{verbatim}
READSTRING (BUFFER "OPTIONAL" (CHANNEL .INCHAN) (STOP <LENGTH .BUFFER>)
                              (EOF-ROUTINE '<ERROR ...>))
 #DECL ((VALUE) FIX
        (BUFFER) STRING (CHANNEL) CHANNEL (STOP) <OR FIX STRING> (EOF-ROUTINE) ANY)
\end{verbatim}

reads into a \texttt{STRING} via an input \texttt{CHANNEL}

\begin{verbatim}
REALTIMER ("OPTIONAL" INTERVAL)
 #DECL ((VALUE) <OR FIX FLOAT '#FALSE ()>
        (INTERVAL) <OR FIX FLOAT>)
\end{verbatim}

sets or fetches interval for real-time interrupts (ITS version only)

\begin{verbatim}
REMOVE (PNAME "OPTIONAL" OBLIST)
 #DECL ((VALUE) <OR ATOM '#FALSE ()>
        (PNAME) <OR ATOM STRING> (OBLIST) OBLIST)
\end{verbatim}

removes an \texttt{ATOM} from an \texttt{OBLIST}

\begin{verbatim}
RENAME ("TUPLE" FILE-NAME/S)
 #DECL ((VALUE) <OR 'T <FALSE STRING FIX>>
        (FILE-NAME/S) <TUPLE <OR STRING CHANNEL>>)
\end{verbatim}

renames or deletes a disk file

\begin{verbatim}
REP ()
 #DECL ((VALUE) ANY)
\end{verbatim}

is the built-in function for \texttt{READ-EVAL-PRINT} loop

\begin{verbatim}
REPEAT ("ARGS" ARGS)
 #DECL ((VALUE) ANY
        (ARGS) <LIST [OPT ATOM] LIST [OPT DECL] ANY>)
\end{verbatim}

executes sequential expressions repeatedly

\begin{verbatim}
RESET (CHANNEL)
 #DECL ((VALUE) <OR CHANNEL <FALSE STRING STRING FIX>>
        (CHANNEL) CHANNEL)
\end{verbatim}

reopens an I/O \texttt{CHANNEL} at its beginning

\begin{verbatim}
REST (STRUCTURED "OPTIONAL" (N 1))
 #DECL ((VALUE) STRUCTURED
        (N) FIX)
\end{verbatim}

removes the first \texttt{N} elements from a structure and changes to primitive data type

\begin{verbatim}
RESTORE ("OPTIONAL" NAME-1 NAME-2 NAME-3 NAME-4)
 #DECL ((VALUE) '"RESTORED"
        (NAME-1 NAME-2 NAME-3 NAME-4) STRING)
\end{verbatim}

restores MDL's state from a file

\begin{verbatim}
RESUME (VAL "OPTIONAL" (PROCESS <RESUMER>))
 #DECL ((VALUE) ANY
        (VAL) ANY (PROCESS) PROCESS)
\end{verbatim}

transfers execution to another \texttt{PROCESS}

\begin{verbatim}
RESUMER ("OPTIONAL" (PROCESS <ME>))
 #DECL ((VALUE) <OR PROCESS '#FALSE ()>
        (PROCESS) PROCESS)
\end{verbatim}

returns the \texttt{PROCESS} that last resumed the given \texttt{PROCESS}

\begin{verbatim}
RETRY ("OPTIONAL" FRAME)
 #DECL (
        (FRAME) FRAME)
\end{verbatim}

retries a previous Subroutine call, usually from the error level

\begin{verbatim}
RETURN ("OPTIONAL" (VAL T) (ACTIVATION .LPROG\ !-INTERRUPTS))
 #DECL ((VALUE) ANY
        (VAL) ANY (ACTIVATION) ACTIVATION)
\end{verbatim}

leaves a \texttt{PROG}/\texttt{REPEAT} with a value

\begin{verbatim}
RGLOC (ATOM "OPTIONAL" (MAKE-SLOT <>))
 #DECL ((VALUE) LOCR
        (ATOM) ATOM (MAKE-SLOT) <OR FALSE ANY>)
\end{verbatim}

returns a locative to the global-value cell of an \texttt{ATOM} for pure-program use

\begin{verbatim}
ROOT ()
 #DECL ((VALUE) OBLIST)
\end{verbatim}

returns the \texttt{OBLIST} containing names of primitives

\begin{verbatim}
ROT (WORD AMOUNT)
 #DECL ((VALUE) WORD
        (WORD) <PRIMTYPE WORD> (AMOUNT) FIX)
\end{verbatim}

rotates bits in a machine word

\begin{verbatim}
RSUBR (CANDIDATE)
 #DECL ((VALUE) RSUBR
        (CANDIDATE) <VECTOR <OR CODE PCODE> ATOM DECL [REST ANY]>)
\end{verbatim}

creates an \texttt{RSUBR}

\begin{verbatim}
RSUBR-ENTRY (CANDIDATE OFFSET)
 #DECL ((VALUE) RSUBR-ENTRY
        (CANDIDATE) <VECTOR <OR ATOM RSUBR> ATOM DECL> (OFFSET) FIX)
\end{verbatim}

adds an entry point to an \texttt{RSUBR}

\begin{verbatim}
RSUBR-LINK ("OPTIONAL" SWITCH)
 #DECL ((VALUE) <OR 'T '#FALSE ()>
        (SWITCH) <OR FALSE ANY>)
\end{verbatim}

enables or disables the automatic \texttt{RSUBR} linking feature

\begin{verbatim}
RUNINT ("TUPLE" TUPLE)
 #DECL ((VALUE) ANY
        (TUPLE) TUPLE)
\end{verbatim}

applies interrupt handler (for internal use only)

\begin{verbatim}
RUNTIMER ("OPTIONAL" INTERVAL)
 #DECL ((VALUE) <OR FIX FLOAT '#FALSE ()>
        (INTERVAL) <OR FIX FLOAT>)
\end{verbatim}

sets or fetches interval for run-time interrupt (ITS version only)

\begin{verbatim}
SAVE ("TUPLE" FILE-NAME-AND-GC?)
 #DECL ((VALUE) '"SAVED"
        (FILE-NAME-AND-GC?) <TUPLE [OPT STRING] [OPT STRING]
                                   [OPT STRING] [OPT STRING] [OPT <OR FALSE ANY>]>)
\end{verbatim}

writes the entire state of MDL to a file

\begin{verbatim}
SEND (OTHER-NAME-1 OTHER-NAME-2 BODY
      "OPTIONAL" (TYPE 0) (MY-NAME-1 <UNAME>) (MY-NAME-2 <JNAME>))
 #DECL ((VALUE) <OR 'T '#FALSE ()>
        (OTHER-NAME-1 OTHER-NAME-2 MY-NAME-1 MY-NAME-2) STRING (TYPE) FIX
        (BODY) <OR STRING STORAGE <UVECTOR [REST <PRIMTYPE WORD>]>>)
\end{verbatim}

sends an IPC message (ITS version only)

\begin{verbatim}
SEND-WAIT (OTHER-NAME-1 OTHER-NAME-2 BODY
           "OPTIONAL" (TYPE 0) (MY-NAME-1 <UNAME>) (MY-NAME-2 <JNAME>))
 #DECL ((VALUE) 'T
        (OTHER-NAME-1 OTHER-NAME-2 MY-NAME-1 MY-NAME-2) STRING (TYPE) FIX
        (BODY) <OR STRING STORAGE <UVECTOR [REST <PRIMTYPE WORD>]>>)
\end{verbatim}

sends an IPC message and waits for it to be received (ITS version only)

\begin{verbatim}
SET (ATOM LVAL "OPTIONAL" ENV)
 #DECL ((VALUE LVAL) ANY
        (ATOM) ATOM (ENV) <OR FRAME ENVIRONMENT ACTIVATION PROCESS>)
\end{verbatim}

changes the local value of an \texttt{ATOM}

\begin{verbatim}
SETG (ATOM GVAL)
 #DECL ((VALUE GVAL) ANY
        (ATOM) ATOM)
\end{verbatim}

changes (the global value of an \texttt{ATOM}

\begin{verbatim}
SETLOC (POINTER OBJECT)
 #DECL ((VALUE OBJECT) ANY
        (POINTER) LOCATIVE)
\end{verbatim}

changes the contents pointed to by a locative

\begin{verbatim}
SIN (NUMBER)
 #DECL ((VALUE) FLOAT
        (NUMBER) <OR FIX FLOAT>)
\end{verbatim}

returns sine of a number (arithmetic)

\begin{verbatim}
SLEEP (<OR FIX FLOAT> "OPTIONAL" (UNHANG <>))
 #DECL ((VALUE) ANY
        (UNHANG) ANY)
\end{verbatim}

does nothing, interruptibly, the given number of seconds

\begin{verbatim}
SNAME ("OPTIONAL" DIRECTORY)
 #DECL ((VALUE DIRECTORY) STRING)
\end{verbatim}

sets or returns the directory name used by default for new I/O \texttt{CHANNEL}s

\begin{verbatim}
SORT (PRED KEY-STRUC "OPTIONAL" (RECORD-LENGTH 1) (KEY-OFFSET 0)
                     "TUPLE" OTHER-STRUCS-AND-RECORD-LENGTHS)
 #DECL ((VALUE KEY-STRUC) <OR <PRIMTYPE VECTOR> <PRIMTYPE TUPLE> <PRIMTYPE UVECTOR>>
        (PRED) <OR FALSE APPLICABLE> (RECORD-LENGTH KEY-OFFSET) FIX
        (OTHER-STRUCS-AND-RECORD-LENGTHS)
        <TUPLE [REST <OR <PRIMTYPE VECTOR> <PRIMTYPE TUPLE> <PRIMTYPE UVECTOR>> FIX]>)
\end{verbatim}

sorts elements of a structure and rearranges other structures

\begin{verbatim}
SPECIAL-CHECK ("OPTIONAL" SWITCH)
 #DECL ((VALUE) <OR 'T '#FALSE ()>
        (SWITCH) <OR ANY FALSE>)
\end{verbatim}

turns interpreter special-checking on or off

\begin{verbatim}
SPECIAL-MODE ("OPTIONAL" SWITCH)
 #DECL ((VALUE) <OR 'SPECIAL 'UNSPECIAL>
        (SWITCH) <OR 'SPECIAL 'UNSPECIAL>)
\end{verbatim}

sets specialty declaration used by default

\begin{verbatim}
SPNAME (ATOM)
 #DECL ((VALUE) STRING
        (ATOM) ATOM)
\end{verbatim}

returns the print-name of an \texttt{ATOM} by sharing it

\begin{verbatim}
SQRT (NUMBER)
 #DECL ((VALUE) FLOAT
        (NUMBER) <OR FIX FLOAT>)
\end{verbatim}

returns square root of a number (arithmetic)

\begin{verbatim}
SQUOTA (SYMBOL)
 #DECL ((VALUE) <OR FIX '#FALSE ()>
        (SYMBOL) <PRIMTYPE WORD>)
\end{verbatim}

\index{\texttt{SQUOTA}} gets the address of an internal interpreter symbol (for internal use only)

\begin{verbatim}
STACKFORM ("ARGS" ARGS)
 #DECL ((VALUE) ANY
        (ARGS) LIST)
\end{verbatim}

applies a function to stacked arguments (archaic)

\begin{verbatim}
STATE (PROCESS)
 #DECL ((VALUE) ATOM
        (PROCESS) PROCESS)
\end{verbatim}

returns a \texttt{PROCESS}'s current state

\begin{verbatim}
STRCOMP (STRING-1 STRING-2)
 #DECL ((VALUE) <OR '1 '0 '-1>
        (STRING-1 STRING-2) <OR ATOM STRING>)
\end{verbatim}

compares two character-strings or two print-names

\begin{verbatim}
STRING ("TUPLE" ELEMENTS)
 #DECL ((VALUE) STRING
        (ELEMENTS) <TUPLE [REST <OR STRING CHARACTER>]>)
\end{verbatim}

creates a character-string from explicit arguments

\begin{verbatim}
STRUCTURED? (OBJECT)
 #DECL ((VALUE) <OR 'T '#FALSE ()>
        (OBJECT) ANY)
\end{verbatim}

tells whether an object is structured (predicate)

\begin{verbatim}
SUBSTITUTE (NEW OLD)
 #DECL ((VALUE OLD) ANY
        (NEW) ANY)
\end{verbatim}

substitutes one object for another in the entire address space

\begin{verbatim}
SUBSTRUC (FROM "OPTIONAL" (REST 0) (AMOUNT <- <LENGTH .OBJECT> .REST>) TO)
 #DECL ((VALUE TO) <OR LIST VECTOR UVECTOR STRING BYTES>
        (FROM) <OR <PRIMTYPE LIST> <PRIMTYPE VECTOR> <PRIMTYPE TUPLE>
                   <PRIMTYPE UVECTOR> <PRIMTYPE STRING> <PRIMTYPE BYTES>>
        (REST AMOUNT) FIX)
\end{verbatim}

copies (part of) a structure into another

\begin{verbatim}
SUICIDE (VAL "OPTIONAL" (PROCESS <RESUMER>))
 #DECL ((VALUE) ANY
        (VAL) ANY (PROCESS) PROCESS)
\end{verbatim}

causes the current \texttt{PROCESS} to die and resumes another

\begin{verbatim}
TAG (LABEL)
 #DECL ((VALUE) TAG
        (LABEL) ATOM)
\end{verbatim}

creates a \texttt{TAG} for use by \texttt{GO}

\begin{verbatim}
TERPRI ("OPTIONAL" (CHANNEL .OUTCHAN))
 #DECL ((VALUE) '#FALSE ()
        (CHANNEL) CHANNEL)
\end{verbatim}

prints a carriage-return and line-feed via an output \texttt{CHANNEL}

\begin{verbatim}
TIME ("TUPLE" IGNORED)
 #DECL ((VALUE) FLOAT
        (IGNORED) TUPLE)
\end{verbatim}

returns the elapsed execution time in seconds

\begin{verbatim}
TOP (STRUCTURE)
 #DECL ((VALUE) <OR VECTOR TUPLE UVECTOR STORAGE STRING BYTES TEMPLATE>
        (STRUCTURE) <OR <PRIMTYPE VECTOR> <PRIMTYPE TUPLE>
                        <PRIMTYPE UVECTOR> <PRIMTYPE STORAGE>
                        <PRIMTYPE STRING> <PRIMTYPE BYTES> <PRIMTYPE TEMPLATE>>)
\end{verbatim}

replaces all elements removed from a non-list structure by \texttt{REST}ing and changes to primitive data type

\begin{verbatim}
TTYECHO (CHANNEL SWITCH)
 #DECL ((VALUE CHANNEL) CHANNEL
        (SWITCH) <OR FALSE ANY>)
\end{verbatim}

turns echoing (of characters typed on a terminal) on or off

\begin{verbatim}
TUPLE ("TUPLE" ELEMENTS)
 #DECL ((VALUE) TUPLE
        (ELEMENTS) TUPLE)
\end{verbatim}

creates a \texttt{TUPLE} from explicit arguments

\begin{verbatim}
TYI ("OPTIONAL" CHANNEL)
 #DECL ((VALUE) CHARACTER
        (CHANNEL) CHANNEL)
\end{verbatim}

inputs a \texttt{CHARACTER} from a terminal immediately

\begin{verbatim}
TYPE (OBJECT)
 #DECL ((VALUE) ATOM
        (OBJECT) ANY)
\end{verbatim}

returns the data type of an object

\begin{verbatim}
TYPE-C (TYPE "OPTIONAL" PRIMTYPE)
 #DECL ((VALUE) TYPE-C
        (TYPE PRIMTYPE) ATOM)
\end{verbatim}

makes a data type code for pure-program use

\begin{verbatim}
TYPE-W (TYPE "OPTIONAL" PRIMTYPE RIGHT-HALF)
 #DECL ((VALUE) TYPE-W
        (TYPE PRIMTYPE) ATOM (RIGHT-HALF) <PRIMTYPE WORD>)
\end{verbatim}

makes a data-type machine word for pure-program use

\begin{verbatim}
TYPE? (OBJECT "TUPLE" TYPES)
 #DECL ((VALUE) <OR ATOM '#FALSE ()>
        (OBJECT) ANY (TYPES) <TUPLE ATOM [REST ATOM]>)
\end{verbatim}

tells whether an object's data type is one of the given types (predicate)

\begin{verbatim}
TYPEPRIM (TYPE)
 #DECL ((VALUE) ATOM
        (TYPE) ATOM)
\end{verbatim}

returns a data type's primitive type

\begin{verbatim}
UNAME ()
 #DECL ((VALUE) STRING)
\end{verbatim}

returns the ``user name'' of MDL's process

\begin{verbatim}
UNASSIGN (ATOM "OPTIONAL" ENV)
 #DECL ((VALUE ATOM) ATOM
        (ENV) <OR FRAME ENVIRONMENT ACTIVATION PROCESS>)
\end{verbatim}

causes an \texttt{ATOM} to have no local value

\begin{verbatim}
UNMANIFEST ("TUPLE" ATOMS)
 #DECL ((VALUE) 'T
        (ATOMS) <TUPLE [REST ATOM]>)
\end{verbatim}

declares the global values of \texttt{ATOM}s not to be constants

\begin{verbatim}
UNPARSE (OBJECT "OPTIONAL" RADIX)
 #DECL ((VALUE) STRING
        (OBJECT) ANY (RADIX) FIX)
\end{verbatim}

creates a \texttt{STRING} representation of an object

\begin{verbatim}
UNWIND ('NORMAL 'CLEAN-UP)
 #DECL ((VALUE) ANY
        (NORMAL CLEAN-UP) ANY)
\end{verbatim}

specifies cleaning-up during non-local return

\begin{verbatim}
UTYPE (UVECTOR)
 #DECL ((VALUE) ATOM
        (UVECTOR) <PRIMTYPE UVECTOR>)
\end{verbatim}

returns the data type of all elements of a uniform vector

\begin{verbatim}
UVECTOR ("TUPLE" ELEMENTS)
 #DECL ((VALUE) UVECTOR
        (ELEMENTS) TUPLE)
\end{verbatim}

creates a \texttt{UVECTOR} from explicit arguments

\begin{verbatim}
VALID-TYPE? (TYPE)
 #DECL ((VALUE) <OR TYPE-C '#FALSE ()>
        (TYPE) ATOM)
\end{verbatim}

tells whether an \texttt{ATOM} is the name of a type (predicate)

\begin{verbatim}
VALRET (MESSAGE)
 #DECL ((VALUE) '#FALSE ()
        (MESSAGE) <OR STRING FIX>)
\end{verbatim}

passes a message to the superior operating-system process

\begin{verbatim}
VALUE (ATOM "OPTIONAL" ENV)
 #DECL ((VALUE) ANY
        (ATOM) ATOM (ENV) <OR FRAME ENVIRONMENT ACTIVATION PROCESS>)
\end{verbatim}

returns the local or else the global value of an \texttt{ATOM}

\begin{verbatim}
VECTOR ("TUPLE" ELEMENTS)
 #DECL ((VALUE) VECTOR
        (ELEMENTS) TUPLE)
\end{verbatim}

creates a \texttt{VECTOR} from explicit arguments

\begin{verbatim}
XJNAME ()
 #DECL ((VALUE) STRING)
\end{verbatim}

returns the ``intended job name'' of MDL's process

\begin{verbatim}
XORB ("TUPLE" WORDS)
 #DECL ((VALUE) WORD
        (WORDS) <TUPLE [REST <PRIMTYPE WORD>]>)
\end{verbatim}

computes bitwise exclusive ``or'' of machine word:

\begin{verbatim}
XUNAME ()
 #DECL ((VALUE) STRING)
\end{verbatim}

returns the ``intended user name'' of MDL's process

\section{Appendix 3. Predefined Types}\label{appendix-3.-predefined-types}

On these two pages is a table showing each of MDL's predefined \texttt{TYPE}s, its primitive type if different, and various
flags: \texttt{S} for \texttt{STRUCTURED}, \texttt{E} for \texttt{EVALTYPE} not \texttt{QUOTE}, and \texttt{A} for
\texttt{APPLICABLE}.

\texttt{X} means that an object of that \texttt{TYPE} cannot be \texttt{CHTYPE}d to and hence cannot be \texttt{READ} in
(if attempted, a \texttt{CAN\textquotesingle{}T-CHTYPE-INTO} error is usual).

\texttt{B} means that an object of that \texttt{TYPE} cannot be \texttt{READ} in (if attempted, a
\texttt{STORAGE-TYPES-DIFFER} error is usual), that instead it is built by the interpreter or \texttt{CHTYPE}d to by a
program, and that its \texttt{PRINT}ed representation makes it look as though its \texttt{TYPEPRIM} were different.

\texttt{\%} means that an object of that \texttt{TYPE} is \texttt{PRINT}ed using \texttt{\%} notation and can be
\texttt{READ} in only that way.

\begin{longtable}[]{@{}lllllll@{}}
\toprule
\texttt{TYPE} & \texttt{TYPEPRIM} & \texttt{S} & \texttt{E} & \texttt{A} & & comments\tabularnewline
\midrule
\endhead
\texttt{ACTIVATION} & \texttt{FRAME} & & & & \texttt{X} &\tabularnewline
\texttt{ASOC} & & & & & \texttt{B} & sic: only one \texttt{S}\tabularnewline
\texttt{ATOM} & & & & & &\tabularnewline
\texttt{BITS} & \texttt{WORD} & & & & &\tabularnewline
\texttt{BYTES} & & \texttt{S} & & & &\tabularnewline
\texttt{CHANNEL} & \texttt{VECTOR} & \texttt{S} & & & \texttt{X} &\tabularnewline
\texttt{CHARACTER} & \texttt{WORD} & & & & &\tabularnewline
\texttt{CLOSURE} & \texttt{LIST} & \texttt{S} & & \texttt{A} & &\tabularnewline
\texttt{CODE} & \texttt{UVECTOR} & \texttt{S} & & & &\tabularnewline
\texttt{DECL} & \texttt{LIST} & \texttt{S} & & & &\tabularnewline
\texttt{DISMISS} & \texttt{ATOM} & & & & & can be returned by interrupt handler\tabularnewline
\texttt{ENVIRONMENT} & \texttt{FRAME} & & & & \texttt{B} &\tabularnewline
\texttt{FALSE} & \texttt{LIST} & \texttt{S} & & & &\tabularnewline
\texttt{FIX} & \texttt{WORD} & & & \texttt{A} & &\tabularnewline
\texttt{FLOAT} & \texttt{WORD} & & & & &\tabularnewline
\texttt{FORM} & \texttt{LIST} & \texttt{S} & \texttt{E} & & &\tabularnewline
\texttt{FRAME} & & & & & \texttt{B} &\tabularnewline
\texttt{FSUBR} & \texttt{WORD} & & & \texttt{A} & \texttt{X} &\tabularnewline
\texttt{FUNCTION} & \texttt{LIST} & \texttt{S} & & \texttt{A} & &\tabularnewline
\texttt{HANDLER} & \texttt{VECTOR} & \texttt{S} & & & \texttt{X} &\tabularnewline
\texttt{IHEADER} & \texttt{VECTOR} & \texttt{S} & & & \texttt{X} & ``interrupt header''\tabularnewline
\texttt{ILLEGAL} & \texttt{WORD} & & & & \texttt{X} & Garbage collector may put this on non-\texttt{LEGAL?}
object.\tabularnewline
\texttt{INTERNAL}\index{\texttt{INTERNAL}} & \texttt{INTERNAL-TYPE}\index{\texttt{INTERNAL-TYPE}} & & & & \texttt{X} &
should not be seen by programs\tabularnewline
\texttt{LINK} & \texttt{ATOM} & & & & \texttt{X} & for terminal shorthand\tabularnewline
\texttt{LIST} & & \texttt{S} & \texttt{E} & & &\tabularnewline
\texttt{LOCA} & & & & & \texttt{B} & locative to \texttt{TUPLE}\tabularnewline
\texttt{LOCAS} & & & & & \texttt{B} & locative to \texttt{ASOC}\tabularnewline
\texttt{LOCB} & & & & & \texttt{B} & locative to \texttt{BYTES}\tabularnewline
\texttt{LOCD} & & & & & \texttt{\%} & locative to G/LVAL\tabularnewline
\texttt{LOCL} & & & & & \texttt{B} & locative to \texttt{LIST}\tabularnewline
\texttt{LOCR} & & & & & \texttt{\%} & locative to \texttt{GVAL} in pure program\tabularnewline
\texttt{LOCS} & & & & & \texttt{B} & locative to \texttt{STRING}\tabularnewline
\texttt{LOCT} & & & & & \texttt{B} & locative to \texttt{TEMPLATE}\tabularnewline
\texttt{LOCU} & & & & & \texttt{B} & locative to \texttt{UVECTOR}\tabularnewline
\texttt{LOCV} & & & & & \texttt{B} & locative to \texttt{VECTOR}\tabularnewline
\texttt{LOSE} & \texttt{WORD} & & & & & a place holder\tabularnewline
\texttt{MACRO} & \texttt{LIST} & \texttt{S} & & \texttt{A} & &\tabularnewline
\texttt{OBLIST} & \texttt{UVECTOR} & \texttt{S} & & & \texttt{X} &\tabularnewline
\texttt{OFFSET} & \texttt{OFFSET} & & & \texttt{A} & \texttt{\%} &\tabularnewline
\texttt{PCODE} & \texttt{WORD} & & & & \texttt{\%} & ``pure code''\tabularnewline
\texttt{PRIMTYPE-C} & \texttt{WORD} & & & & \texttt{\%} & ``primtype code''\tabularnewline
\texttt{PROCESS} & & & & & \texttt{B} &\tabularnewline
\texttt{QUICK-ENTRY}\index{\texttt{QUICK-ENTRY}} & \texttt{VECTOR} & \texttt{S} & & \texttt{A} & \texttt{\%} & an
\texttt{RSUBR-ENTRY} that has been \texttt{QCALL}ed and \texttt{RSUBR-LINK}ed\tabularnewline
\texttt{QUICK-RSUBR}\index{\texttt{QUICK-RSUBR}} & \texttt{VECTOR} & \texttt{S} & & \texttt{A} & \texttt{\%/B} & an
\texttt{RSUBR} that has been \texttt{QCALL}ed and \texttt{RSUBR-LINK}ed\tabularnewline
\texttt{READA} & \texttt{FRAME} & & & & \texttt{X} & in eof slot during recursive \texttt{READ} via
\texttt{READ-TABLE}\tabularnewline
\texttt{RSUBR} & \texttt{VECTOR} & \texttt{S} & & \texttt{A} & \texttt{\%/B} & if code vector is pure/impure,
respectively\tabularnewline
\texttt{RSUBR-ENTRY} & \texttt{VECTOR} & \texttt{S} & & \texttt{A} & \texttt{\%} &\tabularnewline
\texttt{SEGMENT} & \texttt{LIST} & \texttt{S} & \texttt{E} & & &\tabularnewline
\texttt{SPLICE} & \texttt{LIST} & \texttt{S} & & & & for returning many things via \texttt{READ-TABLE}\tabularnewline
\texttt{STORAGE} & & \texttt{S} & & & & If possible, use \texttt{FREEZE} \texttt{SUBR} instead.\tabularnewline
\texttt{STRING} & & \texttt{S} & & & &\tabularnewline
\texttt{SUBR} & \texttt{WORD} & & & \texttt{A} & \texttt{X} &\tabularnewline
\texttt{TAG} & \texttt{VECTOR} & \texttt{S} & & & \texttt{X} & for non-local \texttt{GO}s\tabularnewline
\texttt{TEMPLATE} & & \texttt{S} & & & \texttt{B} & The interpreter itself can't build one. See Lebling
(1979).\tabularnewline
\texttt{TIME} & \texttt{WORD} & & & & & used internally to identify \texttt{FRAME}s\tabularnewline
\texttt{TUPLE} & & \texttt{S} & & & \texttt{B} & vector on the control stack\tabularnewline
\texttt{TYPE-C} & \texttt{WORD} & & & & \texttt{\%} & ``type code''\tabularnewline
\texttt{TYPE-W} & \texttt{WORD} & & & & \texttt{\%} & ``type word''\tabularnewline
\texttt{UNBOUND}\index{\texttt{UNBOUND}} & \texttt{WORD} & & & & \texttt{X} & value of unassigned but bound \texttt{ATOM},
as seen by locatives\tabularnewline
\texttt{UVECTOR} & & \texttt{S} & \texttt{E} & & & ``uniform vector''\tabularnewline
\texttt{VECTOR} & & \texttt{S} & \texttt{E} & & &\tabularnewline
\texttt{WORD} & & & & & &\tabularnewline
\bottomrule
\end{longtable}

\section{Appendix 4. Error Messages}\label{appendix-4.-error-messages}

This is a list of all error-naming ATOMs initially in the ERRORS OBLIST, in the left-hand column, and appropriate examples
or elucidations, where necessary, in the right-hand column.

\begin{longtable}[]{@{}ll@{}}
\toprule
\begin{minipage}[t]{0.58\columnwidth}\raggedright\strut
\texttt{ACCESS-FAILURE}\strut
\end{minipage} & \begin{minipage}[t]{0.36\columnwidth}\raggedright\strut
\texttt{ACCESS}, \texttt{RESTORE} (Tenex and Tops-20 versions only)\strut
\end{minipage}\tabularnewline
\begin{minipage}[t]{0.58\columnwidth}\raggedright\strut
\texttt{ALREADY-DEFINED-ERRET-NON-FALSE-TO-REDEFINE}\strut
\end{minipage} & \begin{minipage}[t]{0.36\columnwidth}\raggedright\strut
\strut
\end{minipage}\tabularnewline
\begin{minipage}[t]{0.58\columnwidth}\raggedright\strut
\texttt{APPLY-OR-STACKFORM-OF-FSUBR}\strut
\end{minipage} & \begin{minipage}[t]{0.36\columnwidth}\raggedright\strut
First argument to \texttt{APPLY}, \texttt{STACKFORM}, MAPF/R doesn't \texttt{EVAL} all its arguments.\strut
\end{minipage}\tabularnewline
\begin{minipage}[t]{0.58\columnwidth}\raggedright\strut
\texttt{ARG-WRONG-TYPE}\strut
\end{minipage} & \begin{minipage}[t]{0.36\columnwidth}\raggedright\strut
\strut
\end{minipage}\tabularnewline
\begin{minipage}[t]{0.58\columnwidth}\raggedright\strut
\texttt{ARGUMENT-OUT-OF-RANGE}\strut
\end{minipage} & \begin{minipage}[t]{0.36\columnwidth}\raggedright\strut
\texttt{\textless{}ASCII\ 999\textgreater{}\$} Second argument to \texttt{NTH} or \texttt{REST} too big or small.\strut
\end{minipage}\tabularnewline
\begin{minipage}[t]{0.58\columnwidth}\raggedright\strut
\texttt{ATOM-ALREADY-THERE}\strut
\end{minipage} & \begin{minipage}[t]{0.36\columnwidth}\raggedright\strut
\texttt{\textless{}INSERT\ "T"\ \textless{}ROOT\textgreater{}\textgreater{}\$}
\texttt{\textless{}LINK\ \textquotesingle{}T\ "T"\ \textless{}ROOT\textgreater{}\textgreater{}\$}\strut
\end{minipage}\tabularnewline
\begin{minipage}[t]{0.58\columnwidth}\raggedright\strut
\texttt{ATOM-NOT-TYPE-NAME-OR-SPECIAL-SYMBOL}\strut
\end{minipage} & \begin{minipage}[t]{0.36\columnwidth}\raggedright\strut
\texttt{DECL} problem\strut
\end{minipage}\tabularnewline
\begin{minipage}[t]{0.58\columnwidth}\raggedright\strut
\texttt{ATOM-ON-DIFFERENT-OBLIST}\strut
\end{minipage} & \begin{minipage}[t]{0.36\columnwidth}\raggedright\strut
\texttt{INSERT}, \texttt{LINK}, \texttt{REMOVE}\strut
\end{minipage}\tabularnewline
\begin{minipage}[t]{0.58\columnwidth}\raggedright\strut
\texttt{ATTEMPT-TO-BREAK-OWN-SEQUENCE}\strut
\end{minipage} & \begin{minipage}[t]{0.36\columnwidth}\raggedright\strut
\texttt{\textless{}BREAK-SEQ\ T\ \textless{}ME\textgreater{}\textgreater{}\$}\strut
\end{minipage}\tabularnewline
\begin{minipage}[t]{0.58\columnwidth}\raggedright\strut
\texttt{ATTEMPT-TO-CHANGE-MANIFEST-VARIABLE}\strut
\end{minipage} & \begin{minipage}[t]{0.36\columnwidth}\raggedright\strut
\strut
\end{minipage}\tabularnewline
\begin{minipage}[t]{0.58\columnwidth}\raggedright\strut
\texttt{ATTEMPT-TO-CLOSE-TTY-CHANNEL}\strut
\end{minipage} & \begin{minipage}[t]{0.36\columnwidth}\raggedright\strut
\texttt{\textless{}CLOSE\ ,INCHAN\textgreater{}\$}\strut
\end{minipage}\tabularnewline
\begin{minipage}[t]{0.58\columnwidth}\raggedright\strut
\texttt{ATTEMPT-TO-DEFER-UNDEFERABLE-INTERRUPT}\strut
\end{minipage} & \begin{minipage}[t]{0.36\columnwidth}\raggedright\strut
``Undeferable'' interrupt (e.g. \texttt{"ERROR"}) while \texttt{INT-LEVEL} is too high to handle it\strut
\end{minipage}\tabularnewline
\begin{minipage}[t]{0.58\columnwidth}\raggedright\strut
\texttt{ATTEMPT-TO-GROW-VECTOR-TOO-MUCH}\strut
\end{minipage} & \begin{minipage}[t]{0.36\columnwidth}\raggedright\strut
\texttt{GROW} argument greater than \texttt{\textless{}*\ 16\ 1024\textgreater{}}\strut
\end{minipage}\tabularnewline
\begin{minipage}[t]{0.58\columnwidth}\raggedright\strut
\texttt{ATTEMPT-TO-MUNG-ATOMS-PNAME}\strut
\end{minipage} & \begin{minipage}[t]{0.36\columnwidth}\raggedright\strut
\texttt{\textless{}PUT\ \textless{}SPNAME\ T\textgreater{}\ 1\ !\textbackslash{}T\textgreater{}\$}\strut
\end{minipage}\tabularnewline
\begin{minipage}[t]{0.58\columnwidth}\raggedright\strut
\texttt{ATTEMPT-TO-MUNG-PURE-STRUCTURE}\strut
\end{minipage} & \begin{minipage}[t]{0.36\columnwidth}\raggedright\strut
attempt to write into pure page\strut
\end{minipage}\tabularnewline
\begin{minipage}[t]{0.58\columnwidth}\raggedright\strut
\texttt{ATTEMPT-TO-SUICIDE-TO-SELF}\strut
\end{minipage} & \begin{minipage}[t]{0.36\columnwidth}\raggedright\strut
\texttt{\textless{}SUICIDE\ \textless{}ME\textgreater{}\textgreater{}\$}\strut
\end{minipage}\tabularnewline
\begin{minipage}[t]{0.58\columnwidth}\raggedright\strut
\texttt{BAD-ARGUMENT-LIST}\strut
\end{minipage} & \begin{minipage}[t]{0.36\columnwidth}\raggedright\strut
\texttt{\textless{}GDECL\ ("HI")\ STRING\textgreater{}\$}\strut
\end{minipage}\tabularnewline
\begin{minipage}[t]{0.58\columnwidth}\raggedright\strut
\texttt{BAD-ASCII-CHARACTER}\strut
\end{minipage} & \begin{minipage}[t]{0.36\columnwidth}\raggedright\strut
A character with wrong byte size or ASCII code more than 177 octal has been read (how?).\strut
\end{minipage}\tabularnewline
\begin{minipage}[t]{0.58\columnwidth}\raggedright\strut
\texttt{BAD-BYTES-DECL}\strut
\end{minipage} & \begin{minipage}[t]{0.36\columnwidth}\raggedright\strut
\strut
\end{minipage}\tabularnewline
\begin{minipage}[t]{0.58\columnwidth}\raggedright\strut
\texttt{BAD-CHANNEL}\strut
\end{minipage} & \begin{minipage}[t]{0.36\columnwidth}\raggedright\strut
\strut
\end{minipage}\tabularnewline
\begin{minipage}[t]{0.58\columnwidth}\raggedright\strut
\texttt{BAD-CLAUSE}\strut
\end{minipage} & \begin{minipage}[t]{0.36\columnwidth}\raggedright\strut
Argument to \texttt{COND} is non-\texttt{LIST} or empty \texttt{LIST}.\strut
\end{minipage}\tabularnewline
\begin{minipage}[t]{0.58\columnwidth}\raggedright\strut
\texttt{BAD-DECLARATION-LIST}\strut
\end{minipage} & \begin{minipage}[t]{0.36\columnwidth}\raggedright\strut
\texttt{DECL} in bad form\strut
\end{minipage}\tabularnewline
\begin{minipage}[t]{0.58\columnwidth}\raggedright\strut
\texttt{BAD-DEFAULT-OBLIST-SPECIFICATION}\strut
\end{minipage} & \begin{minipage}[t]{0.36\columnwidth}\raggedright\strut
bad use of \texttt{DEFAULT} in \texttt{LIST} of \texttt{OBLIST}s\strut
\end{minipage}\tabularnewline
\begin{minipage}[t]{0.58\columnwidth}\raggedright\strut
\texttt{BAD-ENTRY-BLOCK}\strut
\end{minipage} & \begin{minipage}[t]{0.36\columnwidth}\raggedright\strut
\texttt{RSUBR-ENTRY} does not point to good \texttt{RSUBR}.\strut
\end{minipage}\tabularnewline
\begin{minipage}[t]{0.58\columnwidth}\raggedright\strut
\texttt{BAD-ENVIRONMENT}\strut
\end{minipage} & \begin{minipage}[t]{0.36\columnwidth}\raggedright\strut
\strut
\end{minipage}\tabularnewline
\begin{minipage}[t]{0.58\columnwidth}\raggedright\strut
\texttt{BAD-FIXUPS}\strut
\end{minipage} & \begin{minipage}[t]{0.36\columnwidth}\raggedright\strut
\strut
\end{minipage}\tabularnewline
\begin{minipage}[t]{0.58\columnwidth}\raggedright\strut
\texttt{BAD-FUNARG}\strut
\end{minipage} & \begin{minipage}[t]{0.36\columnwidth}\raggedright\strut
\texttt{CLOSURE} in bad form\strut
\end{minipage}\tabularnewline
\begin{minipage}[t]{0.58\columnwidth}\raggedright\strut
\texttt{BAD-GC-READ-FILE}\strut
\end{minipage} & \begin{minipage}[t]{0.36\columnwidth}\raggedright\strut
\strut
\end{minipage}\tabularnewline
\begin{minipage}[t]{0.58\columnwidth}\raggedright\strut
\texttt{BAD-INPUT-BUFFER}\strut
\end{minipage} & \begin{minipage}[t]{0.36\columnwidth}\raggedright\strut
(for a \texttt{CHANNEL})\strut
\end{minipage}\tabularnewline
\begin{minipage}[t]{0.58\columnwidth}\raggedright\strut
\texttt{BAD-LINK}\strut
\end{minipage} & \begin{minipage}[t]{0.36\columnwidth}\raggedright\strut
\texttt{\textless{}GUNASSIGN\ \textless{}CHTYPE\ link\ ATOM\textgreater{}\textgreater{}}\strut
\end{minipage}\tabularnewline
\begin{minipage}[t]{0.58\columnwidth}\raggedright\strut
\texttt{BAD-MACRO-TABLE}\strut
\end{minipage} & \begin{minipage}[t]{0.36\columnwidth}\raggedright\strut
\texttt{.READ-TABLE} or \texttt{.PARSE-TABLE} is not a vector.\strut
\end{minipage}\tabularnewline
\begin{minipage}[t]{0.58\columnwidth}\raggedright\strut
\texttt{BAD-OBLIST-OR-LIST-THEREOF}\strut
\end{minipage} & \begin{minipage}[t]{0.36\columnwidth}\raggedright\strut
Alleged look-up list is not of \texttt{TYPE} \texttt{OBLIST} or \texttt{LIST}.\strut
\end{minipage}\tabularnewline
\begin{minipage}[t]{0.58\columnwidth}\raggedright\strut
\texttt{BAD-PARSE-STRING}\strut
\end{minipage} & \begin{minipage}[t]{0.36\columnwidth}\raggedright\strut
non-\texttt{STRING} argument to \texttt{PARSE}\strut
\end{minipage}\tabularnewline
\begin{minipage}[t]{0.58\columnwidth}\raggedright\strut
\texttt{BAD-PNAME}\strut
\end{minipage} & \begin{minipage}[t]{0.36\columnwidth}\raggedright\strut
attempt to output \texttt{ATOM} with missing or zero-length \texttt{PNAME}\strut
\end{minipage}\tabularnewline
\begin{minipage}[t]{0.58\columnwidth}\raggedright\strut
\texttt{BAD-PRIMTYPEC}\strut
\end{minipage} & \begin{minipage}[t]{0.36\columnwidth}\raggedright\strut
\strut
\end{minipage}\tabularnewline
\begin{minipage}[t]{0.58\columnwidth}\raggedright\strut
\texttt{BAD-TEMPLATE-DATA}\strut
\end{minipage} & \begin{minipage}[t]{0.36\columnwidth}\raggedright\strut
\strut
\end{minipage}\tabularnewline
\begin{minipage}[t]{0.58\columnwidth}\raggedright\strut
\texttt{BAD-TYPE-CODE}\strut
\end{minipage} & \begin{minipage}[t]{0.36\columnwidth}\raggedright\strut
\strut
\end{minipage}\tabularnewline
\begin{minipage}[t]{0.58\columnwidth}\raggedright\strut
\texttt{BAD-TYPE-NAME}\strut
\end{minipage} & \begin{minipage}[t]{0.36\columnwidth}\raggedright\strut
\texttt{ATOM} purports to be a \texttt{TYPE} but isn't.\strut
\end{minipage}\tabularnewline
\begin{minipage}[t]{0.58\columnwidth}\raggedright\strut
\texttt{BAD-TYPE-SPECIFICATION}\strut
\end{minipage} & \begin{minipage}[t]{0.36\columnwidth}\raggedright\strut
\texttt{DECL} problem\strut
\end{minipage}\tabularnewline
\begin{minipage}[t]{0.58\columnwidth}\raggedright\strut
\texttt{BAD-USE-OF-BYTE-STRING}\strut
\end{minipage} & \begin{minipage}[t]{0.36\columnwidth}\raggedright\strut
\texttt{\#3\$}\strut
\end{minipage}\tabularnewline
\begin{minipage}[t]{0.58\columnwidth}\raggedright\strut
\texttt{BAD-USE-OF-MACRO}\strut
\end{minipage} & \begin{minipage}[t]{0.36\columnwidth}\raggedright\strut
\strut
\end{minipage}\tabularnewline
\begin{minipage}[t]{0.58\columnwidth}\raggedright\strut
\texttt{BAD-USE-OF-SQUIGGLY-BRACKETS}\strut
\end{minipage} & \begin{minipage}[t]{0.36\columnwidth}\raggedright\strut
\texttt{\{\}\$}\strut
\end{minipage}\tabularnewline
\begin{minipage}[t]{0.58\columnwidth}\raggedright\strut
\texttt{BAD-VECTOR}\strut
\end{minipage} & \begin{minipage}[t]{0.36\columnwidth}\raggedright\strut
Bad argument to \texttt{RSUBR-ENTRY}\strut
\end{minipage}\tabularnewline
\begin{minipage}[t]{0.58\columnwidth}\raggedright\strut
\texttt{BYTE-SIZE-BAD}\strut
\end{minipage} & \begin{minipage}[t]{0.36\columnwidth}\raggedright\strut
\texttt{"NET"\ CHANNEL}\strut
\end{minipage}\tabularnewline
\begin{minipage}[t]{0.58\columnwidth}\raggedright\strut
\texttt{CANT-CHTYPE-INTO}\strut
\end{minipage} & \begin{minipage}[t]{0.36\columnwidth}\raggedright\strut
\texttt{\textless{}CHTYPE\ 1\ SUBR\textgreater{}\$}\strut
\end{minipage}\tabularnewline
\begin{minipage}[t]{0.58\columnwidth}\raggedright\strut
\texttt{CANT-FIND-TEMPLATE}\strut
\end{minipage} & \begin{minipage}[t]{0.36\columnwidth}\raggedright\strut
attempt to \texttt{GC-READ} a structure containing a \texttt{TEMPLATE} whose \texttt{TYPE} does not exist\strut
\end{minipage}\tabularnewline
\begin{minipage}[t]{0.58\columnwidth}\raggedright\strut
\texttt{CANT-OPEN-OUTPUT-FILE}\strut
\end{minipage} & \begin{minipage}[t]{0.36\columnwidth}\raggedright\strut
\texttt{SAVE}\strut
\end{minipage}\tabularnewline
\begin{minipage}[t]{0.58\columnwidth}\raggedright\strut
\texttt{CANT-RETRY-ENTRY-GONE}\strut
\end{minipage} & \begin{minipage}[t]{0.36\columnwidth}\raggedright\strut
attempt to \texttt{RETRY} a call to an \texttt{RSUBR-ENTRY} whose \texttt{RSUBR} cannot be found\strut
\end{minipage}\tabularnewline
\begin{minipage}[t]{0.58\columnwidth}\raggedright\strut
\texttt{CANT-SUBSTITUTE-WITH-STRING-OR-TUPLE-AND-OTHER}\strut
\end{minipage} & \begin{minipage}[t]{0.36\columnwidth}\raggedright\strut
\texttt{\textless{}SUBSTITUTE\ "T"\ T\textgreater{}\$}\strut
\end{minipage}\tabularnewline
\begin{minipage}[t]{0.58\columnwidth}\raggedright\strut
\texttt{CAN\textbackslash{}\textquotesingle{}T-PARSE}\strut
\end{minipage} & \begin{minipage}[t]{0.36\columnwidth}\raggedright\strut
\texttt{\textless{}PARSE\ ""\textgreater{}\$} \texttt{\textless{}PARSE\ ")"\textgreater{}\$}\strut
\end{minipage}\tabularnewline
\begin{minipage}[t]{0.58\columnwidth}\raggedright\strut
\texttt{CHANNEL-CLOSED}\strut
\end{minipage} & \begin{minipage}[t]{0.36\columnwidth}\raggedright\strut
\texttt{\textless{}READ\ \textless{}CLOSE\ channel\textgreater{}\textgreater{}\$}\strut
\end{minipage}\tabularnewline
\begin{minipage}[t]{0.58\columnwidth}\raggedright\strut
\texttt{CONTROL-G?}\strut
\end{minipage} & \begin{minipage}[t]{0.36\columnwidth}\raggedright\strut
\texttt{\^{}G}\strut
\end{minipage}\tabularnewline
\begin{minipage}[t]{0.58\columnwidth}\raggedright\strut
\texttt{COUNT-GREATER-THAN-STRING-SIZE}\strut
\end{minipage} & \begin{minipage}[t]{0.36\columnwidth}\raggedright\strut
\texttt{\textless{}PRINTSTRING\ ""\ ,OUTCHAN\ 1\textgreater{}\$}\strut
\end{minipage}\tabularnewline
\begin{minipage}[t]{0.58\columnwidth}\raggedright\strut
\texttt{DANGEROUS-INTERRUPT-NOT-HANDLED}\strut
\end{minipage} & \begin{minipage}[t]{0.36\columnwidth}\raggedright\strut
(See section 21.8.15.) (ITS version only)\strut
\end{minipage}\tabularnewline
\begin{minipage}[t]{0.58\columnwidth}\raggedright\strut
\texttt{DATA-CANT-GO-IN-UNIFORM-VECTOR}\strut
\end{minipage} & \begin{minipage}[t]{0.36\columnwidth}\raggedright\strut
\texttt{!{[}"STRING"{]}\$} \texttt{!{[}\textless{}FRAME\textgreater{}{]}\$}\strut
\end{minipage}\tabularnewline
\begin{minipage}[t]{0.58\columnwidth}\raggedright\strut
\texttt{DATA-CAN\textbackslash{}\textquotesingle{}T-GO-IN-STORAGE}\strut
\end{minipage} & \begin{minipage}[t]{0.36\columnwidth}\raggedright\strut
\texttt{FREEZE\ ISTORAGE}\strut
\end{minipage}\tabularnewline
\begin{minipage}[t]{0.58\columnwidth}\raggedright\strut
\texttt{DECL-ELEMENT-NOT-FORM-OR-ATOM}\strut
\end{minipage} & \begin{minipage}[t]{0.36\columnwidth}\raggedright\strut
\strut
\end{minipage}\tabularnewline
\begin{minipage}[t]{0.58\columnwidth}\raggedright\strut
\texttt{DECL-VIOLATION}\strut
\end{minipage} & \begin{minipage}[t]{0.36\columnwidth}\raggedright\strut
\strut
\end{minipage}\tabularnewline
\begin{minipage}[t]{0.58\columnwidth}\raggedright\strut
\texttt{DEVICE-OR-SNAME-DIFFERS}\strut
\end{minipage} & \begin{minipage}[t]{0.36\columnwidth}\raggedright\strut
\texttt{RENAME}\strut
\end{minipage}\tabularnewline
\begin{minipage}[t]{0.58\columnwidth}\raggedright\strut
\texttt{ELEMENT-TYPE-NOT-ATOM-FORM-OR-VECTOR}\strut
\end{minipage} & \begin{minipage}[t]{0.36\columnwidth}\raggedright\strut
\texttt{DECL} problem\strut
\end{minipage}\tabularnewline
\begin{minipage}[t]{0.58\columnwidth}\raggedright\strut
\texttt{EMPTY-FORM-IN-DECL}\strut
\end{minipage} & \begin{minipage}[t]{0.36\columnwidth}\raggedright\strut
\strut
\end{minipage}\tabularnewline
\begin{minipage}[t]{0.58\columnwidth}\raggedright\strut
\texttt{EMPTY-OR/PRIMTYPE-FORM}\strut
\end{minipage} & \begin{minipage}[t]{0.36\columnwidth}\raggedright\strut
\texttt{\textless{}OR\textgreater{}} or \texttt{\textless{}PRIMTYPE\textgreater{}} in \texttt{DECL}\strut
\end{minipage}\tabularnewline
\begin{minipage}[t]{0.58\columnwidth}\raggedright\strut
\texttt{EMPTY-STRING}\strut
\end{minipage} & \begin{minipage}[t]{0.36\columnwidth}\raggedright\strut
\texttt{\textless{}READSTRING\ ""\textgreater{}\$}\strut
\end{minipage}\tabularnewline
\begin{minipage}[t]{0.58\columnwidth}\raggedright\strut
\texttt{END-OF-FILE}\strut
\end{minipage} & \begin{minipage}[t]{0.36\columnwidth}\raggedright\strut
\strut
\end{minipage}\tabularnewline
\begin{minipage}[t]{0.58\columnwidth}\raggedright\strut
\texttt{ERRET-TYPE-NAME-DESIRED}\strut
\end{minipage} & \begin{minipage}[t]{0.36\columnwidth}\raggedright\strut
\strut
\end{minipage}\tabularnewline
\begin{minipage}[t]{0.58\columnwidth}\raggedright\strut
\texttt{ERROR-IN-COMPILED-CODE}\strut
\end{minipage} & \begin{minipage}[t]{0.36\columnwidth}\raggedright\strut
\strut
\end{minipage}\tabularnewline
\begin{minipage}[t]{0.58\columnwidth}\raggedright\strut
\texttt{FILE-NOT-FOUND}\strut
\end{minipage} & \begin{minipage}[t]{0.36\columnwidth}\raggedright\strut
\texttt{RESTORE}\strut
\end{minipage}\tabularnewline
\begin{minipage}[t]{0.58\columnwidth}\raggedright\strut
\texttt{FILE-SYSTEM-ERROR}\strut
\end{minipage} & \begin{minipage}[t]{0.36\columnwidth}\raggedright\strut
\strut
\end{minipage}\tabularnewline
\begin{minipage}[t]{0.58\columnwidth}\raggedright\strut
\texttt{FIRST-ARG-WRONG-TYPE}\strut
\end{minipage} & \begin{minipage}[t]{0.36\columnwidth}\raggedright\strut
\strut
\end{minipage}\tabularnewline
\begin{minipage}[t]{0.58\columnwidth}\raggedright\strut
\texttt{FIRST-ELEMENT-OF-VECTOR-NOT-CODE}\strut
\end{minipage} & \begin{minipage}[t]{0.36\columnwidth}\raggedright\strut
\texttt{RSUBR} in bad form.\strut
\end{minipage}\tabularnewline
\begin{minipage}[t]{0.58\columnwidth}\raggedright\strut
\texttt{FIRST-VECTOR-ELEMENT-NOT-REST-OR-A-FIX}\strut
\end{minipage} & \begin{minipage}[t]{0.36\columnwidth}\raggedright\strut
\texttt{\#DECL\ ((X)\ \textless{}LIST\ {[}FOO{]}\textgreater{})}\strut
\end{minipage}\tabularnewline
\begin{minipage}[t]{0.58\columnwidth}\raggedright\strut
\texttt{FRAME-NO-LONGER-EXISTS}\strut
\end{minipage} & \begin{minipage}[t]{0.36\columnwidth}\raggedright\strut
(unused)\strut
\end{minipage}\tabularnewline
\begin{minipage}[t]{0.58\columnwidth}\raggedright\strut
\texttt{HANDLER-ALREADY-IN-USE}\strut
\end{minipage} & \begin{minipage}[t]{0.36\columnwidth}\raggedright\strut
\strut
\end{minipage}\tabularnewline
\begin{minipage}[t]{0.58\columnwidth}\raggedright\strut
\texttt{HAS-EMPTY-BODY}\strut
\end{minipage} & \begin{minipage}[t]{0.36\columnwidth}\raggedright\strut
\texttt{\textless{}\#FUNCTION\ ((X))\ 1\textgreater{}\$}\strut
\end{minipage}\tabularnewline
\begin{minipage}[t]{0.58\columnwidth}\raggedright\strut
\texttt{ILLEGAL}\strut
\end{minipage} & \begin{minipage}[t]{0.36\columnwidth}\raggedright\strut
\strut
\end{minipage}\tabularnewline
\begin{minipage}[t]{0.58\columnwidth}\raggedright\strut
\texttt{ILLEGAL-ARGUMENT-BLOCK}\strut
\end{minipage} & \begin{minipage}[t]{0.36\columnwidth}\raggedright\strut
attempt to \texttt{PRINT} a \texttt{TUPLE} that no longer exists\strut
\end{minipage}\tabularnewline
\begin{minipage}[t]{0.58\columnwidth}\raggedright\strut
\texttt{ILLEGAL-FRAME}\strut
\end{minipage} & \begin{minipage}[t]{0.36\columnwidth}\raggedright\strut
\strut
\end{minipage}\tabularnewline
\begin{minipage}[t]{0.58\columnwidth}\raggedright\strut
\texttt{ILLEGAL-LOCATIVE}\strut
\end{minipage} & \begin{minipage}[t]{0.36\columnwidth}\raggedright\strut
\strut
\end{minipage}\tabularnewline
\begin{minipage}[t]{0.58\columnwidth}\raggedright\strut
\texttt{ILLEGAL-SEGMENT}\strut
\end{minipage} & \begin{minipage}[t]{0.36\columnwidth}\raggedright\strut
Third and later arguments to MAPF/R not \texttt{STRUCTURED}.\strut
\end{minipage}\tabularnewline
\begin{minipage}[t]{0.58\columnwidth}\raggedright\strut
\texttt{ILLEGAL-TENEX-FILE-NAME}\strut
\end{minipage} & \begin{minipage}[t]{0.36\columnwidth}\raggedright\strut
(Tenex and Tops-20 versions only)\strut
\end{minipage}\tabularnewline
\begin{minipage}[t]{0.58\columnwidth}\raggedright\strut
\texttt{INT-DEVICE-WRONG-TYPE-EVALUATION-RESULT}\strut
\end{minipage} & \begin{minipage}[t]{0.36\columnwidth}\raggedright\strut
function for \texttt{"INT"} input \texttt{CHANNEL} returned non-\texttt{CHARACTER}.\strut
\end{minipage}\tabularnewline
\begin{minipage}[t]{0.58\columnwidth}\raggedright\strut
\texttt{INTERNAL-BACK-OR-TOP-OF-A-LIST}\strut
\end{minipage} & \begin{minipage}[t]{0.36\columnwidth}\raggedright\strut
in compiled code\strut
\end{minipage}\tabularnewline
\begin{minipage}[t]{0.58\columnwidth}\raggedright\strut
\texttt{INTERNAL-INTERRUPT}\strut
\end{minipage} & \begin{minipage}[t]{0.36\columnwidth}\raggedright\strut
(unused)\strut
\end{minipage}\tabularnewline
\begin{minipage}[t]{0.58\columnwidth}\raggedright\strut
\texttt{INTERRUPT-UNAVAILABLE-ON-TENEX}\strut
\end{minipage} & \begin{minipage}[t]{0.36\columnwidth}\raggedright\strut
(Tenex and Tops-20 versions only)\strut
\end{minipage}\tabularnewline
\begin{minipage}[t]{0.58\columnwidth}\raggedright\strut
\texttt{ITS-CHANNELS-EXHAUSTED}\strut
\end{minipage} & \begin{minipage}[t]{0.36\columnwidth}\raggedright\strut
Interpreter couldn't open an ITS I/O channel.\strut
\end{minipage}\tabularnewline
\begin{minipage}[t]{0.58\columnwidth}\raggedright\strut
\texttt{MEANINGLESS-PARAMETER-DECLARATION}\strut
\end{minipage} & \begin{minipage}[t]{0.36\columnwidth}\raggedright\strut
bad object in argument \texttt{LIST} of Function\strut
\end{minipage}\tabularnewline
\begin{minipage}[t]{0.58\columnwidth}\raggedright\strut
\texttt{MESSAGE-TOO-BIG}\strut
\end{minipage} & \begin{minipage}[t]{0.36\columnwidth}\raggedright\strut
IPC (ITS version only)\strut
\end{minipage}\tabularnewline
\begin{minipage}[t]{0.58\columnwidth}\raggedright\strut
\texttt{MUDDLE-VERSIONS-DIFFER}\strut
\end{minipage} & \begin{minipage}[t]{0.36\columnwidth}\raggedright\strut
\texttt{RESTORE} (version = release)\strut
\end{minipage}\tabularnewline
\begin{minipage}[t]{0.58\columnwidth}\raggedright\strut
\texttt{NEGATIVE-ARGUMENT}\strut
\end{minipage} & \begin{minipage}[t]{0.36\columnwidth}\raggedright\strut
\strut
\end{minipage}\tabularnewline
\begin{minipage}[t]{0.58\columnwidth}\raggedright\strut
\texttt{NIL-LIST-OF-OBLISTS}\strut
\end{minipage} & \begin{minipage}[t]{0.36\columnwidth}\raggedright\strut
\texttt{\textless{}SET\ OBLIST\ \textquotesingle{}()\textgreater{}\ T\$}\strut
\end{minipage}\tabularnewline
\begin{minipage}[t]{0.58\columnwidth}\raggedright\strut
\texttt{NO-FIXUP-FILE}\strut
\end{minipage} & \begin{minipage}[t]{0.36\columnwidth}\raggedright\strut
MDL couldn't find fixup file (section 19.9).\strut
\end{minipage}\tabularnewline
\begin{minipage}[t]{0.58\columnwidth}\raggedright\strut
\texttt{NO-ITS-CHANNELS-FREE}\strut
\end{minipage} & \begin{minipage}[t]{0.36\columnwidth}\raggedright\strut
\texttt{IPC-ON} (ITS version only)\strut
\end{minipage}\tabularnewline
\begin{minipage}[t]{0.58\columnwidth}\raggedright\strut
\texttt{NO-MORE-PAGES}\strut
\end{minipage} & \begin{minipage}[t]{0.36\columnwidth}\raggedright\strut
for pure-code mapping\strut
\end{minipage}\tabularnewline
\begin{minipage}[t]{0.58\columnwidth}\raggedright\strut
\texttt{NO-PROCESS-TO-RESUME}\strut
\end{minipage} & \begin{minipage}[t]{0.36\columnwidth}\raggedright\strut
\texttt{\textless{}OR\ \textless{}RESUMER\textgreater{}\ \textless{}RESUME\textgreater{}\textgreater{}\$}\strut
\end{minipage}\tabularnewline
\begin{minipage}[t]{0.58\columnwidth}\raggedright\strut
\texttt{NO-ROOM-AVAILABLE}\strut
\end{minipage} & \begin{minipage}[t]{0.36\columnwidth}\raggedright\strut
MDL couldn't allocate a page to map in pure code.\strut
\end{minipage}\tabularnewline
\begin{minipage}[t]{0.58\columnwidth}\raggedright\strut
\texttt{NO-SAV-FILE}\strut
\end{minipage} & \begin{minipage}[t]{0.36\columnwidth}\raggedright\strut
MDL couldn't find pure-code file (section 19.9).\strut
\end{minipage}\tabularnewline
\begin{minipage}[t]{0.58\columnwidth}\raggedright\strut
\texttt{NO-STORAGE}\strut
\end{minipage} & \begin{minipage}[t]{0.36\columnwidth}\raggedright\strut
No free storage available for \texttt{GROW}.\strut
\end{minipage}\tabularnewline
\begin{minipage}[t]{0.58\columnwidth}\raggedright\strut
\texttt{NON-6-BIT-CHARACTER-IN-FILE-NAME}\strut
\end{minipage} & \begin{minipage}[t]{0.36\columnwidth}\raggedright\strut
\strut
\end{minipage}\tabularnewline
\begin{minipage}[t]{0.58\columnwidth}\raggedright\strut
\texttt{NON-APPLICABLE-REP}\strut
\end{minipage} & \begin{minipage}[t]{0.36\columnwidth}\raggedright\strut
\texttt{\textless{}VALUE\ REP\textgreater{}} not \texttt{APPLICABLE}\strut
\end{minipage}\tabularnewline
\begin{minipage}[t]{0.58\columnwidth}\raggedright\strut
\texttt{NON-APPLICABLE-TYPE}\strut
\end{minipage} & \begin{minipage}[t]{0.36\columnwidth}\raggedright\strut
\strut
\end{minipage}\tabularnewline
\begin{minipage}[t]{0.58\columnwidth}\raggedright\strut
\texttt{NON-ATOMIC-ARGUMENT}\strut
\end{minipage} & \begin{minipage}[t]{0.36\columnwidth}\raggedright\strut
\strut
\end{minipage}\tabularnewline
\begin{minipage}[t]{0.58\columnwidth}\raggedright\strut
\texttt{NON-ATOMIC-OBLIST-NAME}\strut
\end{minipage} & \begin{minipage}[t]{0.36\columnwidth}\raggedright\strut
\texttt{T!-3\$}\strut
\end{minipage}\tabularnewline
\begin{minipage}[t]{0.58\columnwidth}\raggedright\strut
\texttt{NON-DSK-DEVICE}\strut
\end{minipage} & \begin{minipage}[t]{0.36\columnwidth}\raggedright\strut
(unused)\strut
\end{minipage}\tabularnewline
\begin{minipage}[t]{0.58\columnwidth}\raggedright\strut
\texttt{NON-EVALUATEABLE-TYPE}\strut
\end{minipage} & \begin{minipage}[t]{0.36\columnwidth}\raggedright\strut
(unused)\strut
\end{minipage}\tabularnewline
\begin{minipage}[t]{0.58\columnwidth}\raggedright\strut
\texttt{NON-EXISTENT-TAG}\strut
\end{minipage} & \begin{minipage}[t]{0.36\columnwidth}\raggedright\strut
(unused)\strut
\end{minipage}\tabularnewline
\begin{minipage}[t]{0.58\columnwidth}\raggedright\strut
\texttt{NON-STRUCTURED-ARG-TO-INTERNAL-PUT-REST-NTH-TOP-OR-BACK}\strut
\end{minipage} & \begin{minipage}[t]{0.36\columnwidth}\raggedright\strut
in compiled code\strut
\end{minipage}\tabularnewline
\begin{minipage}[t]{0.58\columnwidth}\raggedright\strut
\texttt{NON-TYPE-FOR-PRIMTYPE-ARG}\strut
\end{minipage} & \begin{minipage}[t]{0.36\columnwidth}\raggedright\strut
\texttt{\textless{}PRIMTYPE\ not-type\textgreater{}} in \texttt{DECL}\strut
\end{minipage}\tabularnewline
\begin{minipage}[t]{0.58\columnwidth}\raggedright\strut
\texttt{NOT-A-TTY-TYPE-CHANNEL}\strut
\end{minipage} & \begin{minipage}[t]{0.36\columnwidth}\raggedright\strut
\strut
\end{minipage}\tabularnewline
\begin{minipage}[t]{0.58\columnwidth}\raggedright\strut
\texttt{NOT-HANDLED}\strut
\end{minipage} & \begin{minipage}[t]{0.36\columnwidth}\raggedright\strut
First argument to \texttt{OFF} not \texttt{ON}ed.\strut
\end{minipage}\tabularnewline
\begin{minipage}[t]{0.58\columnwidth}\raggedright\strut
\texttt{NOT-IN-ARG-LIST}\strut
\end{minipage} & \begin{minipage}[t]{0.36\columnwidth}\raggedright\strut
\texttt{TUPLE} or \texttt{ITUPLE} called outside argument \texttt{LIST}.\strut
\end{minipage}\tabularnewline
\begin{minipage}[t]{0.58\columnwidth}\raggedright\strut
\texttt{NOT-IN-MAP-FUNCTION}\strut
\end{minipage} & \begin{minipage}[t]{0.36\columnwidth}\raggedright\strut
\texttt{MAPRET}, \texttt{MAPLEAVE}, \texttt{MAPSTOP} not within MAPF/R\strut
\end{minipage}\tabularnewline
\begin{minipage}[t]{0.58\columnwidth}\raggedright\strut
\texttt{NOT-IN-PROG}\strut
\end{minipage} & \begin{minipage}[t]{0.36\columnwidth}\raggedright\strut
\texttt{\textless{}RETURN\textgreater{}\$} \texttt{\textless{}AGAIN\textgreater{}\$}\strut
\end{minipage}\tabularnewline
\begin{minipage}[t]{0.58\columnwidth}\raggedright\strut
\texttt{NTH-BY-A-NEGATIVE-NUMBER}\strut
\end{minipage} & \begin{minipage}[t]{0.36\columnwidth}\raggedright\strut
in compiled code\strut
\end{minipage}\tabularnewline
\begin{minipage}[t]{0.58\columnwidth}\raggedright\strut
\texttt{NTH-REST-PUT-OUT-OF-RANGE}\strut
\end{minipage} & \begin{minipage}[t]{0.36\columnwidth}\raggedright\strut
in compiled code\strut
\end{minipage}\tabularnewline
\begin{minipage}[t]{0.58\columnwidth}\raggedright\strut
\texttt{NULL-STRING}\strut
\end{minipage} & \begin{minipage}[t]{0.36\columnwidth}\raggedright\strut
zero-length \texttt{STRING}\strut
\end{minipage}\tabularnewline
\begin{minipage}[t]{0.58\columnwidth}\raggedright\strut
\texttt{NUMBER-OUT-OF-RANGE}\strut
\end{minipage} & \begin{minipage}[t]{0.36\columnwidth}\raggedright\strut
\texttt{2E38\$}\strut
\end{minipage}\tabularnewline
\begin{minipage}[t]{0.58\columnwidth}\raggedright\strut
\texttt{ON-AN-OBLIST-ALREADY}\strut
\end{minipage} & \begin{minipage}[t]{0.36\columnwidth}\raggedright\strut
\texttt{\textless{}INSERT\ T\ \textless{}ROOT\textgreater{}\textgreater{}\$}\strut
\end{minipage}\tabularnewline
\begin{minipage}[t]{0.58\columnwidth}\raggedright\strut
\texttt{OUT-OF-BOUNDS}\strut
\end{minipage} & \begin{minipage}[t]{0.36\columnwidth}\raggedright\strut
\texttt{\textless{}1\ \textquotesingle{}()\textgreater{}\$} \texttt{BLOAT} argument too large\strut
\end{minipage}\tabularnewline
\begin{minipage}[t]{0.58\columnwidth}\raggedright\strut
\texttt{OVERFLOW}\strut
\end{minipage} & \begin{minipage}[t]{0.36\columnwidth}\raggedright\strut
\texttt{\textless{}/\ 1\ 0\textgreater{}\$} \texttt{\textless{}*\ 1E30\ 1E30\textgreater{}\$}\strut
\end{minipage}\tabularnewline
\begin{minipage}[t]{0.58\columnwidth}\raggedright\strut
\texttt{PDL-OVERFLOW-BUFFER-EXHAUSTED}\strut
\end{minipage} & \begin{minipage}[t]{0.36\columnwidth}\raggedright\strut
Stack overflow while trying to expand stack: use \texttt{RETRY}.\strut
\end{minipage}\tabularnewline
\begin{minipage}[t]{0.58\columnwidth}\raggedright\strut
\texttt{PROCESS-NOT-RESUMABLE}\strut
\end{minipage} & \begin{minipage}[t]{0.36\columnwidth}\raggedright\strut
use of another \texttt{PROCESS}'s \texttt{FRAME}, etc.\strut
\end{minipage}\tabularnewline
\begin{minipage}[t]{0.58\columnwidth}\raggedright\strut
\texttt{PROCESS-NOT-RUNABLE-OR-RESUMABLE}\strut
\end{minipage} & \begin{minipage}[t]{0.36\columnwidth}\raggedright\strut
\strut
\end{minipage}\tabularnewline
\begin{minipage}[t]{0.58\columnwidth}\raggedright\strut
\texttt{PURE-LOAD-FAILURE}\strut
\end{minipage} & \begin{minipage}[t]{0.36\columnwidth}\raggedright\strut
Pure-code file disappeared.\strut
\end{minipage}\tabularnewline
\begin{minipage}[t]{0.58\columnwidth}\raggedright\strut
\texttt{READER-SYNTAX-ERROR-ERRET-ANYTHING-TO-GO-ON}\strut
\end{minipage} & \begin{minipage}[t]{0.36\columnwidth}\raggedright\strut
\strut
\end{minipage}\tabularnewline
\begin{minipage}[t]{0.58\columnwidth}\raggedright\strut
\texttt{RSUBR-ENTRY-UNLINKED}\strut
\end{minipage} & \begin{minipage}[t]{0.36\columnwidth}\raggedright\strut
\texttt{RSUBR-ENTRY} whose \texttt{RSUBR} cannot be found\strut
\end{minipage}\tabularnewline
\begin{minipage}[t]{0.58\columnwidth}\raggedright\strut
\texttt{RSUBR-IN-BAD-FORMAT}\strut
\end{minipage} & \begin{minipage}[t]{0.36\columnwidth}\raggedright\strut
\strut
\end{minipage}\tabularnewline
\begin{minipage}[t]{0.58\columnwidth}\raggedright\strut
\texttt{RSUBR-LACKS-FIXUPS}\strut
\end{minipage} & \begin{minipage}[t]{0.36\columnwidth}\raggedright\strut
\texttt{KEEP-FIXUPS} should have been true when \texttt{RSUBR} was input.\strut
\end{minipage}\tabularnewline
\begin{minipage}[t]{0.58\columnwidth}\raggedright\strut
\texttt{SECOND-ARG-WRONG-TYPE}\strut
\end{minipage} & \begin{minipage}[t]{0.36\columnwidth}\raggedright\strut
\strut
\end{minipage}\tabularnewline
\begin{minipage}[t]{0.58\columnwidth}\raggedright\strut
\texttt{STORAGE-TYPES-DIFFER}\strut
\end{minipage} & \begin{minipage}[t]{0.36\columnwidth}\raggedright\strut
\texttt{\textless{}CHTYPE\ 1\ LIST\textgreater{}\$}
\texttt{\textless{}CHUTYPE\ \textquotesingle{}!{[}1{]}\ LIST\textgreater{}\$}\strut
\end{minipage}\tabularnewline
\begin{minipage}[t]{0.58\columnwidth}\raggedright\strut
\texttt{STRUCTURE-CONTAINS-UNDUMPABLE-TYPE}\strut
\end{minipage} & \begin{minipage}[t]{0.36\columnwidth}\raggedright\strut
\texttt{\textless{}GC-DUMP\ \textless{}ME\textgreater{}\ \textless{}\textgreater{}\textgreater{}\$}\strut
\end{minipage}\tabularnewline
\begin{minipage}[t]{0.58\columnwidth}\raggedright\strut
\texttt{SUBSTITUTE-TYPE-FOR-TYPE}\strut
\end{minipage} & \begin{minipage}[t]{0.36\columnwidth}\raggedright\strut
\texttt{\textless{}SUBSTITUTE\ SUBR\ FSUBR\textgreater{}\$}\strut
\end{minipage}\tabularnewline
\begin{minipage}[t]{0.58\columnwidth}\raggedright\strut
\texttt{TEMPLATE-TYPE-NAME-NOT-OF-TYPE-TEMPLATE}\strut
\end{minipage} & \begin{minipage}[t]{0.36\columnwidth}\raggedright\strut
attempt to \texttt{GC-READ} a structure containing a \texttt{TEMPLATE} whose \texttt{TYPE} is defined but is not a
\texttt{TEMPLATE}\strut
\end{minipage}\tabularnewline
\begin{minipage}[t]{0.58\columnwidth}\raggedright\strut
\texttt{TEMPLATE-TYPE-VIOLATION}\strut
\end{minipage} & \begin{minipage}[t]{0.36\columnwidth}\raggedright\strut
\strut
\end{minipage}\tabularnewline
\begin{minipage}[t]{0.58\columnwidth}\raggedright\strut
\texttt{THIRD-ARG-WRONG-TYPE}\strut
\end{minipage} & \begin{minipage}[t]{0.36\columnwidth}\raggedright\strut
\strut
\end{minipage}\tabularnewline
\begin{minipage}[t]{0.58\columnwidth}\raggedright\strut
\texttt{TOO-FEW-ARGUMENTS-SUPPLIED}\strut
\end{minipage} & \begin{minipage}[t]{0.36\columnwidth}\raggedright\strut
\strut
\end{minipage}\tabularnewline
\begin{minipage}[t]{0.58\columnwidth}\raggedright\strut
\texttt{TOO-MANY-ARGS-TO-PRIMTYPE-DECL}\strut
\end{minipage} & \begin{minipage}[t]{0.36\columnwidth}\raggedright\strut
\texttt{\textless{}PRIMTYPE\ any\ ...\textgreater{}}\strut
\end{minipage}\tabularnewline
\begin{minipage}[t]{0.58\columnwidth}\raggedright\strut
\texttt{TOO-MANY-ARGS-TO-SPECIAL-UNSPECIAL-DECL}\strut
\end{minipage} & \begin{minipage}[t]{0.36\columnwidth}\raggedright\strut
\texttt{\textless{}SPECIAL\ any\ ...\textgreater{}}\strut
\end{minipage}\tabularnewline
\begin{minipage}[t]{0.58\columnwidth}\raggedright\strut
\texttt{TOO-MANY-ARGUMENTS-SUPPLIED}\strut
\end{minipage} & \begin{minipage}[t]{0.36\columnwidth}\raggedright\strut
\strut
\end{minipage}\tabularnewline
\begin{minipage}[t]{0.58\columnwidth}\raggedright\strut
\texttt{TOP-LEVEL-FRAME}\strut
\end{minipage} & \begin{minipage}[t]{0.36\columnwidth}\raggedright\strut
\texttt{\textless{}ERRET\textgreater{}\ \textless{}FRAME\ \textless{}FRAME\ \textless{}FRAME\textgreater{}\textgreater{}\textgreater{}\$}\strut
\end{minipage}\tabularnewline
\begin{minipage}[t]{0.58\columnwidth}\raggedright\strut
\texttt{TYPE-ALREADY-EXISTS}\strut
\end{minipage} & \begin{minipage}[t]{0.36\columnwidth}\raggedright\strut
\texttt{NEWTYPE}\strut
\end{minipage}\tabularnewline
\begin{minipage}[t]{0.58\columnwidth}\raggedright\strut
\texttt{TYPE-MISMATCH}\strut
\end{minipage} & \begin{minipage}[t]{0.36\columnwidth}\raggedright\strut
attempt to make a value violate its \texttt{DECL}\strut
\end{minipage}\tabularnewline
\begin{minipage}[t]{0.58\columnwidth}\raggedright\strut
\texttt{TYPE-UNDEFINED}\strut
\end{minipage} & \begin{minipage}[t]{0.36\columnwidth}\raggedright\strut
\strut
\end{minipage}\tabularnewline
\begin{minipage}[t]{0.58\columnwidth}\raggedright\strut
\texttt{TYPES-DIFFER-IN-STORAGE-OBJECT}\strut
\end{minipage} & \begin{minipage}[t]{0.36\columnwidth}\raggedright\strut
\texttt{ISTORAGE}\strut
\end{minipage}\tabularnewline
\begin{minipage}[t]{0.58\columnwidth}\raggedright\strut
\texttt{TYPES-DIFFER-IN-UNIFORM-VECTOR}\strut
\end{minipage} & \begin{minipage}[t]{0.36\columnwidth}\raggedright\strut
\texttt{!{[}T\ \textless{}\textgreater{}{]}\$}\strut
\end{minipage}\tabularnewline
\begin{minipage}[t]{0.58\columnwidth}\raggedright\strut
\texttt{UNASSIGNED-VARIABLE}\strut
\end{minipage} & \begin{minipage}[t]{0.36\columnwidth}\raggedright\strut
\strut
\end{minipage}\tabularnewline
\begin{minipage}[t]{0.58\columnwidth}\raggedright\strut
\texttt{UNATTACHED-PATH-NAME-SEPARATOR}\strut
\end{minipage} & \begin{minipage}[t]{0.36\columnwidth}\raggedright\strut
\texttt{!-\$}\strut
\end{minipage}\tabularnewline
\begin{minipage}[t]{0.58\columnwidth}\raggedright\strut
\texttt{UNBOUND-VARIABLE}\strut
\end{minipage} & \begin{minipage}[t]{0.36\columnwidth}\raggedright\strut
\strut
\end{minipage}\tabularnewline
\begin{minipage}[t]{0.58\columnwidth}\raggedright\strut
\texttt{UNMATCHED}\strut
\end{minipage} & \begin{minipage}[t]{0.36\columnwidth}\raggedright\strut
\texttt{ENDBLOCK} with no matching \texttt{BLOCK}\strut
\end{minipage}\tabularnewline
\begin{minipage}[t]{0.58\columnwidth}\raggedright\strut
\texttt{UVECTOR-PUT-TYPE-VIOLATION}\strut
\end{minipage} & \begin{minipage}[t]{0.36\columnwidth}\raggedright\strut
\texttt{PUT}, \texttt{SETLOC}, \texttt{SUBSTRUC} in compiled code\strut
\end{minipage}\tabularnewline
\begin{minipage}[t]{0.58\columnwidth}\raggedright\strut
\texttt{VECTOR-LESS-THAN-2-ELEMENTS}\strut
\end{minipage} & \begin{minipage}[t]{0.36\columnwidth}\raggedright\strut
\texttt{\#DECL\ ((X)\ \textless{}LIST\ {[}REST{]}\textgreater{})}\strut
\end{minipage}\tabularnewline
\begin{minipage}[t]{0.58\columnwidth}\raggedright\strut
\texttt{WRONG-DIRECTION-CHANNEL}\strut
\end{minipage} & \begin{minipage}[t]{0.36\columnwidth}\raggedright\strut
\texttt{\textless{}OPEN\ "MYFILE"\textgreater{}\$} (Mode missing or misspelt.)\strut
\end{minipage}\tabularnewline
\begin{minipage}[t]{0.58\columnwidth}\raggedright\strut
\texttt{WRONG-NUMBER-OF-ARGUMENTS}\strut
\end{minipage} & \begin{minipage}[t]{0.36\columnwidth}\raggedright\strut
\strut
\end{minipage}\tabularnewline
\bottomrule
\end{longtable}

\section{Appendix 5. Initial Settings}\label{appendix-5.-initial-settings}

The various switches and useful variables in MDL are initially set up with the following values: \index{\texttt{DEV}}
\index{\texttt{INITIAL}} \index{\texttt{KEEP-FIXUPS}} \index{\texttt{NM1}} \index{\texttt{NM2}} \index{\texttt{REDEFINE}}
\index{\texttt{RSUBR-LINK}} \index{\texttt{SNM}}

\begin{verbatim}
<ACTIVATE-CHARS <STRING <ASCII 7> <ASCII 19> <ASCII 15>>>
                      ;"Tenex and Tops-20 versions only"
<DECL-CHECK T>
<UNASSIGN <GUNASSIGN DEV>>
<GC-MON <>>
<SET INCHAN <SETG INCHAN <OPEN "READ" "TTY:">>>
<UNASSIGN KEEP-FIXUPS>
<UNASSIGN <GUNASSIGN NM1>>
<UNASSIGN <GUNASSIGN NM2>>
<SET OBLIST <SETG OBLIST (<MOBLIST INITIAL 151> <ROOT>)>>
<SET OUTCHAN <SETG OUTCHAN <OPEN "PRINT" "TTY:">>>
<OVERFLOW T>
<UNASSIGN REDEFINE>
<RSUBR-LINK T>
<SETG <UNASSIGN SNM> "working-directory">
<SPECIAL-CHECK <>>
<SPECIAL-MODE UNSPECIAL>
<SET THIS-PROCESS <SETG THIS-PROCESS <MAIN>>>
<ON "CHAR" ,QUITTER 8 0 ,INCHAN>
<ON "IPC" ,IPC-HANDLER 1>               ;"ITS version only"
\end{verbatim}

\section{References}\label{references}

Hewitt, Carl, \emph{Planner: A Language for Manipulating Models and Proving Theorems in a Robot}, Proc. International Joint
Conference on Artificial Intelligence, May 1969.

Lebling, P. David, \emph{The MDL Programming Environment}, Laboratory for Computer Science, M.I.T., 1979.

Moon, David A., \emph{MACLISP Reference Manual}, Laboratory for Computer Science, M.I.T., April 1974.

\section{Topic Index}\label{topic-index}

Parenthesized words refer to other items in this index.

\begin{longtable}[]{@{}ll@{}}
\toprule
\begin{minipage}[t]{0.11\columnwidth}\raggedright\strut
arguments\strut
\end{minipage} & \begin{minipage}[t]{0.83\columnwidth}\raggedright\strut
\texttt{"OPTIONAL"} \texttt{"TUPLE"} \texttt{"ARGS"} (parameter)\strut
\end{minipage}\tabularnewline
\begin{minipage}[t]{0.11\columnwidth}\raggedright\strut
arithmetic\strut
\end{minipage} & \begin{minipage}[t]{0.83\columnwidth}\raggedright\strut
\texttt{+} \texttt{-} \texttt{*} \texttt{/} \texttt{ABS} \texttt{EXP} \texttt{LOG} \texttt{SIN} \texttt{COS} \texttt{ATAN}
\texttt{MIN} \texttt{MAX} \texttt{RANDOM} \texttt{0?} \texttt{1?} \texttt{==?} \texttt{L?} \texttt{G?} \texttt{L=?}
\texttt{G=?} \texttt{N==?}\strut
\end{minipage}\tabularnewline
\begin{minipage}[t]{0.11\columnwidth}\raggedright\strut
array\strut
\end{minipage} & \begin{minipage}[t]{0.83\columnwidth}\raggedright\strut
\texttt{VECTOR} \texttt{UVECTOR} \texttt{TUPLE} \texttt{STRING} \texttt{BYTES} \texttt{TEMPLATE}\strut
\end{minipage}\tabularnewline
\begin{minipage}[t]{0.11\columnwidth}\raggedright\strut
assignment\strut
\end{minipage} & \begin{minipage}[t]{0.83\columnwidth}\raggedright\strut
\texttt{SET} \texttt{SETG} \texttt{DEFINE} \texttt{DEFMAC} \texttt{ENVIRONMENT} (value parameter binding)\strut
\end{minipage}\tabularnewline
\begin{minipage}[t]{0.11\columnwidth}\raggedright\strut
binding\strut
\end{minipage} & \begin{minipage}[t]{0.83\columnwidth}\raggedright\strut
\texttt{BOUND?} \texttt{GBOUND?} \texttt{ASSIGNED?} \texttt{GASSIGNED?} \texttt{LEGAL?} (assignment value parameter)\strut
\end{minipage}\tabularnewline
\begin{minipage}[t]{0.11\columnwidth}\raggedright\strut
bits\strut
\end{minipage} & \begin{minipage}[t]{0.83\columnwidth}\raggedright\strut
\texttt{WORD} \texttt{BITS} \texttt{PUTBITS} \texttt{GETBITS} \texttt{BYTES} \texttt{ANDB} \texttt{ORB} \texttt{XORB}
\texttt{EQVB} \texttt{LSH} \texttt{ROT}\strut
\end{minipage}\tabularnewline
\begin{minipage}[t]{0.11\columnwidth}\raggedright\strut
block\strut
\end{minipage} & \begin{minipage}[t]{0.83\columnwidth}\raggedright\strut
\texttt{BIND} \texttt{PROG} \texttt{REPEAT} \texttt{BLOCK} \texttt{ENDBLOCK} \texttt{OBLIST} \texttt{MOBLIST}
\texttt{OBLIST?} \texttt{!-}\strut
\end{minipage}\tabularnewline
\begin{minipage}[t]{0.11\columnwidth}\raggedright\strut
boolean\strut
\end{minipage} & \begin{minipage}[t]{0.83\columnwidth}\raggedright\strut
\texttt{FALSE} \texttt{COND} \texttt{AND} \texttt{AND?} \texttt{OR} \texttt{OR?} \texttt{NOT} (comparison)\strut
\end{minipage}\tabularnewline
\begin{minipage}[t]{0.11\columnwidth}\raggedright\strut
bugs\strut
\end{minipage} & \begin{minipage}[t]{0.83\columnwidth}\raggedright\strut
(errors)\strut
\end{minipage}\tabularnewline
\begin{minipage}[t]{0.11\columnwidth}\raggedright\strut
call\strut
\end{minipage} & \begin{minipage}[t]{0.83\columnwidth}\raggedright\strut
\texttt{FORM} \texttt{APPLY} \texttt{APPLICABLE?} \texttt{EVAL} \texttt{SEGMENT}\strut
\end{minipage}\tabularnewline
\begin{minipage}[t]{0.11\columnwidth}\raggedright\strut
change\strut
\end{minipage} & \begin{minipage}[t]{0.83\columnwidth}\raggedright\strut
\texttt{PUT-DECL} \texttt{PUTPROP} \texttt{SET} \texttt{SETG} (side effect)\strut
\end{minipage}\tabularnewline
\begin{minipage}[t]{0.11\columnwidth}\raggedright\strut
character\strut
\end{minipage} & \begin{minipage}[t]{0.83\columnwidth}\raggedright\strut
\texttt{CHARACTER} \texttt{STRING} \texttt{ASCII} \texttt{PRINC} \texttt{READCHR} \texttt{NEXTCHR} \texttt{FLATSIZE}
\texttt{LISTEN} \texttt{PARSE} \texttt{LPARSE} \texttt{UNPARSE}\strut
\end{minipage}\tabularnewline
\begin{minipage}[t]{0.11\columnwidth}\raggedright\strut
circular\strut
\end{minipage} & \begin{minipage}[t]{0.83\columnwidth}\raggedright\strut
\texttt{PUTREST} \texttt{PUT} \texttt{LENGTH?} \texttt{FLATSIZE}\strut
\end{minipage}\tabularnewline
\begin{minipage}[t]{0.11\columnwidth}\raggedright\strut
comma\strut
\end{minipage} & \begin{minipage}[t]{0.83\columnwidth}\raggedright\strut
\texttt{GVAL} \texttt{SETG}\strut
\end{minipage}\tabularnewline
\begin{minipage}[t]{0.11\columnwidth}\raggedright\strut
comments\strut
\end{minipage} & \begin{minipage}[t]{0.83\columnwidth}\raggedright\strut
\texttt{;} \texttt{FUNCTION} \texttt{ASSOCIATION}\strut
\end{minipage}\tabularnewline
\begin{minipage}[t]{0.11\columnwidth}\raggedright\strut
comparison\strut
\end{minipage} & \begin{minipage}[t]{0.83\columnwidth}\raggedright\strut
\texttt{==?} \texttt{N==?} \texttt{=?} \texttt{N=?} \texttt{G?} \texttt{L=?} \texttt{L?} \texttt{G=?} \texttt{0?}
\texttt{1?} \texttt{MAX} \texttt{MIN} \texttt{STRCOMP} \texttt{FLATSIZE} \texttt{LENGTH?} (boolean)\strut
\end{minipage}\tabularnewline
\begin{minipage}[t]{0.11\columnwidth}\raggedright\strut
conditional\strut
\end{minipage} & \begin{minipage}[t]{0.83\columnwidth}\raggedright\strut
\texttt{COND} \texttt{AND} \texttt{OR} (boolean)\strut
\end{minipage}\tabularnewline
\begin{minipage}[t]{0.11\columnwidth}\raggedright\strut
concatenation\strut
\end{minipage} & \begin{minipage}[t]{0.83\columnwidth}\raggedright\strut
\texttt{SEGMENT} \texttt{STRING} \texttt{CONS}\strut
\end{minipage}\tabularnewline
\begin{minipage}[t]{0.11\columnwidth}\raggedright\strut
coroutine\strut
\end{minipage} & \begin{minipage}[t]{0.83\columnwidth}\raggedright\strut
\texttt{PROCESS} \texttt{STATE} \texttt{RESUME} \texttt{SUICIDE} \texttt{RESUMER} \texttt{ME} \texttt{MAIN}
\texttt{BREAK-SEQ} \texttt{1STEP} \texttt{FREE-RUN}\strut
\end{minipage}\tabularnewline
\begin{minipage}[t]{0.11\columnwidth}\raggedright\strut
data type\strut
\end{minipage} & \begin{minipage}[t]{0.83\columnwidth}\raggedright\strut
\texttt{TYPE} \texttt{TYPE?} \texttt{PRIMTYPE} \texttt{TYPEPRIM} \texttt{CHTYPE} \texttt{UTYPE} \texttt{CHUTYPE}
\texttt{NEWTYPE} \texttt{PRINTTYPE} \texttt{APPLYTYPE} \texttt{EVALTYPE} \texttt{ALLTYPES} \texttt{VALID-TYPE?}\strut
\end{minipage}\tabularnewline
\begin{minipage}[t]{0.11\columnwidth}\raggedright\strut
decimal\strut
\end{minipage} & \begin{minipage}[t]{0.83\columnwidth}\raggedright\strut
\texttt{.}\strut
\end{minipage}\tabularnewline
\begin{minipage}[t]{0.11\columnwidth}\raggedright\strut
do\strut
\end{minipage} & \begin{minipage}[t]{0.83\columnwidth}\raggedright\strut
(loops execute call)\strut
\end{minipage}\tabularnewline
\begin{minipage}[t]{0.11\columnwidth}\raggedright\strut
dump\strut
\end{minipage} & \begin{minipage}[t]{0.83\columnwidth}\raggedright\strut
\texttt{SAVE} (output)\strut
\end{minipage}\tabularnewline
\begin{minipage}[t]{0.11\columnwidth}\raggedright\strut
errors\strut
\end{minipage} & \begin{minipage}[t]{0.83\columnwidth}\raggedright\strut
\texttt{FRAME} \texttt{ARGS} \texttt{FUNCT} \texttt{ERROR} \texttt{ERRORS} \texttt{ERRET} \texttt{RETRY}
\texttt{UNWIND}\strut
\end{minipage}\tabularnewline
\begin{minipage}[t]{0.11\columnwidth}\raggedright\strut
escape\strut
\end{minipage} & \begin{minipage}[t]{0.83\columnwidth}\raggedright\strut
\texttt{\textbackslash{}} \texttt{\^{}G} \texttt{\^{}S} \texttt{\^{}O}\strut
\end{minipage}\tabularnewline
\begin{minipage}[t]{0.11\columnwidth}\raggedright\strut
execute\strut
\end{minipage} & \begin{minipage}[t]{0.83\columnwidth}\raggedright\strut
\texttt{EVAL} \texttt{APPLY} \texttt{QUOTE} \texttt{FSUBR} \texttt{"ARGS"} (call)\strut
\end{minipage}\tabularnewline
\begin{minipage}[t]{0.11\columnwidth}\raggedright\strut
exit\strut
\end{minipage} & \begin{minipage}[t]{0.83\columnwidth}\raggedright\strut
\texttt{RETURN} \texttt{ACTIVATION} (goto)\strut
\end{minipage}\tabularnewline
\begin{minipage}[t]{0.11\columnwidth}\raggedright\strut
file system\strut
\end{minipage} & \begin{minipage}[t]{0.83\columnwidth}\raggedright\strut
\texttt{FILECOPY} \texttt{FILE-LENGTH} \texttt{RENAME} \texttt{OPEN} \texttt{OPEN-NR} \texttt{CHANNEL}
\texttt{FILE-EXISTS?} \texttt{NM1} \texttt{NM2} \texttt{DEV} \texttt{SNM} \texttt{SNAME}\strut
\end{minipage}\tabularnewline
\begin{minipage}[t]{0.11\columnwidth}\raggedright\strut
goto\strut
\end{minipage} & \begin{minipage}[t]{0.83\columnwidth}\raggedright\strut
\texttt{GO} \texttt{TAG} \texttt{UNWIND} \texttt{PROG} \texttt{REPEAT} \texttt{AGAIN} \texttt{RETURN} \texttt{ACTIVATION}
\texttt{"ACT"} (loops)\strut
\end{minipage}\tabularnewline
\begin{minipage}[t]{0.11\columnwidth}\raggedright\strut
graphics\strut
\end{minipage} & \begin{minipage}[t]{0.83\columnwidth}\raggedright\strut
\texttt{STORAGE} \texttt{IMAGE}\strut
\end{minipage}\tabularnewline
\begin{minipage}[t]{0.11\columnwidth}\raggedright\strut
identifier\strut
\end{minipage} & \begin{minipage}[t]{0.83\columnwidth}\raggedright\strut
\texttt{ATOM} \texttt{PNAME} \texttt{SPNAME} \texttt{LINK} \texttt{LOOKUP} \texttt{INSERT} \texttt{REMOVE} \texttt{OBLIST}
\texttt{SPECIAL} (parameter value)\strut
\end{minipage}\tabularnewline
\begin{minipage}[t]{0.11\columnwidth}\raggedright\strut
if\strut
\end{minipage} & \begin{minipage}[t]{0.83\columnwidth}\raggedright\strut
(conditional)\strut
\end{minipage}\tabularnewline
\begin{minipage}[t]{0.11\columnwidth}\raggedright\strut
indexing\strut
\end{minipage} & \begin{minipage}[t]{0.83\columnwidth}\raggedright\strut
\texttt{NTH} \texttt{OFFSET} \texttt{GET} \texttt{PUT} \texttt{BACK} \texttt{TOP} (loops)\strut
\end{minipage}\tabularnewline
\begin{minipage}[t]{0.11\columnwidth}\raggedright\strut
input\strut
\end{minipage} & \begin{minipage}[t]{0.83\columnwidth}\raggedright\strut
\texttt{READ} \texttt{READCHR} \texttt{NEXTCHR} \texttt{READB} \texttt{READSTRING} \texttt{READ-TABLE} \texttt{GC-READ}
\texttt{ECHOPAIR} \texttt{OPEN} \texttt{ACCESS} \texttt{LOAD} \texttt{FLOAD} \texttt{RESTORE} \texttt{RESET}\strut
\end{minipage}\tabularnewline
\begin{minipage}[t]{0.11\columnwidth}\raggedright\strut
integer\strut
\end{minipage} & \begin{minipage}[t]{0.83\columnwidth}\raggedright\strut
\texttt{FIX} (arithmetic)\strut
\end{minipage}\tabularnewline
\begin{minipage}[t]{0.11\columnwidth}\raggedright\strut
interrupts\strut
\end{minipage} & \begin{minipage}[t]{0.83\columnwidth}\raggedright\strut
\texttt{EVENT} \texttt{HANDLER} \texttt{ON} \texttt{OFF} \texttt{ENABLE} \texttt{DISABLE} \texttt{INT-LEVEL}
\texttt{DISMISS} \texttt{INTERRUPT}\strut
\end{minipage}\tabularnewline
\begin{minipage}[t]{0.11\columnwidth}\raggedright\strut
iteration\strut
\end{minipage} & \begin{minipage}[t]{0.83\columnwidth}\raggedright\strut
(loops)\strut
\end{minipage}\tabularnewline
\begin{minipage}[t]{0.11\columnwidth}\raggedright\strut
leave\strut
\end{minipage} & \begin{minipage}[t]{0.83\columnwidth}\raggedright\strut
(quit)\strut
\end{minipage}\tabularnewline
\begin{minipage}[t]{0.11\columnwidth}\raggedright\strut
loading\strut
\end{minipage} & \begin{minipage}[t]{0.83\columnwidth}\raggedright\strut
\texttt{FLOAD} \texttt{SAVE} \texttt{RESTORE} \texttt{LOAO}\strut
\end{minipage}\tabularnewline
\begin{minipage}[t]{0.11\columnwidth}\raggedright\strut
location\strut
\end{minipage} & \begin{minipage}[t]{0.83\columnwidth}\raggedright\strut
(pointer)\strut
\end{minipage}\tabularnewline
\begin{minipage}[t]{0.11\columnwidth}\raggedright\strut
loops\strut
\end{minipage} & \begin{minipage}[t]{0.83\columnwidth}\raggedright\strut
\texttt{REPEAT} \texttt{PROG} \texttt{RETURN} \texttt{GO} \texttt{ACTIVATION} \texttt{AGAIN} \texttt{MAPF} \texttt{MAPR}
\texttt{ILIST} \texttt{IVECTOR} \texttt{IUVECTOR} \texttt{ISTRING} \texttt{IBYTES} \texttt{IFORH}\strut
\end{minipage}\tabularnewline
\begin{minipage}[t]{0.11\columnwidth}\raggedright\strut
macro\strut
\end{minipage} & \begin{minipage}[t]{0.83\columnwidth}\raggedright\strut
\texttt{\%} \texttt{\%\%} \texttt{LINK} \texttt{READ-TABLE} \texttt{PARSE-TABLE} \texttt{DEFMAC} \texttt{EXPAND}
\texttt{MACRO}\strut
\end{minipage}\tabularnewline
\begin{minipage}[t]{0.11\columnwidth}\raggedright\strut
monitor\strut
\end{minipage} & \begin{minipage}[t]{0.83\columnwidth}\raggedright\strut
\texttt{"READ"} \texttt{"WRITE"}\strut
\end{minipage}\tabularnewline
\begin{minipage}[t]{0.11\columnwidth}\raggedright\strut
multi-processing\strut
\end{minipage} & \begin{minipage}[t]{0.83\columnwidth}\raggedright\strut
(coroutine)\strut
\end{minipage}\tabularnewline
\begin{minipage}[t]{0.11\columnwidth}\raggedright\strut
octal\strut
\end{minipage} & \begin{minipage}[t]{0.83\columnwidth}\raggedright\strut
\texttt{*}\strut
\end{minipage}\tabularnewline
\begin{minipage}[t]{0.11\columnwidth}\raggedright\strut
output\strut
\end{minipage} & \begin{minipage}[t]{0.83\columnwidth}\raggedright\strut
\texttt{PRINT} \texttt{PRIN1} \texttt{PRINC} \texttt{PRINTB} \texttt{PRINTSTRING} \texttt{IMAGE} \texttt{GC-DUMP}
\texttt{ECHOPAIR} \texttt{FLATSIZE} \texttt{SAVE} \texttt{TERPRI} \texttt{CRLF} \texttt{OPEN} \texttt{ACCESS}
\texttt{RESET} \texttt{BUFOUT} \texttt{NETS}\strut
\end{minipage}\tabularnewline
\begin{minipage}[t]{0.11\columnwidth}\raggedright\strut
parameter\strut
\end{minipage} & \begin{minipage}[t]{0.83\columnwidth}\raggedright\strut
\texttt{FUNCTION} \texttt{ATOM} \texttt{LVAL} \texttt{SET} \texttt{SPECIAL} \texttt{UNSPECIAL} (identifier value)\strut
\end{minipage}\tabularnewline
\begin{minipage}[t]{0.11\columnwidth}\raggedright\strut
parentheses\strut
\end{minipage} & \begin{minipage}[t]{0.83\columnwidth}\raggedright\strut
\texttt{LIST}\strut
\end{minipage}\tabularnewline
\begin{minipage}[t]{0.11\columnwidth}\raggedright\strut
parse\strut
\end{minipage} & \begin{minipage}[t]{0.83\columnwidth}\raggedright\strut
\texttt{PARSE} \texttt{LPARSE} \texttt{PARSE-TABLE} \texttt{UNPARSE}\strut
\end{minipage}\tabularnewline
\begin{minipage}[t]{0.11\columnwidth}\raggedright\strut
period\strut
\end{minipage} & \begin{minipage}[t]{0.83\columnwidth}\raggedright\strut
\texttt{LVAL} \texttt{SET} \texttt{READ}\strut
\end{minipage}\tabularnewline
\begin{minipage}[t]{0.11\columnwidth}\raggedright\strut
pointer\strut
\end{minipage} & \begin{minipage}[t]{0.83\columnwidth}\raggedright\strut
\texttt{LOCATIVE} \texttt{AT} \texttt{IN} \texttt{SETLOC} \texttt{LIST}\strut
\end{minipage}\tabularnewline
\begin{minipage}[t]{0.11\columnwidth}\raggedright\strut
predicate\strut
\end{minipage} & \begin{minipage}[t]{0.83\columnwidth}\raggedright\strut
(boolean)\strut
\end{minipage}\tabularnewline
\begin{minipage}[t]{0.11\columnwidth}\raggedright\strut
primitives\strut
\end{minipage} & \begin{minipage}[t]{0.83\columnwidth}\raggedright\strut
\texttt{SUBR} \texttt{FSUBR} \texttt{ROOT} \texttt{GVAL} \texttt{SETG}\strut
\end{minipage}\tabularnewline
\begin{minipage}[t]{0.11\columnwidth}\raggedright\strut
procedure\strut
\end{minipage} & \begin{minipage}[t]{0.83\columnwidth}\raggedright\strut
\texttt{FUNCTION} \texttt{DEFINE} \texttt{DEFMAC} \texttt{GVAL} \texttt{CLOSURE}\strut
\end{minipage}\tabularnewline
\begin{minipage}[t]{0.11\columnwidth}\raggedright\strut
quit\strut
\end{minipage} & \begin{minipage}[t]{0.83\columnwidth}\raggedright\strut
\texttt{\^{}G} \texttt{\^{}S} \texttt{\^{}O} \texttt{QUIT} \texttt{VALRET} \texttt{LOGOUT} \texttt{RETURN} (loops)\strut
\end{minipage}\tabularnewline
\begin{minipage}[t]{0.11\columnwidth}\raggedright\strut
real\strut
\end{minipage} & \begin{minipage}[t]{0.83\columnwidth}\raggedright\strut
\texttt{FLOAT} (arithmetic)\strut
\end{minipage}\tabularnewline
\begin{minipage}[t]{0.11\columnwidth}\raggedright\strut
recursion\strut
\end{minipage} & \begin{minipage}[t]{0.83\columnwidth}\raggedright\strut
(always assumed and built in)\strut
\end{minipage}\tabularnewline
\begin{minipage}[t]{0.11\columnwidth}\raggedright\strut
search\strut
\end{minipage} & \begin{minipage}[t]{0.83\columnwidth}\raggedright\strut
\texttt{MEMQ} \texttt{MEMBER} \texttt{=?} \texttt{==?} (comparison)\strut
\end{minipage}\tabularnewline
\begin{minipage}[t]{0.11\columnwidth}\raggedright\strut
sharing\strut
\end{minipage} & \begin{minipage}[t]{0.83\columnwidth}\raggedright\strut
\texttt{SEGMENT} \texttt{GROW} \texttt{SUBSTRUC}\strut
\end{minipage}\tabularnewline
\begin{minipage}[t]{0.11\columnwidth}\raggedright\strut
side effect\strut
\end{minipage} & \begin{minipage}[t]{0.83\columnwidth}\raggedright\strut
\texttt{PUT} \texttt{PUTREST} \texttt{SETLOC} \texttt{SUBSTRUC} (change)\strut
\end{minipage}\tabularnewline
\begin{minipage}[t]{0.11\columnwidth}\raggedright\strut
sixbit\strut
\end{minipage} & \begin{minipage}[t]{0.83\columnwidth}\raggedright\strut
\texttt{JNAME} \texttt{XJNAME} \texttt{SEND} \texttt{SEND-WAIT} \texttt{IPC-ON}\strut
\end{minipage}\tabularnewline
\begin{minipage}[t]{0.11\columnwidth}\raggedright\strut
storage\strut
\end{minipage} & \begin{minipage}[t]{0.83\columnwidth}\raggedright\strut
\texttt{GC} \texttt{BLOAT} \texttt{BLOAT-STAT} \texttt{FREEZE} \texttt{TUPLE} \texttt{"GC"} (structure)\strut
\end{minipage}\tabularnewline
\begin{minipage}[t]{0.11\columnwidth}\raggedright\strut
structure\strut
\end{minipage} & \begin{minipage}[t]{0.83\columnwidth}\raggedright\strut
\texttt{LIST} \texttt{VECTOR} \texttt{UVECTOR} \texttt{STRING} \texttt{BYTES} \texttt{TEMPLATE} \texttt{STRUCTURED?}
\texttt{EMPTY?} \texttt{MONAD?} \texttt{LENGTH} \texttt{LENGTH?} (concatenation)\strut
\end{minipage}\tabularnewline
\begin{minipage}[t]{0.11\columnwidth}\raggedright\strut
subroutine\strut
\end{minipage} & \begin{minipage}[t]{0.83\columnwidth}\raggedright\strut
(procedure primitive)\strut
\end{minipage}\tabularnewline
\begin{minipage}[t]{0.11\columnwidth}\raggedright\strut
temporary\strut
\end{minipage} & \begin{minipage}[t]{0.83\columnwidth}\raggedright\strut
\texttt{"AUX"} \texttt{BIND} \texttt{PROG} \texttt{REPEAT}\strut
\end{minipage}\tabularnewline
\begin{minipage}[t]{0.11\columnwidth}\raggedright\strut
terminal\strut
\end{minipage} & \begin{minipage}[t]{0.83\columnwidth}\raggedright\strut
(tty)\strut
\end{minipage}\tabularnewline
\begin{minipage}[t]{0.11\columnwidth}\raggedright\strut
text\strut
\end{minipage} & \begin{minipage}[t]{0.83\columnwidth}\raggedright\strut
(character)\strut
\end{minipage}\tabularnewline
\begin{minipage}[t]{0.11\columnwidth}\raggedright\strut
trailer\strut
\end{minipage} & \begin{minipage}[t]{0.83\columnwidth}\raggedright\strut
\texttt{!-} \texttt{OBLIST}\strut
\end{minipage}\tabularnewline
\begin{minipage}[t]{0.11\columnwidth}\raggedright\strut
true\strut
\end{minipage} & \begin{minipage}[t]{0.83\columnwidth}\raggedright\strut
(boolean)\strut
\end{minipage}\tabularnewline
\begin{minipage}[t]{0.11\columnwidth}\raggedright\strut
tty\strut
\end{minipage} & \begin{minipage}[t]{0.83\columnwidth}\raggedright\strut
\texttt{LISTEN} \texttt{\^{}L} \texttt{\^{}G} \texttt{\^{}@} \texttt{\^{}D} \texttt{rubout} \texttt{ECHOPAIR}
\texttt{TTYECHO} \texttt{TYI} \texttt{"BLOCKED"} \texttt{"UNBLOCKED"} \texttt{ACTIVATE-CHARS} (character)\strut
\end{minipage}\tabularnewline
\begin{minipage}[t]{0.11\columnwidth}\raggedright\strut
unbinding\strut
\end{minipage} & \begin{minipage}[t]{0.83\columnwidth}\raggedright\strut
(binding)\strut
\end{minipage}\tabularnewline
\begin{minipage}[t]{0.11\columnwidth}\raggedright\strut
value\strut
\end{minipage} & \begin{minipage}[t]{0.83\columnwidth}\raggedright\strut
\texttt{LVAL} \texttt{GVAL} \texttt{VALUE} \texttt{IN} \texttt{SET} \texttt{SETG} \texttt{ENVIRONMENT} \texttt{ASSIGNED?}
\texttt{GASSIGNED?} \texttt{BOUND?} \texttt{GBOUND?} \texttt{"BIND"} \texttt{ACTIVATION} \texttt{"ACT"} (parameter)
\texttt{RETURN} (quit loops)\strut
\end{minipage}\tabularnewline
\bottomrule
\end{longtable}

\indexprologue{An underscored page number refers to a
primary description: an unadorned page
number refers to a secondary description.

!!! note "Transcriber's note"
    In this transcription, underscoring is replaced by strong emphasis (bolding).
}

\section{Name Index}\label{name-index}

\begin{longtable}[]{@{}ll@{}}
\toprule
\begin{minipage}[t]{0.24\columnwidth}\raggedright\strut
\texttt{!"}\strut
\end{minipage} & \begin{minipage}[t]{0.70\columnwidth}\raggedright\strut
\href{07-structured-objects.md\#766-string-the-primtype-and-character-1}{7.6.6}\strut
\end{minipage}\tabularnewline
\begin{minipage}[t]{0.24\columnwidth}\raggedright\strut
\texttt{!\$}\strut
\end{minipage} & \begin{minipage}[t]{0.70\columnwidth}\raggedright\strut
\textbf{\href{01-basic-introduction.md\#12-typing-1}{1.2}}\strut
\end{minipage}\tabularnewline
\begin{minipage}[t]{0.24\columnwidth}\raggedright\strut
\texttt{!,}\strut
\end{minipage} & \begin{minipage}[t]{0.70\columnwidth}\raggedright\strut
\textbf{\href{07-structured-objects.md\#771-representation-1}{7.7.1}}\strut
\end{minipage}\tabularnewline
\begin{minipage}[t]{0.24\columnwidth}\raggedright\strut
\texttt{!-}\strut
\end{minipage} & \begin{minipage}[t]{0.70\columnwidth}\raggedright\strut
\textbf{\href{15-lexical-blocking.md\#153-read-and-oblists}{15.3}}\strut
\end{minipage}\tabularnewline
\begin{minipage}[t]{0.24\columnwidth}\raggedright\strut
\texttt{!-\#FALSE\ ()}\strut
\end{minipage} & \begin{minipage}[t]{0.70\columnwidth}\raggedright\strut
\textbf{\href{15-lexical-blocking.md\#1574-atom}{15.7.4}}\strut
\end{minipage}\tabularnewline
\begin{minipage}[t]{0.24\columnwidth}\raggedright\strut
\texttt{!.}\strut
\end{minipage} & \begin{minipage}[t]{0.70\columnwidth}\raggedright\strut
\textbf{\href{07-structured-objects.md\#771-representation-1}{7.7.1}}
\href{24-efficiency-and-tastefulness.md\#2411-example}{24.1.1}\strut
\end{minipage}\tabularnewline
\begin{minipage}[t]{0.24\columnwidth}\raggedright\strut
\texttt{!\textless{}}\strut
\end{minipage} & \begin{minipage}[t]{0.70\columnwidth}\raggedright\strut
\textbf{\href{07-structured-objects.md\#771-representation-1}{7.7.1}}
\href{24-efficiency-and-tastefulness.md\#2411-example}{24.1.1}\strut
\end{minipage}\tabularnewline
\begin{minipage}[t]{0.24\columnwidth}\raggedright\strut
\texttt{!\textgreater{}}\strut
\end{minipage} & \begin{minipage}[t]{0.70\columnwidth}\raggedright\strut
\textbf{\href{07-structured-objects.md\#771-representation-1}{7.7.1}}\strut
\end{minipage}\tabularnewline
\begin{minipage}[t]{0.24\columnwidth}\raggedright\strut
\texttt{!{[}}\strut
\end{minipage} & \begin{minipage}[t]{0.70\columnwidth}\raggedright\strut
\textbf{\href{07-structured-objects.md\#723-uvector-1}{7.2.3}}\strut
\end{minipage}\tabularnewline
\begin{minipage}[t]{0.24\columnwidth}\raggedright\strut
\texttt{!\textbackslash{}}\strut
\end{minipage} & \begin{minipage}[t]{0.70\columnwidth}\raggedright\strut
\textbf{\href{07-structured-objects.md\#766-string-the-primtype-and-character-1}{7.6.6}}
\href{11-input-output.md\#11123-princ}{11.1.2.3}\strut
\end{minipage}\tabularnewline
\begin{minipage}[t]{0.24\columnwidth}\raggedright\strut
\texttt{!{]}}\strut
\end{minipage} & \begin{minipage}[t]{0.70\columnwidth}\raggedright\strut
\textbf{\href{07-structured-objects.md\#723-uvector-1}{7.2.3}}\strut
\end{minipage}\tabularnewline
\begin{minipage}[t]{0.24\columnwidth}\raggedright\strut
\strut
\end{minipage} & \begin{minipage}[t]{0.70\columnwidth}\raggedright\strut
\strut
\end{minipage}\tabularnewline
\begin{minipage}[t]{0.24\columnwidth}\raggedright\strut
\texttt{"}\strut
\end{minipage} & \begin{minipage}[t]{0.70\columnwidth}\raggedright\strut
\href{02-read-evaluate-print.md\#2631-non-pnames}{2.6.3.1} \textbf{\href{07-structured-objects.md\#724-string-1}{7.2.4}}
\href{11-input-output.md\#11123-princ}{11.1.2.3}\strut
\end{minipage}\tabularnewline
\begin{minipage}[t]{0.24\columnwidth}\raggedright\strut
\texttt{"\textgreater{}"}\strut
\end{minipage} & \begin{minipage}[t]{0.70\columnwidth}\raggedright\strut
\textbf{\href{11-input-output.md\#1121-open}{11.2.1}}\strut
\end{minipage}\tabularnewline
\begin{minipage}[t]{0.24\columnwidth}\raggedright\strut
\texttt{"ACT"}\strut
\end{minipage} & \begin{minipage}[t]{0.70\columnwidth}\raggedright\strut
\textbf{\href{09-functions.md\#98-activation-name-act-again-and-return-1}{9.8}}
\href{09-functions.md\#99-argument-list-summary}{9.9}\strut
\end{minipage}\tabularnewline
\begin{minipage}[t]{0.24\columnwidth}\raggedright\strut
\texttt{"ARGS"}\strut
\end{minipage} & \begin{minipage}[t]{0.70\columnwidth}\raggedright\strut
\textbf{\href{09-functions.md\#95-args}{9.5}} \href{09-functions.md\#99-argument-list-summary}{9.9}\strut
\end{minipage}\tabularnewline
\begin{minipage}[t]{0.24\columnwidth}\raggedright\strut
\texttt{"AUX"}\strut
\end{minipage} & \begin{minipage}[t]{0.70\columnwidth}\raggedright\strut
\textbf{\href{09-functions.md\#93-aux-1}{9.3}} \href{09-functions.md\#99-argument-list-summary}{9.9}
\href{11-input-output.md\#1127-inchan-and-outchan}{11.2.7} \href{11-input-output.md\#113-end-of-file-routine}{11.3}\strut
\end{minipage}\tabularnewline
\begin{minipage}[t]{0.24\columnwidth}\raggedright\strut
\texttt{"BIND"}\strut
\end{minipage} & \begin{minipage}[t]{0.70\columnwidth}\raggedright\strut
\textbf{\href{09-functions.md\#97-eval-and-bind}{9.7}} \href{09-functions.md\#99-argument-list-summary}{9.9}\strut
\end{minipage}\tabularnewline
\begin{minipage}[t]{0.24\columnwidth}\raggedright\strut
\texttt{"BLOCKED"}\strut
\end{minipage} & \begin{minipage}[t]{0.70\columnwidth}\raggedright\strut
\href{21-interrupts.md\#2171-interrupt-processing}{21.7.1} \textbf{\href{21-interrupts.md\#2187-blocked}{21.8.7}}\strut
\end{minipage}\tabularnewline
\begin{minipage}[t]{0.24\columnwidth}\raggedright\strut
\texttt{"CALL"}\strut
\end{minipage} & \begin{minipage}[t]{0.70\columnwidth}\raggedright\strut
\textbf{\href{09-functions.md\#96-call}{9.6}} \href{09-functions.md\#99-argument-list-summary}{9.9}\strut
\end{minipage}\tabularnewline
\begin{minipage}[t]{0.24\columnwidth}\raggedright\strut
\texttt{"CHAR"}\strut
\end{minipage} & \begin{minipage}[t]{0.70\columnwidth}\raggedright\strut
\textbf{\href{21-interrupts.md\#218-specific-interrupts}{21.8}}\strut
\end{minipage}\tabularnewline
\begin{minipage}[t]{0.24\columnwidth}\raggedright\strut
\texttt{"CLOCK"}\strut
\end{minipage} & \begin{minipage}[t]{0.70\columnwidth}\raggedright\strut
\textbf{\href{21-interrupts.md\#2186-clock}{21.8.6}}\strut
\end{minipage}\tabularnewline
\begin{minipage}[t]{0.24\columnwidth}\raggedright\strut
\texttt{"DIVERT-AGC"}\strut
\end{minipage} & \begin{minipage}[t]{0.70\columnwidth}\raggedright\strut
\textbf{\href{21-interrupts.md\#2185-divert-agc}{21.8.5}}
\href{22-storage-management.md\#224-garbage-collection-details}{22.4}\strut
\end{minipage}\tabularnewline
\begin{minipage}[t]{0.24\columnwidth}\raggedright\strut
\texttt{"DSK"}\strut
\end{minipage} & \begin{minipage}[t]{0.70\columnwidth}\raggedright\strut
\textbf{\href{11-input-output.md\#1121-open}{11.2.1}} \href{11-input-output.md\#1161-save}{11.6.1}\strut
\end{minipage}\tabularnewline
\begin{minipage}[t]{0.24\columnwidth}\raggedright\strut
\texttt{"ERROR"}\strut
\end{minipage} & \begin{minipage}[t]{0.70\columnwidth}\raggedright\strut
\textbf{\href{21-interrupts.md\#21811-error}{21.8.11}}\strut
\end{minipage}\tabularnewline
\begin{minipage}[t]{0.24\columnwidth}\raggedright\strut
\texttt{"EXTRA"}\strut
\end{minipage} & \begin{minipage}[t]{0.70\columnwidth}\raggedright\strut
\textbf{\href{09-functions.md\#93-aux-1}{9.3}} \href{09-functions.md\#99-argument-list-summary}{9.9}\strut
\end{minipage}\tabularnewline
\begin{minipage}[t]{0.24\columnwidth}\raggedright\strut
\texttt{"GC"}\strut
\end{minipage} & \begin{minipage}[t]{0.70\columnwidth}\raggedright\strut
\textbf{\href{21-interrupts.md\#2184-gc}{21.8.4}}\strut
\end{minipage}\tabularnewline
\begin{minipage}[t]{0.24\columnwidth}\raggedright\strut
\texttt{"ILOPR"}\strut
\end{minipage} & \begin{minipage}[t]{0.70\columnwidth}\raggedright\strut
\textbf{\href{21-interrupts.md\#21815-dangerous-interrupts}{21.8.15}}\strut
\end{minipage}\tabularnewline
\begin{minipage}[t]{0.24\columnwidth}\raggedright\strut
\texttt{"INFERIOR"}\strut
\end{minipage} & \begin{minipage}[t]{0.70\columnwidth}\raggedright\strut
\textbf{\href{21-interrupts.md\#21813-inferior}{21.8.13}}\strut
\end{minipage}\tabularnewline
\begin{minipage}[t]{0.24\columnwidth}\raggedright\strut
\texttt{"INPUT"}\strut
\end{minipage} & \begin{minipage}[t]{0.70\columnwidth}\raggedright\strut
\textbf{\href{11-input-output.md\#1121-open}{11.2.1}}\strut
\end{minipage}\tabularnewline
\begin{minipage}[t]{0.24\columnwidth}\raggedright\strut
\texttt{"INT"}\strut
\end{minipage} & \begin{minipage}[t]{0.70\columnwidth}\raggedright\strut
\textbf{\href{11-input-output.md\#119-internal-channels}{11.9}}\strut
\end{minipage}\tabularnewline
\begin{minipage}[t]{0.24\columnwidth}\raggedright\strut
\texttt{"IOC"}\strut
\end{minipage} & \begin{minipage}[t]{0.70\columnwidth}\raggedright\strut
\textbf{\href{21-interrupts.md\#21815-dangerous-interrupts}{21.8.15}}\strut
\end{minipage}\tabularnewline
\begin{minipage}[t]{0.24\columnwidth}\raggedright\strut
\texttt{"IPC"}\strut
\end{minipage} & \begin{minipage}[t]{0.70\columnwidth}\raggedright\strut
\href{21-interrupts.md\#21812-ipc}{21.8.12}
\textbf{\href{23-mdl-as-a-system-process.md\#2342-the-ipc-interrupt}{23.4.2}}\strut
\end{minipage}\tabularnewline
\begin{minipage}[t]{0.24\columnwidth}\raggedright\strut
\texttt{"MPV"}\strut
\end{minipage} & \begin{minipage}[t]{0.70\columnwidth}\raggedright\strut
\textbf{\href{21-interrupts.md\#21815-dangerous-interrupts}{21.8.15}}\strut
\end{minipage}\tabularnewline
\begin{minipage}[t]{0.24\columnwidth}\raggedright\strut
\texttt{"MUD"}\strut
\end{minipage} & \begin{minipage}[t]{0.70\columnwidth}\raggedright\strut
\textbf{\href{11-input-output.md\#1121-open}{11.2.1}}\strut
\end{minipage}\tabularnewline
\begin{minipage}[t]{0.24\columnwidth}\raggedright\strut
\texttt{"MUDDLE"}\strut
\end{minipage} & \begin{minipage}[t]{0.70\columnwidth}\raggedright\strut
\textbf{\href{11-input-output.md\#1161-save}{11.6.1}}\strut
\end{minipage}\tabularnewline
\begin{minipage}[t]{0.24\columnwidth}\raggedright\strut
\texttt{"NAME"}\strut
\end{minipage} & \begin{minipage}[t]{0.70\columnwidth}\raggedright\strut
\textbf{\href{09-functions.md\#98-activation-name-act-again-and-return-1}{9.8}}
\href{09-functions.md\#99-argument-list-summary}{9.9}\strut
\end{minipage}\tabularnewline
\begin{minipage}[t]{0.24\columnwidth}\raggedright\strut
\texttt{"NET"}\strut
\end{minipage} & \begin{minipage}[t]{0.70\columnwidth}\raggedright\strut
\textbf{\href{11-input-output.md\#1110-the-net-device-the-arpa-network}{11.10}}\strut
\end{minipage}\tabularnewline
\begin{minipage}[t]{0.24\columnwidth}\raggedright\strut
\texttt{"OPT"}\strut
\end{minipage} & \begin{minipage}[t]{0.70\columnwidth}\raggedright\strut
\textbf{\href{09-functions.md\#91-optional-1}{9.1}} \href{09-functions.md\#99-argument-list-summary}{9.9}
\href{14-data-type-declarations.md\#149-the-rsubr-decl}{14.9}\strut
\end{minipage}\tabularnewline
\begin{minipage}[t]{0.24\columnwidth}\raggedright\strut
\texttt{"OPTIONAL"}\strut
\end{minipage} & \begin{minipage}[t]{0.70\columnwidth}\raggedright\strut
\textbf{\href{09-functions.md\#91-optional-1}{9.1}} \href{09-functions.md\#93-aux-1}{9.3}
\href{09-functions.md\#99-argument-list-summary}{9.9} \href{14-data-type-declarations.md\#149-the-rsubr-decl}{14.9}\strut
\end{minipage}\tabularnewline
\begin{minipage}[t]{0.24\columnwidth}\raggedright\strut
\texttt{"PARITY"}\strut
\end{minipage} & \begin{minipage}[t]{0.70\columnwidth}\raggedright\strut
\textbf{\href{21-interrupts.md\#21815-dangerous-interrupts}{21.8.15}}\strut
\end{minipage}\tabularnewline
\begin{minipage}[t]{0.24\columnwidth}\raggedright\strut
\texttt{"PRINT"}\strut
\end{minipage} & \begin{minipage}[t]{0.70\columnwidth}\raggedright\strut
\textbf{\href{11-input-output.md\#1121-open}{11.2.1}}\strut
\end{minipage}\tabularnewline
\begin{minipage}[t]{0.24\columnwidth}\raggedright\strut
\texttt{"PRINTB"}\strut
\end{minipage} & \begin{minipage}[t]{0.70\columnwidth}\raggedright\strut
\textbf{\href{11-input-output.md\#1121-open}{11.2.1}}\strut
\end{minipage}\tabularnewline
\begin{minipage}[t]{0.24\columnwidth}\raggedright\strut
\texttt{"PRINTO*}\strut
\end{minipage} & \begin{minipage}[t]{0.70\columnwidth}\raggedright\strut
\textbf{\href{11-input-output.md\#1121-open}{11.2.1}}\strut
\end{minipage}\tabularnewline
\begin{minipage}[t]{0.24\columnwidth}\raggedright\strut
\texttt{"PURE"}\strut
\end{minipage} & \begin{minipage}[t]{0.70\columnwidth}\raggedright\strut
\textbf{\href{21-interrupts.md\#21815-dangerous-interrupts}{21.8.15}}\strut
\end{minipage}\tabularnewline
\begin{minipage}[t]{0.24\columnwidth}\raggedright\strut
\texttt{"QUOTE"}\strut
\end{minipage} & \begin{minipage}[t]{0.70\columnwidth}\raggedright\strut
\textbf{\href{14-data-type-declarations.md\#149-the-rsubr-decl}{14.9}}\strut
\end{minipage}\tabularnewline
\begin{minipage}[t]{0.24\columnwidth}\raggedright\strut
\texttt{"READ"}\strut
\end{minipage} & \begin{minipage}[t]{0.70\columnwidth}\raggedright\strut
\textbf{\href{11-input-output.md\#1121-open}{11.2.1}} \href{11-input-output.md\#113-end-of-file-routine}{11.3}
\href{21-interrupts.md\#2181-char-received}{21.8.1} \textbf{\href{21-interrupts.md\#2189-read-and-write}{21.8.9}}
\href{appendix-1-a-look-inside.md\#appendix-1-a-look-inside}{Appendix 1}\strut
\end{minipage}\tabularnewline
\begin{minipage}[t]{0.24\columnwidth}\raggedright\strut
\texttt{"READB"}\strut
\end{minipage} & \begin{minipage}[t]{0.70\columnwidth}\raggedright\strut
\href{11-input-output.md\#1121-open}{11.2.1}\strut
\end{minipage}\tabularnewline
\begin{minipage}[t]{0.24\columnwidth}\raggedright\strut
\texttt{"REALT"}\strut
\end{minipage} & \begin{minipage}[t]{0.70\columnwidth}\raggedright\strut
\textbf{\href{21-interrupts.md\#21814-runt-and-realt}{21.8.14}}\strut
\end{minipage}\tabularnewline
\begin{minipage}[t]{0.24\columnwidth}\raggedright\strut
\texttt{"RUNT"}\strut
\end{minipage} & \begin{minipage}[t]{0.70\columnwidth}\raggedright\strut
\textbf{\href{21-interrupts.md\#21814-runt-and-realt}{21.8.14}}\strut
\end{minipage}\tabularnewline
\begin{minipage}[t]{0.24\columnwidth}\raggedright\strut
\texttt{"SAVE"}\strut
\end{minipage} & \begin{minipage}[t]{0.70\columnwidth}\raggedright\strut
\textbf{\href{11-input-output.md\#1161-save}{11.6.1}}\strut
\end{minipage}\tabularnewline
\begin{minipage}[t]{0.24\columnwidth}\raggedright\strut
\texttt{"STY"}\strut
\end{minipage} & \begin{minipage}[t]{0.70\columnwidth}\raggedright\strut
\textbf{\href{11-input-output.md\#118-terminal-channels}{11.8}}\strut
\end{minipage}\tabularnewline
\begin{minipage}[t]{0.24\columnwidth}\raggedright\strut
\texttt{"SYSDOWN"}\strut
\end{minipage} & \begin{minipage}[t]{0.70\columnwidth}\raggedright\strut
\textbf{\href{21-interrupts.md\#21810-sysdown}{21.8.10}}\strut
\end{minipage}\tabularnewline
\begin{minipage}[t]{0.24\columnwidth}\raggedright\strut
\texttt{"TUPLE"}\strut
\end{minipage} & \begin{minipage}[t]{0.70\columnwidth}\raggedright\strut
\textbf{\href{09-functions.md\#921-tuple-and-tuple-the-type-1}{9.2.1}}
\href{09-functions.md\#99-argument-list-summary}{9.9} \href{11-input-output.md\#113-end-of-file-routine}{11.3}
\href{14-data-type-declarations.md\#149-the-rsubr-decl}{14.9}\strut
\end{minipage}\tabularnewline
\begin{minipage}[t]{0.24\columnwidth}\raggedright\strut
\texttt{"UNBLOCKED"}\strut
\end{minipage} & \begin{minipage}[t]{0.70\columnwidth}\raggedright\strut
\textbf{\href{21-interrupts.md\#2188-unblocked}{21.8.8}}\strut
\end{minipage}\tabularnewline
\begin{minipage}[t]{0.24\columnwidth}\raggedright\strut
\texttt{"VALUE"}\strut
\end{minipage} & \begin{minipage}[t]{0.70\columnwidth}\raggedright\strut
\textbf{\href{14-data-type-declarations.md\#149-the-rsubr-decl}{14.9}}\strut
\end{minipage}\tabularnewline
\begin{minipage}[t]{0.24\columnwidth}\raggedright\strut
\texttt{"WRITE"}\strut
\end{minipage} & \begin{minipage}[t]{0.70\columnwidth}\raggedright\strut
\textbf{\href{21-interrupts.md\#2189-read-and-write}{21.8.9}}
\href{appendix-1-a-look-inside.md\#appendix-1-a-look-inside}{Appendix 1}\strut
\end{minipage}\tabularnewline
\begin{minipage}[t]{0.24\columnwidth}\raggedright\strut
\strut
\end{minipage} & \begin{minipage}[t]{0.70\columnwidth}\raggedright\strut
\strut
\end{minipage}\tabularnewline
\begin{minipage}[t]{0.24\columnwidth}\raggedright\strut
\texttt{\#}\strut
\end{minipage} & \begin{minipage}[t]{0.70\columnwidth}\raggedright\strut
\href{02-read-evaluate-print.md\#2631-non-pnames}{2.6.3.1}
\textbf{\href{06-data-types.md\#62-printed-representation-1}{6.2}} \href{06-data-types.md\#634-chtype-1}{6.3.4}
\href{11-input-output.md\#11123-princ}{11.1.2.3}\strut
\end{minipage}\tabularnewline
\begin{minipage}[t]{0.24\columnwidth}\raggedright\strut
\strut
\end{minipage} & \begin{minipage}[t]{0.70\columnwidth}\raggedright\strut
\strut
\end{minipage}\tabularnewline
\begin{minipage}[t]{0.24\columnwidth}\raggedright\strut
\texttt{\$}\strut
\end{minipage} & \begin{minipage}[t]{0.70\columnwidth}\raggedright\strut
\textbf{\href{00-front-matter.md\#notation}{Notation}} \textbf{\href{01-basic-introduction.md\#12-typing-1}{1.2}}
\href{11-input-output.md\#1111-input}{11.1.1} \href{11-input-output.md\#1183-tyi}{11.8.3}
\textbf{\href{21-interrupts.md\#2181-char-received}{21.8.1}} \href{21-interrupts.md\#2188-unblocked}{21.8.8}\strut
\end{minipage}\tabularnewline
\begin{minipage}[t]{0.24\columnwidth}\raggedright\strut
\strut
\end{minipage} & \begin{minipage}[t]{0.70\columnwidth}\raggedright\strut
\strut
\end{minipage}\tabularnewline
\begin{minipage}[t]{0.24\columnwidth}\raggedright\strut
\texttt{\%}\strut
\end{minipage} & \begin{minipage}[t]{0.70\columnwidth}\raggedright\strut
\href{02-read-evaluate-print.md\#2631-non-pnames}{2.6.3.1} \textbf{\href{17-macro-operations.md\#1711--and-}{17.1.1}}\strut
\end{minipage}\tabularnewline
\begin{minipage}[t]{0.24\columnwidth}\raggedright\strut
\texttt{\%\%}\strut
\end{minipage} & \begin{minipage}[t]{0.70\columnwidth}\raggedright\strut
\textbf{\href{17-macro-operations.md\#1711--and-}{17.1.1}}\strut
\end{minipage}\tabularnewline
\begin{minipage}[t]{0.24\columnwidth}\raggedright\strut
\strut
\end{minipage} & \begin{minipage}[t]{0.70\columnwidth}\raggedright\strut
\strut
\end{minipage}\tabularnewline
\begin{minipage}[t]{0.24\columnwidth}\raggedright\strut
\texttt{\textquotesingle{}}\strut
\end{minipage} & \begin{minipage}[t]{0.70\columnwidth}\raggedright\strut
\href{02-read-evaluate-print.md\#2631-non-pnames}{2.6.3.1}
\textbf{\href{07-structured-objects.md\#752-quote-1}{7.5.2}}\strut
\end{minipage}\tabularnewline
\begin{minipage}[t]{0.24\columnwidth}\raggedright\strut
\strut
\end{minipage} & \begin{minipage}[t]{0.70\columnwidth}\raggedright\strut
\strut
\end{minipage}\tabularnewline
\begin{minipage}[t]{0.24\columnwidth}\raggedright\strut
\texttt{(}\strut
\end{minipage} & \begin{minipage}[t]{0.70\columnwidth}\raggedright\strut
\href{02-read-evaluate-print.md\#2631-non-pnames}{2.6.3.1}
\textbf{\href{07-structured-objects.md\#721-list-1}{7.2.1}}\strut
\end{minipage}\tabularnewline
\begin{minipage}[t]{0.24\columnwidth}\raggedright\strut
\strut
\end{minipage} & \begin{minipage}[t]{0.70\columnwidth}\raggedright\strut
\strut
\end{minipage}\tabularnewline
\begin{minipage}[t]{0.24\columnwidth}\raggedright\strut
\texttt{)}\strut
\end{minipage} & \begin{minipage}[t]{0.70\columnwidth}\raggedright\strut
\href{02-read-evaluate-print.md\#2631-non-pnames}{2.6.3.1}
\textbf{\href{07-structured-objects.md\#721-list-1}{7.2.1}}\strut
\end{minipage}\tabularnewline
\begin{minipage}[t]{0.24\columnwidth}\raggedright\strut
\strut
\end{minipage} & \begin{minipage}[t]{0.70\columnwidth}\raggedright\strut
\strut
\end{minipage}\tabularnewline
\begin{minipage}[t]{0.24\columnwidth}\raggedright\strut
\texttt{*}\strut
\end{minipage} & \begin{minipage}[t]{0.70\columnwidth}\raggedright\strut
\textbf{\href{02-read-evaluate-print.md\#261-read-and-fixed-point-numbers}{2.6.1}}
\textbf{\href{03-built-in-functions.md\#34-examples--and-fix-arithmetic-1}{3.4}}
\href{16-errors-frames-etc.md\#169-overflow}{16.9} \href{18-machine-words-and-bits.md\#181-words}{18.1}\strut
\end{minipage}\tabularnewline
\begin{minipage}[t]{0.24\columnwidth}\raggedright\strut
\strut
\end{minipage} & \begin{minipage}[t]{0.70\columnwidth}\raggedright\strut
\strut
\end{minipage}\tabularnewline
\begin{minipage}[t]{0.24\columnwidth}\raggedright\strut
\texttt{+}\strut
\end{minipage} & \begin{minipage}[t]{0.70\columnwidth}\raggedright\strut
\textbf{\href{03-built-in-functions.md\#34-examples--and-fix-arithmetic-1}{3.4}}
\href{16-errors-frames-etc.md\#169-overflow}{16.9}\strut
\end{minipage}\tabularnewline
\begin{minipage}[t]{0.24\columnwidth}\raggedright\strut
\strut
\end{minipage} & \begin{minipage}[t]{0.70\columnwidth}\raggedright\strut
\strut
\end{minipage}\tabularnewline
\begin{minipage}[t]{0.24\columnwidth}\raggedright\strut
\texttt{,}\strut
\end{minipage} & \begin{minipage}[t]{0.70\columnwidth}\raggedright\strut
\href{02-read-evaluate-print.md\#2631-non-pnames}{2.6.3.1} \textbf{\href{04-values-of-atoms.md\#422-gval-1}{4.2.2}}\strut
\end{minipage}\tabularnewline
\begin{minipage}[t]{0.24\columnwidth}\raggedright\strut
\strut
\end{minipage} & \begin{minipage}[t]{0.70\columnwidth}\raggedright\strut
\strut
\end{minipage}\tabularnewline
\begin{minipage}[t]{0.24\columnwidth}\raggedright\strut
\texttt{-}\strut
\end{minipage} & \begin{minipage}[t]{0.70\columnwidth}\raggedright\strut
\textbf{\href{03-built-in-functions.md\#34-examples--and-fix-arithmetic-1}{3.4}}
\href{16-errors-frames-etc.md\#169-overflow}{16.9}\strut
\end{minipage}\tabularnewline
\begin{minipage}[t]{0.24\columnwidth}\raggedright\strut
\strut
\end{minipage} & \begin{minipage}[t]{0.70\columnwidth}\raggedright\strut
\strut
\end{minipage}\tabularnewline
\begin{minipage}[t]{0.24\columnwidth}\raggedright\strut
\texttt{.}\strut
\end{minipage} & \begin{minipage}[t]{0.70\columnwidth}\raggedright\strut
\textbf{\href{02-read-evaluate-print.md\#261-read-and-fixed-point-numbers}{2.6.1}}
\href{02-read-evaluate-print.md\#2631-non-pnames}{2.6.3.1} \textbf{\href{04-values-of-atoms.md\#432-lval-1}{4.3.2}}\strut
\end{minipage}\tabularnewline
\begin{minipage}[t]{0.24\columnwidth}\raggedright\strut
\strut
\end{minipage} & \begin{minipage}[t]{0.70\columnwidth}\raggedright\strut
\strut
\end{minipage}\tabularnewline
\begin{minipage}[t]{0.24\columnwidth}\raggedright\strut
\texttt{/}\strut
\end{minipage} & \begin{minipage}[t]{0.70\columnwidth}\raggedright\strut
\textbf{\href{03-built-in-functions.md\#34-examples--and-fix-arithmetic-1}{3.4}}
\href{16-errors-frames-etc.md\#169-overflow}{16.9}\strut
\end{minipage}\tabularnewline
\begin{minipage}[t]{0.24\columnwidth}\raggedright\strut
\strut
\end{minipage} & \begin{minipage}[t]{0.70\columnwidth}\raggedright\strut
\strut
\end{minipage}\tabularnewline
\begin{minipage}[t]{0.24\columnwidth}\raggedright\strut
\texttt{0?}\strut
\end{minipage} & \begin{minipage}[t]{0.70\columnwidth}\raggedright\strut
\textbf{\href{08-truth.md\#821-arithmetic-1}{8.2.1}}\strut
\end{minipage}\tabularnewline
\begin{minipage}[t]{0.24\columnwidth}\raggedright\strut
\strut
\end{minipage} & \begin{minipage}[t]{0.70\columnwidth}\raggedright\strut
\strut
\end{minipage}\tabularnewline
\begin{minipage}[t]{0.24\columnwidth}\raggedright\strut
\texttt{1?}\strut
\end{minipage} & \begin{minipage}[t]{0.70\columnwidth}\raggedright\strut
\textbf{\href{08-truth.md\#821-arithmetic-1}{8.2.1}}\strut
\end{minipage}\tabularnewline
\begin{minipage}[t]{0.24\columnwidth}\raggedright\strut
\texttt{1STEP}\strut
\end{minipage} & \begin{minipage}[t]{0.70\columnwidth}\raggedright\strut
\textbf{\href{20-coroutines.md\#2076-1step}{20.7.6}}\strut
\end{minipage}\tabularnewline
\begin{minipage}[t]{0.24\columnwidth}\raggedright\strut
\strut
\end{minipage} & \begin{minipage}[t]{0.70\columnwidth}\raggedright\strut
\strut
\end{minipage}\tabularnewline
\begin{minipage}[t]{0.24\columnwidth}\raggedright\strut
\texttt{;}\strut
\end{minipage} & \begin{minipage}[t]{0.70\columnwidth}\raggedright\strut
\href{02-read-evaluate-print.md\#2631-non-pnames}{2.6.3.1}
\textbf{\href{05-simple-functions.md\#55-examples-comments-1}{5.5}}\strut
\end{minipage}\tabularnewline
\begin{minipage}[t]{0.24\columnwidth}\raggedright\strut
\strut
\end{minipage} & \begin{minipage}[t]{0.70\columnwidth}\raggedright\strut
\strut
\end{minipage}\tabularnewline
\begin{minipage}[t]{0.24\columnwidth}\raggedright\strut
\texttt{\textless{}}\strut
\end{minipage} & \begin{minipage}[t]{0.70\columnwidth}\raggedright\strut
\href{02-read-evaluate-print.md\#2631-non-pnames}{2.6.3.1}\strut
\end{minipage}\tabularnewline
\begin{minipage}[t]{0.24\columnwidth}\raggedright\strut
\strut
\end{minipage} & \begin{minipage}[t]{0.70\columnwidth}\raggedright\strut
\strut
\end{minipage}\tabularnewline
\begin{minipage}[t]{0.24\columnwidth}\raggedright\strut
\texttt{==?}\strut
\end{minipage} & \begin{minipage}[t]{0.70\columnwidth}\raggedright\strut
\textbf{\href{08-truth.md\#822-equality-and-membership-1}{8.2.2}}
\href{appendix-1-a-look-inside.md\#appendix-1-a-look-inside}{Appendix 1}\strut
\end{minipage}\tabularnewline
\begin{minipage}[t]{0.24\columnwidth}\raggedright\strut
\texttt{=?}\strut
\end{minipage} & \begin{minipage}[t]{0.70\columnwidth}\raggedright\strut
\textbf{\href{08-truth.md\#822-equality-and-membership-1}{8.2.2}} \href{10-looping.md\#1023-examples-1}{10.2.3}\strut
\end{minipage}\tabularnewline
\begin{minipage}[t]{0.24\columnwidth}\raggedright\strut
\strut
\end{minipage} & \begin{minipage}[t]{0.70\columnwidth}\raggedright\strut
\strut
\end{minipage}\tabularnewline
\begin{minipage}[t]{0.24\columnwidth}\raggedright\strut
\texttt{\textgreater{}}\strut
\end{minipage} & \begin{minipage}[t]{0.70\columnwidth}\raggedright\strut
\href{02-read-evaluate-print.md\#2631-non-pnames}{2.6.3.1}\strut
\end{minipage}\tabularnewline
\begin{minipage}[t]{0.24\columnwidth}\raggedright\strut
\strut
\end{minipage} & \begin{minipage}[t]{0.70\columnwidth}\raggedright\strut
\strut
\end{minipage}\tabularnewline
\begin{minipage}[t]{0.24\columnwidth}\raggedright\strut
\texttt{ABS}\strut
\end{minipage} & \begin{minipage}[t]{0.70\columnwidth}\raggedright\strut
\href{03-built-in-functions.md\#34-examples--and-fix-arithmetic-1}{3.4}\strut
\end{minipage}\tabularnewline
\begin{minipage}[t]{0.24\columnwidth}\raggedright\strut
\texttt{ACCESS}\strut
\end{minipage} & \begin{minipage}[t]{0.70\columnwidth}\raggedright\strut
\href{11-input-output.md\#1121-open}{11.2.1} \textbf{\href{11-input-output.md\#1174-access}{11.7.4}}\strut
\end{minipage}\tabularnewline
\begin{minipage}[t]{0.24\columnwidth}\raggedright\strut
\texttt{ACTIVATE-CHARS}\strut
\end{minipage} & \begin{minipage}[t]{0.70\columnwidth}\raggedright\strut
\textbf{\href{21-interrupts.md\#2181-char-received}{21.8.1}}\strut
\end{minipage}\tabularnewline
\begin{minipage}[t]{0.24\columnwidth}\raggedright\strut
\texttt{ACTIVATION}\strut
\end{minipage} & \begin{minipage}[t]{0.70\columnwidth}\raggedright\strut
\textbf{\href{09-functions.md\#98-activation-name-act-again-and-return-1}{9.8}}
\href{16-errors-frames-etc.md\#165-retry}{16.5} \href{21-interrupts.md\#2173-dismiss}{21.7.3}
\href{22-storage-management.md\#2211-stacks-and-other-internal-vectors}{22.1.1}
\href{24-efficiency-and-tastefulness.md\#241-efficiency}{24.1}\strut
\end{minipage}\tabularnewline
\begin{minipage}[t]{0.24\columnwidth}\raggedright\strut
\texttt{AGAIN}\strut
\end{minipage} & \begin{minipage}[t]{0.70\columnwidth}\raggedright\strut
\textbf{\href{09-functions.md\#98-activation-name-act-again-and-return-1}{9.8}}
\textbf{\href{10-looping.md\#1012-again-and-return-in-prog-and-repeat-1}{10.1.2}}
\href{16-errors-frames-etc.md\#165-retry}{16.5} \href{20-coroutines.md\#208-sneakiness-with-processes}{20.8}\strut
\end{minipage}\tabularnewline
\begin{minipage}[t]{0.24\columnwidth}\raggedright\strut
\texttt{AGC-FLAG}\strut
\end{minipage} & \begin{minipage}[t]{0.70\columnwidth}\raggedright\strut
\textbf{\href{21-interrupts.md\#2185-divert-agc}{21.8.5}}\strut
\end{minipage}\tabularnewline
\begin{minipage}[t]{0.24\columnwidth}\raggedright\strut
\texttt{ALLTYPES}\strut
\end{minipage} & \begin{minipage}[t]{0.70\columnwidth}\raggedright\strut
\textbf{\href{06-data-types.md\#641-alltypes}{6.4.1}}\strut
\end{minipage}\tabularnewline
\begin{minipage}[t]{0.24\columnwidth}\raggedright\strut
\texttt{AND}\strut
\end{minipage} & \begin{minipage}[t]{0.70\columnwidth}\raggedright\strut
\textbf{\href{08-truth.md\#823-boolean-operators-1}{8.2.3}} \href{08-truth.md\#841-and-and-or-as-short-conds}{8.4.1}
\href{21-interrupts.md\#2181-char-received}{21.8.1}\strut
\end{minipage}\tabularnewline
\begin{minipage}[t]{0.24\columnwidth}\raggedright\strut
\texttt{AND?}\strut
\end{minipage} & \begin{minipage}[t]{0.70\columnwidth}\raggedright\strut
\textbf{\href{08-truth.md\#823-boolean-operators-1}{8.2.3}} \href{10-looping.md\#1023-examples-1}{10.2.3}\strut
\end{minipage}\tabularnewline
\begin{minipage}[t]{0.24\columnwidth}\raggedright\strut
\texttt{ANDB}\strut
\end{minipage} & \begin{minipage}[t]{0.70\columnwidth}\raggedright\strut
\href{07-structured-objects.md\#767-bytes}{7.6.7}
\textbf{\href{18-machine-words-and-bits.md\#185-bitwise-boolean-operations}{18.5}}\strut
\end{minipage}\tabularnewline
\begin{minipage}[t]{0.24\columnwidth}\raggedright\strut
\texttt{ANY}\strut
\end{minipage} & \begin{minipage}[t]{0.70\columnwidth}\raggedright\strut
\textbf{\href{14-data-type-declarations.md\#141-patterns}{14.1}}\strut
\end{minipage}\tabularnewline
\begin{minipage}[t]{0.24\columnwidth}\raggedright\strut
\texttt{APPLICABLE}\strut
\end{minipage} & \begin{minipage}[t]{0.70\columnwidth}\raggedright\strut
\textbf{\href{14-data-type-declarations.md\#141-patterns}{14.1}}\strut
\end{minipage}\tabularnewline
\begin{minipage}[t]{0.24\columnwidth}\raggedright\strut
\texttt{APPLICABLE?}\strut
\end{minipage} & \begin{minipage}[t]{0.70\columnwidth}\raggedright\strut
\textbf{\href{08-truth.md\#824-object-properties-1}{8.2.4}}\strut
\end{minipage}\tabularnewline
\begin{minipage}[t]{0.24\columnwidth}\raggedright\strut
\texttt{APPLY}\strut
\end{minipage} & \begin{minipage}[t]{0.70\columnwidth}\raggedright\strut
\href{06-data-types.md\#644-printtype-evaltype-and-applytype}{6.4.4}
\textbf{\href{09-functions.md\#910-apply-1}{9.10}}\strut
\end{minipage}\tabularnewline
\begin{minipage}[t]{0.24\columnwidth}\raggedright\strut
\texttt{APPLYTYPE}\strut
\end{minipage} & \begin{minipage}[t]{0.70\columnwidth}\raggedright\strut
\textbf{\href{06-data-types.md\#644-printtype-evaltype-and-applytype}{6.4.4}}\strut
\end{minipage}\tabularnewline
\begin{minipage}[t]{0.24\columnwidth}\raggedright\strut
\texttt{ARGS}\strut
\end{minipage} & \begin{minipage}[t]{0.70\columnwidth}\raggedright\strut
\textbf{\href{16-errors-frames-etc.md\#1631-args}{16.3.1}}
\href{20-coroutines.md\#208-sneakiness-with-processes}{20.8}\strut
\end{minipage}\tabularnewline
\begin{minipage}[t]{0.24\columnwidth}\raggedright\strut
\texttt{ASCII}\strut
\end{minipage} & \begin{minipage}[t]{0.70\columnwidth}\raggedright\strut
\textbf{\href{07-structured-objects.md\#7661-ascii-1}{7.6.6.1}}\strut
\end{minipage}\tabularnewline
\begin{minipage}[t]{0.24\columnwidth}\raggedright\strut
\texttt{ASOC}\strut
\end{minipage} & \begin{minipage}[t]{0.70\columnwidth}\raggedright\strut
\textbf{\href{13-association-properties.md\#134-examining-associations}{13.4}}
\href{20-coroutines.md\#201-process-the-type}{20.1} \href{appendix-1-a-look-inside.md\#basic-data-structures}{Appendix
1}\strut
\end{minipage}\tabularnewline
\begin{minipage}[t]{0.24\columnwidth}\raggedright\strut
\texttt{ASSIGNED?}\strut
\end{minipage} & \begin{minipage}[t]{0.70\columnwidth}\raggedright\strut
\href{08-truth.md\#841-and-and-or-as-short-conds}{8.4.1} \textbf{\href{09-functions.md\#91-optional-1}{9.1}}
\href{20-coroutines.md\#208-sneakiness-with-processes}{20.8} \href{21-interrupts.md\#2189-read-and-write}{21.8.9}\strut
\end{minipage}\tabularnewline
\begin{minipage}[t]{0.24\columnwidth}\raggedright\strut
\texttt{ASSOCIATIONS}\strut
\end{minipage} & \begin{minipage}[t]{0.70\columnwidth}\raggedright\strut
\textbf{\href{13-association-properties.md\#134-examining-associations}{13.4}}\strut
\end{minipage}\tabularnewline
\begin{minipage}[t]{0.24\columnwidth}\raggedright\strut
\texttt{AT}\strut
\end{minipage} & \begin{minipage}[t]{0.70\columnwidth}\raggedright\strut
\textbf{\href{12-locatives.md\#1213-at}{12.1.3}}\strut
\end{minipage}\tabularnewline
\begin{minipage}[t]{0.24\columnwidth}\raggedright\strut
\texttt{ATAN}\strut
\end{minipage} & \begin{minipage}[t]{0.70\columnwidth}\raggedright\strut
\textbf{\href{05-simple-functions.md\#55-examples-comments-1}{5.5}}\strut
\end{minipage}\tabularnewline
\begin{minipage}[t]{0.24\columnwidth}\raggedright\strut
\texttt{ATOM}\strut
\end{minipage} & \begin{minipage}[t]{0.70\columnwidth}\raggedright\strut
\href{02-read-evaluate-print.md\#25-example-type-atom-pname-1}{2.5} \href{11-input-output.md\#11123-princ}{11.1.2.3}
\textbf{\href{15-lexical-blocking.md\#1574-atom}{15.7.4}} \href{22-storage-management.md\#223-other-storage}{22.3}
\href{appendix-1-a-look-inside.md\#basic-data-structures}{Appendix 1}\strut
\end{minipage}\tabularnewline
\begin{minipage}[t]{0.24\columnwidth}\raggedright\strut
\texttt{AVALUE}\strut
\end{minipage} & \begin{minipage}[t]{0.70\columnwidth}\raggedright\strut
\textbf{\href{13-association-properties.md\#134-examining-associations}{13.4}}\strut
\end{minipage}\tabularnewline
\begin{minipage}[t]{0.24\columnwidth}\raggedright\strut
\strut
\end{minipage} & \begin{minipage}[t]{0.70\columnwidth}\raggedright\strut
\strut
\end{minipage}\tabularnewline
\begin{minipage}[t]{0.24\columnwidth}\raggedright\strut
\texttt{BACK}\strut
\end{minipage} & \begin{minipage}[t]{0.70\columnwidth}\raggedright\strut
\textbf{\href{07-structured-objects.md\#7621-back-1}{7.6.2.1}}
\href{appendix-1-a-look-inside.md\#basic-data-structures}{Appendix 1}\strut
\end{minipage}\tabularnewline
\begin{minipage}[t]{0.24\columnwidth}\raggedright\strut
\texttt{BINARY}\strut
\end{minipage} & \begin{minipage}[t]{0.70\columnwidth}\raggedright\strut
\textbf{\href{19-compiled-programs.md\#198-rsubrs-in-files}{19.8}}\strut
\end{minipage}\tabularnewline
\begin{minipage}[t]{0.24\columnwidth}\raggedright\strut
\texttt{BIND}\strut
\end{minipage} & \begin{minipage}[t]{0.70\columnwidth}\raggedright\strut
\href{09-functions.md\#98-activation-name-act-again-and-return-1}{9.8}
\textbf{\href{10-looping.md\#1012-again-and-return-in-prog-and-repeat-1}{10.1.2}}\strut
\end{minipage}\tabularnewline
\begin{minipage}[t]{0.24\columnwidth}\raggedright\strut
\texttt{BITS}\strut
\end{minipage} & \begin{minipage}[t]{0.70\columnwidth}\raggedright\strut
\textbf{\href{18-machine-words-and-bits.md\#182-bits}{18.2}}\strut
\end{minipage}\tabularnewline
\begin{minipage}[t]{0.24\columnwidth}\raggedright\strut
\texttt{BLOAT}\strut
\end{minipage} & \begin{minipage}[t]{0.70\columnwidth}\raggedright\strut
\href{21-interrupts.md\#2184-gc}{21.8.4} \textbf{\href{22-storage-management.md\#226-bloat}{22.6}}\strut
\end{minipage}\tabularnewline
\begin{minipage}[t]{0.24\columnwidth}\raggedright\strut
\texttt{BLOAT-STAT}\strut
\end{minipage} & \begin{minipage}[t]{0.70\columnwidth}\raggedright\strut
\textbf{\href{22-storage-management.md\#227-bloat-stat}{22.7}}\strut
\end{minipage}\tabularnewline
\begin{minipage}[t]{0.24\columnwidth}\raggedright\strut
\texttt{BLOCK}\strut
\end{minipage} & \begin{minipage}[t]{0.70\columnwidth}\raggedright\strut
\textbf{\href{15-lexical-blocking.md\#156-block-and-endblock}{15.6}}
\href{15-lexical-blocking.md\#158-example-another-solution-to-the-inc-problem}{15.8}\strut
\end{minipage}\tabularnewline
\begin{minipage}[t]{0.24\columnwidth}\raggedright\strut
\texttt{BLOCKED}\strut
\end{minipage} & \begin{minipage}[t]{0.70\columnwidth}\raggedright\strut
\href{20-coroutines.md\#202-state-of-a-process}{20.2}\strut
\end{minipage}\tabularnewline
\begin{minipage}[t]{0.24\columnwidth}\raggedright\strut
\texttt{BOUND?}\strut
\end{minipage} & \begin{minipage}[t]{0.70\columnwidth}\raggedright\strut
\textbf{\href{09-functions.md\#91-optional-1}{9.1}} \href{20-coroutines.md\#208-sneakiness-with-processes}{20.8}
\href{21-interrupts.md\#2189-read-and-write}{21.8.9}\strut
\end{minipage}\tabularnewline
\begin{minipage}[t]{0.24\columnwidth}\raggedright\strut
\texttt{BREAK-SEQ}\strut
\end{minipage} & \begin{minipage}[t]{0.70\columnwidth}\raggedright\strut
\textbf{\href{20-coroutines.md\#2071-break-seq}{20.7.1}}\strut
\end{minipage}\tabularnewline
\begin{minipage}[t]{0.24\columnwidth}\raggedright\strut
\texttt{BREAKER}\strut
\end{minipage} & \begin{minipage}[t]{0.70\columnwidth}\raggedright\strut
\textbf{\href{20-coroutines.md\#2071-break-seq}{20.7.1}}\strut
\end{minipage}\tabularnewline
\begin{minipage}[t]{0.24\columnwidth}\raggedright\strut
\texttt{BUFOUT}\strut
\end{minipage} & \begin{minipage}[t]{0.70\columnwidth}\raggedright\strut
\href{11-input-output.md\#1121-open}{11.2.1} \textbf{\href{11-input-output.md\#1178-bufout}{11.7.8}}
\href{11-input-output.md\#11103-nets}{11.10.3}\strut
\end{minipage}\tabularnewline
\begin{minipage}[t]{0.24\columnwidth}\raggedright\strut
\texttt{BYTE-SIZE}\strut
\end{minipage} & \begin{minipage}[t]{0.70\columnwidth}\raggedright\strut
\textbf{\href{07-structured-objects.md\#767-bytes}{7.6.7}}\strut
\end{minipage}\tabularnewline
\begin{minipage}[t]{0.24\columnwidth}\raggedright\strut
\texttt{BYTES}\strut
\end{minipage} & \begin{minipage}[t]{0.70\columnwidth}\raggedright\strut
\textbf{\href{07-structured-objects.md\#725-bytes}{7.2.5}} \textbf{\href{07-structured-objects.md\#767-bytes}{7.6.7}}
\href{appendix-1-a-look-inside.md\#appendix-1-a-look-inside}{Appendix 1}\strut
\end{minipage}\tabularnewline
\begin{minipage}[t]{0.24\columnwidth}\raggedright\strut
\strut
\end{minipage} & \begin{minipage}[t]{0.70\columnwidth}\raggedright\strut
\strut
\end{minipage}\tabularnewline
\begin{minipage}[t]{0.24\columnwidth}\raggedright\strut
\texttt{CALLER}\strut
\end{minipage} & \begin{minipage}[t]{0.70\columnwidth}\raggedright\strut
\textbf{\href{19-compiled-programs.md\#193-rsubr-linking}{19.3}}\strut
\end{minipage}\tabularnewline
\begin{minipage}[t]{0.24\columnwidth}\raggedright\strut
\texttt{CHANLIST}\strut
\end{minipage} & \begin{minipage}[t]{0.70\columnwidth}\raggedright\strut
\textbf{\href{11-input-output.md\#1126-chanlist}{11.2.6}}\strut
\end{minipage}\tabularnewline
\begin{minipage}[t]{0.24\columnwidth}\raggedright\strut
\texttt{CHANNEL}\strut
\end{minipage} & \begin{minipage}[t]{0.70\columnwidth}\raggedright\strut
\href{07-structured-objects.md\#7664-unparse-1}{7.6.6.4} \textbf{\href{11-input-output.md\#112-channel-the-type}{11.2}}
\textbf{\href{11-input-output.md\#1123-channel-the-subr}{11.2.3}} \href{11-input-output.md\#1126-chanlist}{11.2.6}
\href{11-input-output.md\#1128-contents-of-channels}{11.2.8}
\href{13-association-properties.md\#133-examples-of-association}{13.3}\strut
\end{minipage}\tabularnewline
\begin{minipage}[t]{0.24\columnwidth}\raggedright\strut
\texttt{CHARACTER}\strut
\end{minipage} & \begin{minipage}[t]{0.70\columnwidth}\raggedright\strut
\textbf{\href{07-structured-objects.md\#766-string-the-primtype-and-character-1}{7.6.6}}
\href{11-input-output.md\#11123-princ}{11.1.2.3} \href{17-macro-operations.md\#17131-read-finally}{17.1.3.1}\strut
\end{minipage}\tabularnewline
\begin{minipage}[t]{0.24\columnwidth}\raggedright\strut
\texttt{CHTYPE}\strut
\end{minipage} & \begin{minipage}[t]{0.70\columnwidth}\raggedright\strut
\textbf{\href{06-data-types.md\#634-chtype-1}{6.3.4}} \href{appendix-1-a-look-inside.md\#appendix-1-a-look-inside}{Appendix
1}\strut
\end{minipage}\tabularnewline
\begin{minipage}[t]{0.24\columnwidth}\raggedright\strut
\texttt{CHUTYPE}\strut
\end{minipage} & \begin{minipage}[t]{0.70\columnwidth}\raggedright\strut
\textbf{\href{07-structured-objects.md\#7652-chutype-1}{7.6.5.2}}
\href{appendix-1-a-look-inside.md\#basic-data-structures}{Appendix 1}\strut
\end{minipage}\tabularnewline
\begin{minipage}[t]{0.24\columnwidth}\raggedright\strut
\texttt{CLOSE}\strut
\end{minipage} & \begin{minipage}[t]{0.70\columnwidth}\raggedright\strut
\href{11-input-output.md\#1125-close}{11.2.5}\strut
\end{minipage}\tabularnewline
\begin{minipage}[t]{0.24\columnwidth}\raggedright\strut
\texttt{CLOSURE}\strut
\end{minipage} & \begin{minipage}[t]{0.70\columnwidth}\raggedright\strut
\textbf{\href{09-functions.md\#911-closure}{9.11}}\strut
\end{minipage}\tabularnewline
\begin{minipage}[t]{0.24\columnwidth}\raggedright\strut
\texttt{CODE}\strut
\end{minipage} & \begin{minipage}[t]{0.70\columnwidth}\raggedright\strut
\textbf{\href{19-compiled-programs.md\#194-pure-and-impure-code}{19.4}}\strut
\end{minipage}\tabularnewline
\begin{minipage}[t]{0.24\columnwidth}\raggedright\strut
\texttt{COMMENT}\strut
\end{minipage} & \begin{minipage}[t]{0.70\columnwidth}\raggedright\strut
\textbf{\href{13-association-properties.md\#133-examples-of-association}{13.3}}\strut
\end{minipage}\tabularnewline
\begin{minipage}[t]{0.24\columnwidth}\raggedright\strut
\texttt{COND}\strut
\end{minipage} & \begin{minipage}[t]{0.70\columnwidth}\raggedright\strut
\textbf{\href{08-truth.md\#83-cond-1}{8.3}}\strut
\end{minipage}\tabularnewline
\begin{minipage}[t]{0.24\columnwidth}\raggedright\strut
\texttt{CONS}\strut
\end{minipage} & \begin{minipage}[t]{0.70\columnwidth}\raggedright\strut
\textbf{\href{07-structured-objects.md\#7612-cons}{7.6.1.2}}\strut
\end{minipage}\tabularnewline
\begin{minipage}[t]{0.24\columnwidth}\raggedright\strut
\texttt{COS}\strut
\end{minipage} & \begin{minipage}[t]{0.70\columnwidth}\raggedright\strut
\textbf{\href{05-simple-functions.md\#55-examples-comments-1}{5.5}}\strut
\end{minipage}\tabularnewline
\begin{minipage}[t]{0.24\columnwidth}\raggedright\strut
\texttt{CRLF}\strut
\end{minipage} & \begin{minipage}[t]{0.70\columnwidth}\raggedright\strut
\textbf{\href{11-input-output.md\#11125-crlf}{11.1.2.5}} \href{11-input-output.md\#1121-open}{11.2.1}\strut
\end{minipage}\tabularnewline
\begin{minipage}[t]{0.24\columnwidth}\raggedright\strut
\strut
\end{minipage} & \begin{minipage}[t]{0.70\columnwidth}\raggedright\strut
\strut
\end{minipage}\tabularnewline
\begin{minipage}[t]{0.24\columnwidth}\raggedright\strut
\texttt{DEAD}\strut
\end{minipage} & \begin{minipage}[t]{0.70\columnwidth}\raggedright\strut
\textbf{\href{20-coroutines.md\#202-state-of-a-process}{20.2}} \href{20-coroutines.md\#203-process-the-subr}{20.3}\strut
\end{minipage}\tabularnewline
\begin{minipage}[t]{0.24\columnwidth}\raggedright\strut
\texttt{DECL}\strut
\end{minipage} & \begin{minipage}[t]{0.70\columnwidth}\raggedright\strut
\textbf{\href{14-data-type-declarations.md\#chapter-14-data-type-declarations}{Chapter 14}}
\href{appendix-1-a-look-inside.md\#variable-bindings}{Appendix 1}\strut
\end{minipage}\tabularnewline
\begin{minipage}[t]{0.24\columnwidth}\raggedright\strut
\texttt{DECL-CHECK}\strut
\end{minipage} & \begin{minipage}[t]{0.70\columnwidth}\raggedright\strut
\textbf{\href{14-data-type-declarations.md\#1471-decl-check}{14.7.1}}\strut
\end{minipage}\tabularnewline
\begin{minipage}[t]{0.24\columnwidth}\raggedright\strut
\texttt{DECL?}\strut
\end{minipage} & \begin{minipage}[t]{0.70\columnwidth}\raggedright\strut
\textbf{\href{14-data-type-declarations.md\#1474-decl}{14.7.4}}\strut
\end{minipage}\tabularnewline
\begin{minipage}[t]{0.24\columnwidth}\raggedright\strut
\texttt{DEFAULT}\strut
\end{minipage} & \begin{minipage}[t]{0.70\columnwidth}\raggedright\strut
\textbf{\href{15-lexical-blocking.md\#155-initial-state}{15.5}}\strut
\end{minipage}\tabularnewline
\begin{minipage}[t]{0.24\columnwidth}\raggedright\strut
\texttt{DEFINE}\strut
\end{minipage} & \begin{minipage}[t]{0.70\columnwidth}\raggedright\strut
\textbf{\href{05-simple-functions.md\#54-defining-functions-function-and-define-1}{5.4}}
\href{16-errors-frames-etc.md\#162-error}{16.2}\strut
\end{minipage}\tabularnewline
\begin{minipage}[t]{0.24\columnwidth}\raggedright\strut
\texttt{DEFMAC}\strut
\end{minipage} & \begin{minipage}[t]{0.70\columnwidth}\raggedright\strut
\textbf{\href{17-macro-operations.md\#1721-defmac-and-expand}{17.2.1}}\strut
\end{minipage}\tabularnewline
\begin{minipage}[t]{0.24\columnwidth}\raggedright\strut
\texttt{DEMSIG}\strut
\end{minipage} & \begin{minipage}[t]{0.70\columnwidth}\raggedright\strut
\textbf{\href{23-mdl-as-a-system-process.md\#2345-demsig}{23.4.5}}\strut
\end{minipage}\tabularnewline
\begin{minipage}[t]{0.24\columnwidth}\raggedright\strut
\texttt{DEV}\strut
\end{minipage} & \begin{minipage}[t]{0.70\columnwidth}\raggedright\strut
\textbf{\href{11-input-output.md\#1121-open}{11.2.1}}
\href{appendix-5-initial-settings.md\#appendix-5-initial-settings}{Appendix 5}\strut
\end{minipage}\tabularnewline
\begin{minipage}[t]{0.24\columnwidth}\raggedright\strut
\texttt{DISABLE}\strut
\end{minipage} & \begin{minipage}[t]{0.70\columnwidth}\raggedright\strut
\textbf{\href{21-interrupts.md\#216-other-subrs}{21.6}}\strut
\end{minipage}\tabularnewline
\begin{minipage}[t]{0.24\columnwidth}\raggedright\strut
\texttt{DISMISS}\strut
\end{minipage} & \begin{minipage}[t]{0.70\columnwidth}\raggedright\strut
\textbf{\href{20-coroutines.md\#2076-1step}{20.7.6}} \textbf{\href{21-interrupts.md\#213-handler-the-subr}{21.3}}
\textbf{\href{21-interrupts.md\#2173-dismiss}{21.7.3}}\strut
\end{minipage}\tabularnewline
\begin{minipage}[t]{0.24\columnwidth}\raggedright\strut
\strut
\end{minipage} & \begin{minipage}[t]{0.70\columnwidth}\raggedright\strut
\strut
\end{minipage}\tabularnewline
\begin{minipage}[t]{0.24\columnwidth}\raggedright\strut
\texttt{ECHOPAIR}\strut
\end{minipage} & \begin{minipage}[t]{0.70\columnwidth}\raggedright\strut
\href{11-input-output.md\#1121-open}{11.2.1} \textbf{\href{11-input-output.md\#1181-echopair}{11.8.1}}
\href{16-errors-frames-etc.md\#161-listen}{16.1}\strut
\end{minipage}\tabularnewline
\begin{minipage}[t]{0.24\columnwidth}\raggedright\strut
\texttt{EMPTY?}\strut
\end{minipage} & \begin{minipage}[t]{0.70\columnwidth}\raggedright\strut
\textbf{\href{08-truth.md\#824-object-properties-1}{8.2.4}}\strut
\end{minipage}\tabularnewline
\begin{minipage}[t]{0.24\columnwidth}\raggedright\strut
\texttt{ENABLE}\strut
\end{minipage} & \begin{minipage}[t]{0.70\columnwidth}\raggedright\strut
\textbf{\href{21-interrupts.md\#216-other-subrs}{21.6}}\strut
\end{minipage}\tabularnewline
\begin{minipage}[t]{0.24\columnwidth}\raggedright\strut
\texttt{ENDBLOCK}\strut
\end{minipage} & \begin{minipage}[t]{0.70\columnwidth}\raggedright\strut
\textbf{\href{15-lexical-blocking.md\#156-block-and-endblock}{15.6}}
\href{15-lexical-blocking.md\#158-example-another-solution-to-the-inc-problem}{15.8}\strut
\end{minipage}\tabularnewline
\begin{minipage}[t]{0.24\columnwidth}\raggedright\strut
\texttt{ENTRY-LOC}\strut
\end{minipage} & \begin{minipage}[t]{0.70\columnwidth}\raggedright\strut
\textbf{\href{19-compiled-programs.md\#197-rsubr-entry}{19.7}}\strut
\end{minipage}\tabularnewline
\begin{minipage}[t]{0.24\columnwidth}\raggedright\strut
\texttt{ENVIRONMENT}\strut
\end{minipage} & \begin{minipage}[t]{0.70\columnwidth}\raggedright\strut
\href{05-simple-functions.md\#53-application-of-functions-binding-1}{5.3}
\textbf{\href{09-functions.md\#97-eval-and-bind}{9.7}}
\href{09-functions.md\#971-local-values-versus-environments}{9.7.1}\strut
\end{minipage}\tabularnewline
\begin{minipage}[t]{0.24\columnwidth}\raggedright\strut
\texttt{EQVB}\strut
\end{minipage} & \begin{minipage}[t]{0.70\columnwidth}\raggedright\strut
\textbf{\href{18-machine-words-and-bits.md\#185-bitwise-boolean-operations}{18.5}}\strut
\end{minipage}\tabularnewline
\begin{minipage}[t]{0.24\columnwidth}\raggedright\strut
\texttt{ERRET}\strut
\end{minipage} & \begin{minipage}[t]{0.70\columnwidth}\raggedright\strut
\href{01-basic-introduction.md\#14-errors-simple-considerations-1}{1.4}
\textbf{\href{16-errors-frames-etc.md\#164-erret}{16.4}} \href{20-coroutines.md\#208-sneakiness-with-processes}{20.8}
\href{appendix-1-a-look-inside.md\#the-control-stack}{Appendix 1}\strut
\end{minipage}\tabularnewline
\begin{minipage}[t]{0.24\columnwidth}\raggedright\strut
\texttt{ERROR}\strut
\end{minipage} & \begin{minipage}[t]{0.70\columnwidth}\raggedright\strut
\href{01-basic-introduction.md\#14-errors-simple-considerations-1}{1.4}
\textbf{\href{16-errors-frames-etc.md\#162-error}{16.2}} \href{21-interrupts.md\#2172-int-level}{21.7.2}
\href{24-efficiency-and-tastefulness.md\#2411-example}{24.1.1}\strut
\end{minipage}\tabularnewline
\begin{minipage}[t]{0.24\columnwidth}\raggedright\strut
\texttt{ERRORS}\strut
\end{minipage} & \begin{minipage}[t]{0.70\columnwidth}\raggedright\strut
\textbf{\href{15-lexical-blocking.md\#155-initial-state}{15.5}} \href{16-errors-frames-etc.md\#162-error}{16.2}
\href{24-efficiency-and-tastefulness.md\#2411-example}{24.1.1}\strut
\end{minipage}\tabularnewline
\begin{minipage}[t]{0.24\columnwidth}\raggedright\strut
\texttt{EVAL}\strut
\end{minipage} & \begin{minipage}[t]{0.70\columnwidth}\raggedright\strut
\textbf{\href{02-read-evaluate-print.md\#21-general-1}{2.1}}
\href{06-data-types.md\#644-printtype-evaltype-and-applytype}{6.4.4} \textbf{\href{09-functions.md\#97-eval-and-bind}{9.7}}
\href{20-coroutines.md\#2076-1step}{20.7.6}\strut
\end{minipage}\tabularnewline
\begin{minipage}[t]{0.24\columnwidth}\raggedright\strut
\texttt{EVALTYPE}\strut
\end{minipage} & \begin{minipage}[t]{0.70\columnwidth}\raggedright\strut
\textbf{\href{06-data-types.md\#644-printtype-evaltype-and-applytype}{6.4.4}}\strut
\end{minipage}\tabularnewline
\begin{minipage}[t]{0.24\columnwidth}\raggedright\strut
\texttt{EVENT}\strut
\end{minipage} & \begin{minipage}[t]{0.70\columnwidth}\raggedright\strut
\textbf{\href{21-interrupts.md\#212-event}{21.2}} \href{21-interrupts.md\#214-off}{21.4}
\href{21-interrupts.md\#2151-iheader}{21.5.1}\strut
\end{minipage}\tabularnewline
\begin{minipage}[t]{0.24\columnwidth}\raggedright\strut
\texttt{EVLIN}\strut
\end{minipage} & \begin{minipage}[t]{0.70\columnwidth}\raggedright\strut
\textbf{\href{20-coroutines.md\#2076-1step}{20.7.6}}\strut
\end{minipage}\tabularnewline
\begin{minipage}[t]{0.24\columnwidth}\raggedright\strut
\texttt{EVLOUT}\strut
\end{minipage} & \begin{minipage}[t]{0.70\columnwidth}\raggedright\strut
\textbf{\href{20-coroutines.md\#2076-1step}{20.7.6}}\strut
\end{minipage}\tabularnewline
\begin{minipage}[t]{0.24\columnwidth}\raggedright\strut
\texttt{EXP}\strut
\end{minipage} & \begin{minipage}[t]{0.70\columnwidth}\raggedright\strut
\textbf{\href{05-simple-functions.md\#55-examples-comments-1}{5.5}}\strut
\end{minipage}\tabularnewline
\begin{minipage}[t]{0.24\columnwidth}\raggedright\strut
\texttt{EXPAND}\strut
\end{minipage} & \begin{minipage}[t]{0.70\columnwidth}\raggedright\strut
\textbf{\href{17-macro-operations.md\#1721-defmac-and-expand}{17.2.1}}\strut
\end{minipage}\tabularnewline
\begin{minipage}[t]{0.24\columnwidth}\raggedright\strut
\strut
\end{minipage} & \begin{minipage}[t]{0.70\columnwidth}\raggedright\strut
\strut
\end{minipage}\tabularnewline
\begin{minipage}[t]{0.24\columnwidth}\raggedright\strut
\texttt{FALSE}\strut
\end{minipage} & \begin{minipage}[t]{0.70\columnwidth}\raggedright\strut
\textbf{\href{08-truth.md\#81-truth-values-1}{8.1}}\strut
\end{minipage}\tabularnewline
\begin{minipage}[t]{0.24\columnwidth}\raggedright\strut
\texttt{FBIN}\strut
\end{minipage} & \begin{minipage}[t]{0.70\columnwidth}\raggedright\strut
\textbf{\href{19-compiled-programs.md\#198-rsubrs-in-files}{19.8}}\strut
\end{minipage}\tabularnewline
\begin{minipage}[t]{0.24\columnwidth}\raggedright\strut
\texttt{FILE-EXISTS?}\strut
\end{minipage} & \begin{minipage}[t]{0.70\columnwidth}\raggedright\strut
\textbf{\href{11-input-output.md\#1124-file-exists}{11.2.4}}\strut
\end{minipage}\tabularnewline
\begin{minipage}[t]{0.24\columnwidth}\raggedright\strut
\texttt{FILE-LENGTH}\strut
\end{minipage} & \begin{minipage}[t]{0.70\columnwidth}\raggedright\strut
\href{11-input-output.md\#1121-open}{11.2.1} \textbf{\href{11-input-output.md\#1175-file-length}{11.7.5}}\strut
\end{minipage}\tabularnewline
\begin{minipage}[t]{0.24\columnwidth}\raggedright\strut
\texttt{FILECOPY}\strut
\end{minipage} & \begin{minipage}[t]{0.70\columnwidth}\raggedright\strut
\href{11-input-output.md\#1121-open}{11.2.1} \textbf{\href{11-input-output.md\#1176-filecopy}{11.7.6}}\strut
\end{minipage}\tabularnewline
\begin{minipage}[t]{0.24\columnwidth}\raggedright\strut
\texttt{FIX}\strut
\end{minipage} & \begin{minipage}[t]{0.70\columnwidth}\raggedright\strut
\href{02-read-evaluate-print.md\#23-example-type-fix-1}{2.3}
\textbf{\href{02-read-evaluate-print.md\#261-read-and-fixed-point-numbers}{2.6.1}}
\href{02-read-evaluate-print.md\#262-read-and-print-versus-floating-point-numbers}{2.6.2}
\textbf{\href{03-built-in-functions.md\#34-examples--and-fix-arithmetic-1}{3.4}}
\href{07-structured-objects.md\#716-applying-a-fix-1}{7.1.6} \href{14-data-type-declarations.md\#148-offset}{14.8}\strut
\end{minipage}\tabularnewline
\begin{minipage}[t]{0.24\columnwidth}\raggedright\strut
\texttt{FLATSIZE}\strut
\end{minipage} & \begin{minipage}[t]{0.70\columnwidth}\raggedright\strut
\textbf{\href{11-input-output.md\#11126-flatsize}{11.1.2.6}}\strut
\end{minipage}\tabularnewline
\begin{minipage}[t]{0.24\columnwidth}\raggedright\strut
\texttt{FLOAD}\strut
\end{minipage} & \begin{minipage}[t]{0.70\columnwidth}\raggedright\strut
\textbf{\href{01-basic-introduction.md\#13-loading-a-file-1}{1.3}} \href{08-truth.md\#841-and-and-or-as-short-conds}{8.4.1}
\textbf{\href{11-input-output.md\#1172-fload}{11.7.2}} \href{16-errors-frames-etc.md\#166-unwind}{16.6}\strut
\end{minipage}\tabularnewline
\begin{minipage}[t]{0.24\columnwidth}\raggedright\strut
\texttt{FLOAT}\strut
\end{minipage} & \begin{minipage}[t]{0.70\columnwidth}\raggedright\strut
\href{02-read-evaluate-print.md\#24-example-type-float-1}{2.4}
\textbf{\href{02-read-evaluate-print.md\#262-read-and-print-versus-floating-point-numbers}{2.6.2}}\strut
\end{minipage}\tabularnewline
\begin{minipage}[t]{0.24\columnwidth}\raggedright\strut
\texttt{FORM}\strut
\end{minipage} & \begin{minipage}[t]{0.70\columnwidth}\raggedright\strut
\textbf{\href{03-built-in-functions.md\#31-representation-1}{3.1}} \href{04-values-of-atoms.md\#44-value}{4.4}
\textbf{\href{07-structured-objects.md\#755-form-and-iform}{7.5.5}} \href{08-truth.md\#81-truth-values-1}{8.1}\strut
\end{minipage}\tabularnewline
\begin{minipage}[t]{0.24\columnwidth}\raggedright\strut
\texttt{FRAME}\strut
\end{minipage} & \begin{minipage}[t]{0.70\columnwidth}\raggedright\strut
\textbf{\href{16-errors-frames-etc.md\#163-frame-the-type}{16.3}}
\textbf{\href{16-errors-frames-etc.md\#1633-frame-the-subr}{16.3.3}}
\href{20-coroutines.md\#208-sneakiness-with-processes}{20.8}
\href{22-storage-management.md\#2211-stacks-and-other-internal-vectors}{22.1.1}
\href{appendix-1-a-look-inside.md\#appendix-1-a-look-inside}{Appendix 1}\strut
\end{minipage}\tabularnewline
\begin{minipage}[t]{0.24\columnwidth}\raggedright\strut
\texttt{FREE-RUN}\strut
\end{minipage} & \begin{minipage}[t]{0.70\columnwidth}\raggedright\strut
\textbf{\href{20-coroutines.md\#2077-free-run}{20.7.7}}\strut
\end{minipage}\tabularnewline
\begin{minipage}[t]{0.24\columnwidth}\raggedright\strut
\texttt{FREEZE}\strut
\end{minipage} & \begin{minipage}[t]{0.70\columnwidth}\raggedright\strut
\href{19-compiled-programs.md\#194-pure-and-impure-code}{19.4} \href{21-interrupts.md\#2184-gc}{21.8.4}
\textbf{\href{22-storage-management.md\#2221-garbage-collected-freeze}{22.2.1}}\strut
\end{minipage}\tabularnewline
\begin{minipage}[t]{0.24\columnwidth}\raggedright\strut
\texttt{FSAVE}\strut
\end{minipage} & \begin{minipage}[t]{0.70\columnwidth}\raggedright\strut
\href{11-input-output.md\#1161-save}{11.6.1}\strut
\end{minipage}\tabularnewline
\begin{minipage}[t]{0.24\columnwidth}\raggedright\strut
\texttt{FSUBR}\strut
\end{minipage} & \begin{minipage}[t]{0.70\columnwidth}\raggedright\strut
\textbf{\href{03-built-in-functions.md\#33-built-in-functions-type-subr-type-fsubr-1}{3.3}}
\href{04-values-of-atoms.md\#423-note-on-subrs-and-fsubrs}{4.2.3}
\href{05-simple-functions.md\#54-defining-functions-function-and-define-1}{5.4}
\href{07-structured-objects.md\#752-quote-1}{7.5.2} \href{08-truth.md\#823-boolean-operators-1}{8.2.3}
\href{08-truth.md\#83-cond-1}{8.3} \href{10-looping.md\#101-prog-and-repeat-1}{10.1}
\href{10-looping.md\#1012-again-and-return-in-prog-and-repeat-1}{10.1.2} \href{10-looping.md\#1035-stackform}{10.3.5}
\href{14-data-type-declarations.md\#1451-gdecl-and-manifest}{14.5.1}
\href{16-errors-frames-etc.md\#163-frame-the-type}{16.3} \href{16-errors-frames-etc.md\#166-unwind}{16.6}\strut
\end{minipage}\tabularnewline
\begin{minipage}[t]{0.24\columnwidth}\raggedright\strut
\texttt{FUNCT}\strut
\end{minipage} & \begin{minipage}[t]{0.70\columnwidth}\raggedright\strut
\textbf{\href{16-errors-frames-etc.md\#1632-funct}{16.3.2}}
\href{20-coroutines.md\#208-sneakiness-with-processes}{20.8}\strut
\end{minipage}\tabularnewline
\begin{minipage}[t]{0.24\columnwidth}\raggedright\strut
\texttt{function}\strut
\end{minipage} & \begin{minipage}[t]{0.70\columnwidth}\raggedright\strut
\textbf{\href{03-built-in-functions.md\#31-representation-1}{3.1}}\strut
\end{minipage}\tabularnewline
\begin{minipage}[t]{0.24\columnwidth}\raggedright\strut
\texttt{FUNCTION}\strut
\end{minipage} & \begin{minipage}[t]{0.70\columnwidth}\raggedright\strut
\textbf{\href{05-simple-functions.md\#51-general-1}{5.1}}
\textbf{\href{05-simple-functions.md\#54-defining-functions-function-and-define-1}{5.4}}
\textbf{\href{09-functions.md\#chapter-9-functions}{Chapter 9}} \href{09-functions.md\#97-eval-and-bind}{9.7}
\href{09-functions.md\#98-activation-name-act-again-and-return-1}{9.8}\strut
\end{minipage}\tabularnewline
\begin{minipage}[t]{0.24\columnwidth}\raggedright\strut
\texttt{Function}\strut
\end{minipage} & \begin{minipage}[t]{0.70\columnwidth}\raggedright\strut
\textbf{\href{09-functions.md\#98-activation-name-act-again-and-return-1}{9.8}}\strut
\end{minipage}\tabularnewline
\begin{minipage}[t]{0.24\columnwidth}\raggedright\strut
\strut
\end{minipage} & \begin{minipage}[t]{0.70\columnwidth}\raggedright\strut
\strut
\end{minipage}\tabularnewline
\begin{minipage}[t]{0.24\columnwidth}\raggedright\strut
\texttt{G/LVAL}\strut
\end{minipage} & \begin{minipage}[t]{0.70\columnwidth}\raggedright\strut
\href{16-errors-frames-etc.md\#1632-funct}{16.3.2}\strut
\end{minipage}\tabularnewline
\begin{minipage}[t]{0.24\columnwidth}\raggedright\strut
\texttt{G=?}\strut
\end{minipage} & \begin{minipage}[t]{0.70\columnwidth}\raggedright\strut
\textbf{\href{08-truth.md\#821-arithmetic-1}{8.2.1}}\strut
\end{minipage}\tabularnewline
\begin{minipage}[t]{0.24\columnwidth}\raggedright\strut
\texttt{G?}\strut
\end{minipage} & \begin{minipage}[t]{0.70\columnwidth}\raggedright\strut
\textbf{\href{08-truth.md\#821-arithmetic-1}{8.2.1}}\strut
\end{minipage}\tabularnewline
\begin{minipage}[t]{0.24\columnwidth}\raggedright\strut
\texttt{GASSIGNED?}\strut
\end{minipage} & \begin{minipage}[t]{0.70\columnwidth}\raggedright\strut
\textbf{\href{09-functions.md\#91-optional-1}{9.1}} \href{21-interrupts.md\#2189-read-and-write}{21.8.9}\strut
\end{minipage}\tabularnewline
\begin{minipage}[t]{0.24\columnwidth}\raggedright\strut
\texttt{GBOUND?}\strut
\end{minipage} & \begin{minipage}[t]{0.70\columnwidth}\raggedright\strut
\href{09-functions.md\#91-optional-1}{9.1} \textbf{\href{14-data-type-declarations.md\#1453-gbound}{14.5.3}}
\href{22-storage-management.md\#2211-stacks-and-other-internal-vectors}{22.1.1}\strut
\end{minipage}\tabularnewline
\begin{minipage}[t]{0.24\columnwidth}\raggedright\strut
\texttt{GC}\strut
\end{minipage} & \begin{minipage}[t]{0.70\columnwidth}\raggedright\strut
\href{21-interrupts.md\#2184-gc}{21.8.4} \textbf{\href{22-storage-management.md\#225-gc}{22.5}}\strut
\end{minipage}\tabularnewline
\begin{minipage}[t]{0.24\columnwidth}\raggedright\strut
\texttt{GC-DUMP}\strut
\end{minipage} & \begin{minipage}[t]{0.70\columnwidth}\raggedright\strut
\href{11-input-output.md\#1121-open}{11.2.1} \textbf{\href{11-input-output.md\#1151-output-gc-dump}{11.5.1}}
\href{22-storage-management.md\#229-related-subroutines}{22.9}\strut
\end{minipage}\tabularnewline
\begin{minipage}[t]{0.24\columnwidth}\raggedright\strut
\texttt{GC-MON}\strut
\end{minipage} & \begin{minipage}[t]{0.70\columnwidth}\raggedright\strut
\textbf{\href{22-storage-management.md\#228-gc-mon}{22.8}}\strut
\end{minipage}\tabularnewline
\begin{minipage}[t]{0.24\columnwidth}\raggedright\strut
\texttt{GC-READ}\strut
\end{minipage} & \begin{minipage}[t]{0.70\columnwidth}\raggedright\strut
\href{11-input-output.md\#1121-open}{11.2.1} \textbf{\href{11-input-output.md\#1152-input-gc-read}{11.5.2}}
\href{21-interrupts.md\#2184-gc}{21.8.4} \href{22-storage-management.md\#229-related-subroutines}{22.9}\strut
\end{minipage}\tabularnewline
\begin{minipage}[t]{0.24\columnwidth}\raggedright\strut
\texttt{GDECL}\strut
\end{minipage} & \begin{minipage}[t]{0.70\columnwidth}\raggedright\strut
\textbf{\href{14-data-type-declarations.md\#1451-gdecl-and-manifest}{14.5.1}}\strut
\end{minipage}\tabularnewline
\begin{minipage}[t]{0.24\columnwidth}\raggedright\strut
\texttt{GET}\strut
\end{minipage} & \begin{minipage}[t]{0.70\columnwidth}\raggedright\strut
\textbf{\href{07-structured-objects.md\#715-get}{7.1.5}}
\textbf{\href{13-association-properties.md\#1322-get}{13.2.2}}\strut
\end{minipage}\tabularnewline
\begin{minipage}[t]{0.24\columnwidth}\raggedright\strut
\texttt{GET-DECL}\strut
\end{minipage} & \begin{minipage}[t]{0.70\columnwidth}\raggedright\strut
\textbf{\href{14-data-type-declarations.md\#1473-get-decl-and-put-decl}{14.7.3}}
\href{14-data-type-declarations.md\#148-offset}{14.8}\strut
\end{minipage}\tabularnewline
\begin{minipage}[t]{0.24\columnwidth}\raggedright\strut
\texttt{GETBITS}\strut
\end{minipage} & \begin{minipage}[t]{0.70\columnwidth}\raggedright\strut
\textbf{\href{18-machine-words-and-bits.md\#183-getbits}{18.3}}\strut
\end{minipage}\tabularnewline
\begin{minipage}[t]{0.24\columnwidth}\raggedright\strut
\texttt{GETL}\strut
\end{minipage} & \begin{minipage}[t]{0.70\columnwidth}\raggedright\strut
\textbf{\href{12-locatives.md\#1214-getpl-and-getl}{12.1.4}}\strut
\end{minipage}\tabularnewline
\begin{minipage}[t]{0.24\columnwidth}\raggedright\strut
\texttt{GETPL}\strut
\end{minipage} & \begin{minipage}[t]{0.70\columnwidth}\raggedright\strut
\textbf{\href{12-locatives.md\#1214-getpl-and-getl}{12.1.4}}\strut
\end{minipage}\tabularnewline
\begin{minipage}[t]{0.24\columnwidth}\raggedright\strut
\texttt{GETPROP}\strut
\end{minipage} & \begin{minipage}[t]{0.70\columnwidth}\raggedright\strut
\textbf{\href{13-association-properties.md\#1321-getprop}{13.2.1}}\strut
\end{minipage}\tabularnewline
\begin{minipage}[t]{0.24\columnwidth}\raggedright\strut
\texttt{GLOC}\strut
\end{minipage} & \begin{minipage}[t]{0.70\columnwidth}\raggedright\strut
\textbf{\href{12-locatives.md\#1212-gloc}{12.1.2}} \href{19-compiled-programs.md\#194-pure-and-impure-code}{19.4}\strut
\end{minipage}\tabularnewline
\begin{minipage}[t]{0.24\columnwidth}\raggedright\strut
\texttt{GO}\strut
\end{minipage} & \begin{minipage}[t]{0.70\columnwidth}\raggedright\strut
\textbf{\href{10-looping.md\#104-go-and-tag}{10.4}} \href{20-coroutines.md\#208-sneakiness-with-processes}{20.8}
\href{24-efficiency-and-tastefulness.md\#241-efficiency}{24.1}\strut
\end{minipage}\tabularnewline
\begin{minipage}[t]{0.24\columnwidth}\raggedright\strut
\texttt{GROW}\strut
\end{minipage} & \begin{minipage}[t]{0.70\columnwidth}\raggedright\strut
\textbf{\href{07-structured-objects.md\#7631-grow}{7.6.3.1}} \href{21-interrupts.md\#2184-gc}{21.8.4}\strut
\end{minipage}\tabularnewline
\begin{minipage}[t]{0.24\columnwidth}\raggedright\strut
\texttt{GUNASSIGN}\strut
\end{minipage} & \begin{minipage}[t]{0.70\columnwidth}\raggedright\strut
\textbf{\href{04-values-of-atoms.md\#424-gunassign}{4.2.4}}\strut
\end{minipage}\tabularnewline
\begin{minipage}[t]{0.24\columnwidth}\raggedright\strut
\texttt{GVAL}\strut
\end{minipage} & \begin{minipage}[t]{0.70\columnwidth}\raggedright\strut
\textbf{\href{04-values-of-atoms.md\#422-gval-1}{4.2.2}}
\href{05-simple-functions.md\#54-defining-functions-function-and-define-1}{5.4}
\href{05-simple-functions.md\#55-examples-comments-1}{5.5} \href{12-locatives.md\#1212-gloc}{12.1.2}
\href{20-coroutines.md\#201-process-the-type}{20.1}
\href{22-storage-management.md\#2211-stacks-and-other-internal-vectors}{22.1.1}
\href{22-storage-management.md\#223-other-storage}{22.3}
\href{24-efficiency-and-tastefulness.md\#244-global-and-local-values}{24.4}\strut
\end{minipage}\tabularnewline
\begin{minipage}[t]{0.24\columnwidth}\raggedright\strut
\strut
\end{minipage} & \begin{minipage}[t]{0.70\columnwidth}\raggedright\strut
\strut
\end{minipage}\tabularnewline
\begin{minipage}[t]{0.24\columnwidth}\raggedright\strut
\texttt{HANDLER}\strut
\end{minipage} & \begin{minipage}[t]{0.70\columnwidth}\raggedright\strut
\href{21-interrupts.md\#211-definitions-of-terms}{21.1} \textbf{\href{21-interrupts.md\#213-handler-the-subr}{21.3}}
\href{21-interrupts.md\#214-off}{21.4} \textbf{\href{21-interrupts.md\#215-iheader-and-handler-the-types}{21.5}}
\href{21-interrupts.md\#2181-char-received}{21.8.1}\strut
\end{minipage}\tabularnewline
\begin{minipage}[t]{0.24\columnwidth}\raggedright\strut
\texttt{HANG}\strut
\end{minipage} & \begin{minipage}[t]{0.70\columnwidth}\raggedright\strut
\textbf{\href{21-interrupts.md\#21101-hang}{21.10.1}}\strut
\end{minipage}\tabularnewline
\begin{minipage}[t]{0.24\columnwidth}\raggedright\strut
\strut
\end{minipage} & \begin{minipage}[t]{0.70\columnwidth}\raggedright\strut
\strut
\end{minipage}\tabularnewline
\begin{minipage}[t]{0.24\columnwidth}\raggedright\strut
\texttt{IBYTES}\strut
\end{minipage} & \begin{minipage}[t]{0.70\columnwidth}\raggedright\strut
\textbf{\href{07-structured-objects.md\#767-bytes}{7.6.7}}\strut
\end{minipage}\tabularnewline
\begin{minipage}[t]{0.24\columnwidth}\raggedright\strut
\texttt{IFORM}\strut
\end{minipage} & \begin{minipage}[t]{0.70\columnwidth}\raggedright\strut
\textbf{\href{07-structured-objects.md\#755-form-and-iform}{7.5.5}}\strut
\end{minipage}\tabularnewline
\begin{minipage}[t]{0.24\columnwidth}\raggedright\strut
\texttt{IHEADER}\strut
\end{minipage} & \begin{minipage}[t]{0.70\columnwidth}\raggedright\strut
\href{21-interrupts.md\#211-definitions-of-terms}{21.1}
\textbf{\href{21-interrupts.md\#215-iheader-and-handler-the-types}{21.5}}\strut
\end{minipage}\tabularnewline
\begin{minipage}[t]{0.24\columnwidth}\raggedright\strut
\texttt{ILIST}\strut
\end{minipage} & \begin{minipage}[t]{0.70\columnwidth}\raggedright\strut
\textbf{\href{07-structured-objects.md\#754-ilist-ivector-iuvector-and-istring-1}{7.5.4}}
\href{24-efficiency-and-tastefulness.md\#241-efficiency}{24.1}\strut
\end{minipage}\tabularnewline
\begin{minipage}[t]{0.24\columnwidth}\raggedright\strut
\texttt{ILLEGAL}\strut
\end{minipage} & \begin{minipage}[t]{0.70\columnwidth}\raggedright\strut
\textbf{\href{22-storage-management.md\#2211-stacks-and-other-internal-vectors}{22.1.1}}\strut
\end{minipage}\tabularnewline
\begin{minipage}[t]{0.24\columnwidth}\raggedright\strut
\texttt{IMAGE}\strut
\end{minipage} & \begin{minipage}[t]{0.70\columnwidth}\raggedright\strut
\href{11-input-output.md\#1121-open}{11.2.1} \textbf{\href{11-input-output.md\#11423-image}{11.4.2.3}}
\href{21-interrupts.md\#2183-char-for-new-line}{21.8.3}\strut
\end{minipage}\tabularnewline
\begin{minipage}[t]{0.24\columnwidth}\raggedright\strut
\texttt{IN}\strut
\end{minipage} & \begin{minipage}[t]{0.70\columnwidth}\raggedright\strut
\href{12-locatives.md\#1211-lloc}{12.1.1} \textbf{\href{12-locatives.md\#1231-in}{12.3.1}}
\href{12-locatives.md\#124-note-on-locatives}{12.4}\strut
\end{minipage}\tabularnewline
\begin{minipage}[t]{0.24\columnwidth}\raggedright\strut
\texttt{INCHAN}\strut
\end{minipage} & \begin{minipage}[t]{0.70\columnwidth}\raggedright\strut
\textbf{\href{11-input-output.md\#1127-inchan-and-outchan}{11.2.7}} \href{16-errors-frames-etc.md\#161-listen}{16.1}\strut
\end{minipage}\tabularnewline
\begin{minipage}[t]{0.24\columnwidth}\raggedright\strut
\texttt{INDEX}\strut
\end{minipage} & \begin{minipage}[t]{0.70\columnwidth}\raggedright\strut
\textbf{\href{14-data-type-declarations.md\#148-offset}{14.8}}\strut
\end{minipage}\tabularnewline
\begin{minipage}[t]{0.24\columnwidth}\raggedright\strut
\texttt{INDICATOR}\strut
\end{minipage} & \begin{minipage}[t]{0.70\columnwidth}\raggedright\strut
\textbf{\href{13-association-properties.md\#134-examining-associations}{13.4}}\strut
\end{minipage}\tabularnewline
\begin{minipage}[t]{0.24\columnwidth}\raggedright\strut
\texttt{INIT}\strut
\end{minipage} & \begin{minipage}[t]{0.70\columnwidth}\raggedright\strut
\textbf{\href{01-basic-introduction.md\#13-loading-a-file-1}{1.3}}\strut
\end{minipage}\tabularnewline
\begin{minipage}[t]{0.24\columnwidth}\raggedright\strut
\texttt{INITIAL}\strut
\end{minipage} & \begin{minipage}[t]{0.70\columnwidth}\raggedright\strut
\textbf{\href{15-lexical-blocking.md\#155-initial-state}{15.5}}
\href{appendix-5-initial-settings.md\#appendix-5-initial-settings}{Appendix 5}\strut
\end{minipage}\tabularnewline
\begin{minipage}[t]{0.24\columnwidth}\raggedright\strut
\texttt{INSERT}\strut
\end{minipage} & \begin{minipage}[t]{0.70\columnwidth}\raggedright\strut
\textbf{\href{15-lexical-blocking.md\#1576-insert}{15.7.6}}
\href{15-lexical-blocking.md\#158-example-another-solution-to-the-inc-problem}{15.8}\strut
\end{minipage}\tabularnewline
\begin{minipage}[t]{0.24\columnwidth}\raggedright\strut
\texttt{INT-LEVEL}\strut
\end{minipage} & \begin{minipage}[t]{0.70\columnwidth}\raggedright\strut
\textbf{\href{21-interrupts.md\#2172-int-level}{21.7.2}}\strut
\end{minipage}\tabularnewline
\begin{minipage}[t]{0.24\columnwidth}\raggedright\strut
\texttt{INTERNAL}\strut
\end{minipage} & \begin{minipage}[t]{0.70\columnwidth}\raggedright\strut
\href{appendix-3-predefined-types.md\#appendix-3-predefined-types}{Appendix 3}\strut
\end{minipage}\tabularnewline
\begin{minipage}[t]{0.24\columnwidth}\raggedright\strut
\texttt{INTERNAL-TYPE}\strut
\end{minipage} & \begin{minipage}[t]{0.70\columnwidth}\raggedright\strut
\href{appendix-3-predefined-types.md\#appendix-3-predefined-types}{Appendix 3}\strut
\end{minipage}\tabularnewline
\begin{minipage}[t]{0.24\columnwidth}\raggedright\strut
\texttt{INTERRUPT}\strut
\end{minipage} & \begin{minipage}[t]{0.70\columnwidth}\raggedright\strut
\textbf{\href{21-interrupts.md\#2151-iheader}{21.5.1}}
\textbf{\href{21-interrupts.md\#219-user-defined-interrupts}{21.9}}\strut
\end{minipage}\tabularnewline
\begin{minipage}[t]{0.24\columnwidth}\raggedright\strut
\texttt{INTERRUPT-HANDLER}\strut
\end{minipage} & \begin{minipage}[t]{0.70\columnwidth}\raggedright\strut
\textbf{\href{21-interrupts.md\#2184-gc}{21.8.4}}\strut
\end{minipage}\tabularnewline
\begin{minipage}[t]{0.24\columnwidth}\raggedright\strut
\texttt{INTERRUPTS}\strut
\end{minipage} & \begin{minipage}[t]{0.70\columnwidth}\raggedright\strut
\href{15-lexical-blocking.md\#155-initial-state}{15.5}
\textbf{\href{21-interrupts.md\#211-definitions-of-terms}{21.1}}\strut
\end{minipage}\tabularnewline
\begin{minipage}[t]{0.24\columnwidth}\raggedright\strut
\texttt{IPC-HANDLER}\strut
\end{minipage} & \begin{minipage}[t]{0.70\columnwidth}\raggedright\strut
\textbf{\href{23-mdl-as-a-system-process.md\#2342-the-ipc-interrupt}{23.4.2}}\strut
\end{minipage}\tabularnewline
\begin{minipage}[t]{0.24\columnwidth}\raggedright\strut
\texttt{IPC-OFF}\strut
\end{minipage} & \begin{minipage}[t]{0.70\columnwidth}\raggedright\strut
\textbf{\href{23-mdl-as-a-system-process.md\#2343-ipc-off}{23.4.3}}\strut
\end{minipage}\tabularnewline
\begin{minipage}[t]{0.24\columnwidth}\raggedright\strut
\texttt{IPC-ON}\strut
\end{minipage} & \begin{minipage}[t]{0.70\columnwidth}\raggedright\strut
\textbf{\href{23-mdl-as-a-system-process.md\#2344-ipc-on}{23.4.4}}\strut
\end{minipage}\tabularnewline
\begin{minipage}[t]{0.24\columnwidth}\raggedright\strut
\texttt{ISTORAGE}\strut
\end{minipage} & \begin{minipage}[t]{0.70\columnwidth}\raggedright\strut
\href{appendix-2-predefined-subroutines.md\#appendix-2-predefined-subroutines}{Appendix 2}\strut
\end{minipage}\tabularnewline
\begin{minipage}[t]{0.24\columnwidth}\raggedright\strut
\texttt{ISTRING}\strut
\end{minipage} & \begin{minipage}[t]{0.70\columnwidth}\raggedright\strut
\textbf{\href{07-structured-objects.md\#754-ilist-ivector-iuvector-and-istring-1}{7.5.4}}
\href{07-structured-objects.md\#766-string-the-primtype-and-character-1}{7.6.6}\strut
\end{minipage}\tabularnewline
\begin{minipage}[t]{0.24\columnwidth}\raggedright\strut
\texttt{ITEM}\strut
\end{minipage} & \begin{minipage}[t]{0.70\columnwidth}\raggedright\strut
\textbf{\href{13-association-properties.md\#134-examining-associations}{13.4}}\strut
\end{minipage}\tabularnewline
\begin{minipage}[t]{0.24\columnwidth}\raggedright\strut
\texttt{ITS}\strut
\end{minipage} & \begin{minipage}[t]{0.70\columnwidth}\raggedright\strut
\href{01-basic-introduction.md\#12-typing-1}{1.2} \href{01-basic-introduction.md\#13-loading-a-file-1}{1.3}
\href{11-input-output.md\#1121-open}{11.2.1} \href{11-input-output.md\#1161-save}{11.6.1}
\href{11-input-output.md\#118-terminal-channels}{11.8} \href{11-input-output.md\#119-internal-channels}{11.9}
\href{11-input-output.md\#1110-the-net-device-the-arpa-network}{11.10} \href{11-input-output.md\#11103-nets}{11.10.3}
\href{19-compiled-programs.md\#198-rsubrs-in-files}{19.8} \href{21-interrupts.md\#218-specific-interrupts}{21.8}
\href{21-interrupts.md\#2181-char-received}{21.8.1} \href{21-interrupts.md\#2186-clock}{21.8.6}
\href{21-interrupts.md\#21810-sysdown}{21.8.10} \href{21-interrupts.md\#21812-ipc}{21.8.12}
\href{21-interrupts.md\#21813-inferior}{21.8.13} \href{21-interrupts.md\#21815-dangerous-interrupts}{21.8.15}
\href{22-storage-management.md\#224-garbage-collection-details}{22.4} \href{23-mdl-as-a-system-process.md\#232-names}{23.2}
\href{23-mdl-as-a-system-process.md\#234-inter-process-communication}{23.4}\strut
\end{minipage}\tabularnewline
\begin{minipage}[t]{0.24\columnwidth}\raggedright\strut
\texttt{ITUPLE}\strut
\end{minipage} & \begin{minipage}[t]{0.70\columnwidth}\raggedright\strut
\textbf{\href{09-functions.md\#922-tuple-the-subr-and-ituple}{9.2.2}}\strut
\end{minipage}\tabularnewline
\begin{minipage}[t]{0.24\columnwidth}\raggedright\strut
\texttt{IUVECTOR}\strut
\end{minipage} & \begin{minipage}[t]{0.70\columnwidth}\raggedright\strut
\textbf{\href{07-structured-objects.md\#754-ilist-ivector-iuvector-and-istring-1}{7.5.4}}\strut
\end{minipage}\tabularnewline
\begin{minipage}[t]{0.24\columnwidth}\raggedright\strut
\texttt{IVECTOR}\strut
\end{minipage} & \begin{minipage}[t]{0.70\columnwidth}\raggedright\strut
\textbf{\href{07-structured-objects.md\#754-ilist-ivector-iuvector-and-istring-1}{7.5.4}}\strut
\end{minipage}\tabularnewline
\begin{minipage}[t]{0.24\columnwidth}\raggedright\strut
\strut
\end{minipage} & \begin{minipage}[t]{0.70\columnwidth}\raggedright\strut
\strut
\end{minipage}\tabularnewline
\begin{minipage}[t]{0.24\columnwidth}\raggedright\strut
\texttt{JNAME}\strut
\end{minipage} & \begin{minipage}[t]{0.70\columnwidth}\raggedright\strut
\textbf{\href{23-mdl-as-a-system-process.md\#232-names}{23.2}}\strut
\end{minipage}\tabularnewline
\begin{minipage}[t]{0.24\columnwidth}\raggedright\strut
\strut
\end{minipage} & \begin{minipage}[t]{0.70\columnwidth}\raggedright\strut
\strut
\end{minipage}\tabularnewline
\begin{minipage}[t]{0.24\columnwidth}\raggedright\strut
\texttt{KEEP-FIXUPS}\strut
\end{minipage} & \begin{minipage}[t]{0.70\columnwidth}\raggedright\strut
\textbf{\href{19-compiled-programs.md\#199-fixups}{19.9}}
\href{appendix-5-initial-settings.md\#appendix-5-initial-settings}{Appendix 5}\strut
\end{minipage}\tabularnewline
\begin{minipage}[t]{0.24\columnwidth}\raggedright\strut
\strut
\end{minipage} & \begin{minipage}[t]{0.70\columnwidth}\raggedright\strut
\strut
\end{minipage}\tabularnewline
\begin{minipage}[t]{0.24\columnwidth}\raggedright\strut
\texttt{L-INS}\strut
\end{minipage} & \begin{minipage}[t]{0.70\columnwidth}\raggedright\strut
\textbf{\href{16-errors-frames-etc.md\#161-listen}{16.1}}\strut
\end{minipage}\tabularnewline
\begin{minipage}[t]{0.24\columnwidth}\raggedright\strut
\texttt{L-OUTS}\strut
\end{minipage} & \begin{minipage}[t]{0.70\columnwidth}\raggedright\strut
\textbf{\href{16-errors-frames-etc.md\#161-listen}{16.1}}\strut
\end{minipage}\tabularnewline
\begin{minipage}[t]{0.24\columnwidth}\raggedright\strut
\texttt{L=?}\strut
\end{minipage} & \begin{minipage}[t]{0.70\columnwidth}\raggedright\strut
\textbf{\href{08-truth.md\#821-arithmetic-1}{8.2.1}}\strut
\end{minipage}\tabularnewline
\begin{minipage}[t]{0.24\columnwidth}\raggedright\strut
\texttt{L?}\strut
\end{minipage} & \begin{minipage}[t]{0.70\columnwidth}\raggedright\strut
\textbf{\href{08-truth.md\#821-arithmetic-1}{8.2.1}}\strut
\end{minipage}\tabularnewline
\begin{minipage}[t]{0.24\columnwidth}\raggedright\strut
\texttt{LAST-OUT}\strut
\end{minipage} & \begin{minipage}[t]{0.70\columnwidth}\raggedright\strut
\textbf{\href{16-errors-frames-etc.md\#161-listen}{16.1}}\strut
\end{minipage}\tabularnewline
\begin{minipage}[t]{0.24\columnwidth}\raggedright\strut
\texttt{LEGAL?}\strut
\end{minipage} & \begin{minipage}[t]{0.70\columnwidth}\raggedright\strut
\href{09-functions.md\#921-tuple-and-tuple-the-type-1}{9.2.1}
\href{09-functions.md\#98-activation-name-act-again-and-return-1}{9.8} \href{10-looping.md\#104-go-and-tag}{10.4}
\href{12-locatives.md\#1211-lloc}{12.1.1} \href{12-locatives.md\#1231-in}{12.3.1}
\href{20-coroutines.md\#208-sneakiness-with-processes}{20.8}
\textbf{\href{22-storage-management.md\#2211-stacks-and-other-internal-vectors}{22.1.1}}
\href{appendix-1-a-look-inside.md\#appendix-1-a-look-inside}{Appendix 1}\strut
\end{minipage}\tabularnewline
\begin{minipage}[t]{0.24\columnwidth}\raggedright\strut
\texttt{LENGTH}\strut
\end{minipage} & \begin{minipage}[t]{0.70\columnwidth}\raggedright\strut
\textbf{\href{07-structured-objects.md\#711-length-1}{7.1.1}} \href{08-truth.md\#824-object-properties-1}{8.2.4}\strut
\end{minipage}\tabularnewline
\begin{minipage}[t]{0.24\columnwidth}\raggedright\strut
\texttt{LENGTH?}\strut
\end{minipage} & \begin{minipage}[t]{0.70\columnwidth}\raggedright\strut
\textbf{\href{08-truth.md\#824-object-properties-1}{8.2.4}}\strut
\end{minipage}\tabularnewline
\begin{minipage}[t]{0.24\columnwidth}\raggedright\strut
\texttt{LERR\textbackslash{}}\strut
\end{minipage} & \begin{minipage}[t]{0.70\columnwidth}\raggedright\strut
\textbf{\href{16-errors-frames-etc.md\#1633-frame-the-subr}{16.3.3}}
\href{16-errors-frames-etc.md\#168-control-s-s}{16.8}\strut
\end{minipage}\tabularnewline
\begin{minipage}[t]{0.24\columnwidth}\raggedright\strut
\texttt{LINK}\strut
\end{minipage} & \begin{minipage}[t]{0.70\columnwidth}\raggedright\strut
\textbf{\href{17-macro-operations.md\#1712-link}{17.1.2}}\strut
\end{minipage}\tabularnewline
\begin{minipage}[t]{0.24\columnwidth}\raggedright\strut
\texttt{LIST}\strut
\end{minipage} & \begin{minipage}[t]{0.70\columnwidth}\raggedright\strut
\textbf{\href{07-structured-objects.md\#721-list-1}{7.2.1}} \href{07-structured-objects.md\#752-quote-1}{7.5.2}
\textbf{\href{07-structured-objects.md\#753-list-vector-uvector-and-string-the-subrs-1}{7.5.3}}
\textbf{\href{07-structured-objects.md\#761-list-the-primtype-1}{7.6.1}}
\href{07-structured-objects.md\#774-note-on-efficiency-1}{7.7.4} \href{08-truth.md\#822-equality-and-membership-1}{8.2.2}
\href{21-interrupts.md\#2184-gc}{21.8.4} \href{24-efficiency-and-tastefulness.md\#241-efficiency}{24.1}
\href{appendix-1-a-look-inside.md\#appendix-1-a-look-inside}{Appendix 1}
\href{appendix-1-a-look-inside.md\#basic-data-structures}{Appendix 1}\strut
\end{minipage}\tabularnewline
\begin{minipage}[t]{0.24\columnwidth}\raggedright\strut
\texttt{LISTEN}\strut
\end{minipage} & \begin{minipage}[t]{0.70\columnwidth}\raggedright\strut
\textbf{\href{16-errors-frames-etc.md\#161-listen}{16.1}} \href{16-errors-frames-etc.md\#164-erret}{16.4}
\href{20-coroutines.md\#201-process-the-type}{20.1} \href{21-interrupts.md\#2172-int-level}{21.7.2}\strut
\end{minipage}\tabularnewline
\begin{minipage}[t]{0.24\columnwidth}\raggedright\strut
\texttt{LLOC}\strut
\end{minipage} & \begin{minipage}[t]{0.70\columnwidth}\raggedright\strut
\textbf{\href{12-locatives.md\#1211-lloc}{12.1.1}} \href{20-coroutines.md\#208-sneakiness-with-processes}{20.8}
\href{22-storage-management.md\#2211-stacks-and-other-internal-vectors}{22.1.1}\strut
\end{minipage}\tabularnewline
\begin{minipage}[t]{0.24\columnwidth}\raggedright\strut
\texttt{LMAP\textbackslash{}}\strut
\end{minipage} & \begin{minipage}[t]{0.70\columnwidth}\raggedright\strut
\textbf{\href{10-looping.md\#1033-mapleave}{10.3.3}}\strut
\end{minipage}\tabularnewline
\begin{minipage}[t]{0.24\columnwidth}\raggedright\strut
\texttt{LOAD}\strut
\end{minipage} & \begin{minipage}[t]{0.70\columnwidth}\raggedright\strut
\href{11-input-output.md\#1121-open}{11.2.1} \textbf{\href{11-input-output.md\#1171-load}{11.7.1}}\strut
\end{minipage}\tabularnewline
\begin{minipage}[t]{0.24\columnwidth}\raggedright\strut
\texttt{LOCA}\strut
\end{minipage} & \begin{minipage}[t]{0.70\columnwidth}\raggedright\strut
\textbf{\href{12-locatives.md\#1213-at}{12.1.3}}\strut
\end{minipage}\tabularnewline
\begin{minipage}[t]{0.24\columnwidth}\raggedright\strut
\texttt{LOCAS}\strut
\end{minipage} & \begin{minipage}[t]{0.70\columnwidth}\raggedright\strut
\textbf{\href{12-locatives.md\#1214-getpl-and-getl}{12.1.4}}\strut
\end{minipage}\tabularnewline
\begin{minipage}[t]{0.24\columnwidth}\raggedright\strut
\texttt{LOCATIVE}\strut
\end{minipage} & \begin{minipage}[t]{0.70\columnwidth}\raggedright\strut
\textbf{\href{14-data-type-declarations.md\#141-patterns}{14.1}}
\href{appendix-1-a-look-inside.md\#appendix-1-a-look-inside}{Appendix 1}\strut
\end{minipage}\tabularnewline
\begin{minipage}[t]{0.24\columnwidth}\raggedright\strut
\texttt{LOCATIVE?}\strut
\end{minipage} & \begin{minipage}[t]{0.70\columnwidth}\raggedright\strut
\textbf{\href{12-locatives.md\#122-locative}{12.2}}\strut
\end{minipage}\tabularnewline
\begin{minipage}[t]{0.24\columnwidth}\raggedright\strut
\texttt{LOCB}\strut
\end{minipage} & \begin{minipage}[t]{0.70\columnwidth}\raggedright\strut
\textbf{\href{12-locatives.md\#1213-at}{12.1.3}}\strut
\end{minipage}\tabularnewline
\begin{minipage}[t]{0.24\columnwidth}\raggedright\strut
\texttt{LOCD}\strut
\end{minipage} & \begin{minipage}[t]{0.70\columnwidth}\raggedright\strut
\textbf{\href{12-locatives.md\#1211-lloc}{12.1.1}} \href{12-locatives.md\#1212-gloc}{12.1.2}
\href{22-storage-management.md\#2211-stacks-and-other-internal-vectors}{22.1.1}
\href{appendix-1-a-look-inside.md\#appendix-1-a-look-inside}{Appendix 1}\strut
\end{minipage}\tabularnewline
\begin{minipage}[t]{0.24\columnwidth}\raggedright\strut
\texttt{LOCL}\strut
\end{minipage} & \begin{minipage}[t]{0.70\columnwidth}\raggedright\strut
\textbf{\href{12-locatives.md\#1213-at}{12.1.3}}\strut
\end{minipage}\tabularnewline
\begin{minipage}[t]{0.24\columnwidth}\raggedright\strut
\texttt{LOCR}\strut
\end{minipage} & \begin{minipage}[t]{0.70\columnwidth}\raggedright\strut
\textbf{\href{19-compiled-programs.md\#194-pure-and-impure-code}{19.4}}\strut
\end{minipage}\tabularnewline
\begin{minipage}[t]{0.24\columnwidth}\raggedright\strut
\texttt{LOCS}\strut
\end{minipage} & \begin{minipage}[t]{0.70\columnwidth}\raggedright\strut
\textbf{\href{12-locatives.md\#1213-at}{12.1.3}}\strut
\end{minipage}\tabularnewline
\begin{minipage}[t]{0.24\columnwidth}\raggedright\strut
\texttt{LOCT}\strut
\end{minipage} & \begin{minipage}[t]{0.70\columnwidth}\raggedright\strut
\textbf{\href{12-locatives.md\#1213-at}{12.1.3}}\strut
\end{minipage}\tabularnewline
\begin{minipage}[t]{0.24\columnwidth}\raggedright\strut
\texttt{LOCU}\strut
\end{minipage} & \begin{minipage}[t]{0.70\columnwidth}\raggedright\strut
\textbf{\href{12-locatives.md\#1213-at}{12.1.3}}\strut
\end{minipage}\tabularnewline
\begin{minipage}[t]{0.24\columnwidth}\raggedright\strut
\texttt{LOCV}\strut
\end{minipage} & \begin{minipage}[t]{0.70\columnwidth}\raggedright\strut
\textbf{\href{12-locatives.md\#1213-at}{12.1.3}}\strut
\end{minipage}\tabularnewline
\begin{minipage}[t]{0.24\columnwidth}\raggedright\strut
\texttt{LOG}\strut
\end{minipage} & \begin{minipage}[t]{0.70\columnwidth}\raggedright\strut
\textbf{\href{05-simple-functions.md\#55-examples-comments-1}{5.5}}\strut
\end{minipage}\tabularnewline
\begin{minipage}[t]{0.24\columnwidth}\raggedright\strut
\texttt{LOGOUT}\strut
\end{minipage} & \begin{minipage}[t]{0.70\columnwidth}\raggedright\strut
\textbf{\href{23-mdl-as-a-system-process.md\#233-exits}{23.3}}\strut
\end{minipage}\tabularnewline
\begin{minipage}[t]{0.24\columnwidth}\raggedright\strut
\texttt{LOOKUP}\strut
\end{minipage} & \begin{minipage}[t]{0.70\columnwidth}\raggedright\strut
\textbf{\href{15-lexical-blocking.md\#1573-lookup}{15.7.3}}\strut
\end{minipage}\tabularnewline
\begin{minipage}[t]{0.24\columnwidth}\raggedright\strut
\texttt{LOSE}\strut
\end{minipage} & \begin{minipage}[t]{0.70\columnwidth}\raggedright\strut
\href{07-structured-objects.md\#754-ilist-ivector-iuvector-and-istring-1}{7.5.4}
\href{07-structured-objects.md\#7631-grow}{7.6.3.1} \href{07-structured-objects.md\#7652-chutype-1}{7.6.5.2}\strut
\end{minipage}\tabularnewline
\begin{minipage}[t]{0.24\columnwidth}\raggedright\strut
\texttt{LPARSE}\strut
\end{minipage} & \begin{minipage}[t]{0.70\columnwidth}\raggedright\strut
\textbf{\href{07-structured-objects.md\#7663-lparse-1}{7.6.6.3}}
\textbf{\href{15-lexical-blocking.md\#1572-parse-and-lparse-again}{15.7.2}}
\href{17-macro-operations.md\#1713-program-defined-macro-characters}{17.1.3}
\textbf{\href{17-macro-operations.md\#17133-parse-and-lparse-finally}{17.1.3.3}}\strut
\end{minipage}\tabularnewline
\begin{minipage}[t]{0.24\columnwidth}\raggedright\strut
\texttt{LPROG\textbackslash{}}\strut
\end{minipage} & \begin{minipage}[t]{0.70\columnwidth}\raggedright\strut
\textbf{\href{10-looping.md\#1012-again-and-return-in-prog-and-repeat-1}{10.1.2}}\strut
\end{minipage}\tabularnewline
\begin{minipage}[t]{0.24\columnwidth}\raggedright\strut
\texttt{LSH}\strut
\end{minipage} & \begin{minipage}[t]{0.70\columnwidth}\raggedright\strut
\textbf{\href{18-machine-words-and-bits.md\#186-bitwise-shifting-operations}{18.6}}\strut
\end{minipage}\tabularnewline
\begin{minipage}[t]{0.24\columnwidth}\raggedright\strut
\texttt{LVAL}\strut
\end{minipage} & \begin{minipage}[t]{0.70\columnwidth}\raggedright\strut
\textbf{\href{04-values-of-atoms.md\#432-lval-1}{4.3.2}}
\href{05-simple-functions.md\#53-application-of-functions-binding-1}{5.3} \href{12-locatives.md\#1211-lloc}{12.1.1}
\href{12-locatives.md\#124-note-on-locatives}{12.4} \href{20-coroutines.md\#201-process-the-type}{20.1}
\href{20-coroutines.md\#208-sneakiness-with-processes}{20.8}
\href{22-storage-management.md\#2211-stacks-and-other-internal-vectors}{22.1.1}
\href{24-efficiency-and-tastefulness.md\#244-global-and-local-values}{24.4}\strut
\end{minipage}\tabularnewline
\begin{minipage}[t]{0.24\columnwidth}\raggedright\strut
\strut
\end{minipage} & \begin{minipage}[t]{0.70\columnwidth}\raggedright\strut
\strut
\end{minipage}\tabularnewline
\begin{minipage}[t]{0.24\columnwidth}\raggedright\strut
\texttt{MACRO}\strut
\end{minipage} & \begin{minipage}[t]{0.70\columnwidth}\raggedright\strut
\href{10-looping.md\#1012-again-and-return-in-prog-and-repeat-1}{10.1.2}
\textbf{\href{17-macro-operations.md\#1721-defmac-and-expand}{17.2.1}}\strut
\end{minipage}\tabularnewline
\begin{minipage}[t]{0.24\columnwidth}\raggedright\strut
\texttt{MAIN}\strut
\end{minipage} & \begin{minipage}[t]{0.70\columnwidth}\raggedright\strut
\textbf{\href{20-coroutines.md\#2072-main}{20.7.2}} \href{20-coroutines.md\#2074-resumer}{20.7.4}
\href{22-storage-management.md\#224-garbage-collection-details}{22.4}\strut
\end{minipage}\tabularnewline
\begin{minipage}[t]{0.24\columnwidth}\raggedright\strut
\texttt{MANIFEST}\strut
\end{minipage} & \begin{minipage}[t]{0.70\columnwidth}\raggedright\strut
\textbf{\href{14-data-type-declarations.md\#1451-gdecl-and-manifest}{14.5.1}}\strut
\end{minipage}\tabularnewline
\begin{minipage}[t]{0.24\columnwidth}\raggedright\strut
\texttt{MANIFEST?}\strut
\end{minipage} & \begin{minipage}[t]{0.70\columnwidth}\raggedright\strut
\textbf{\href{14-data-type-declarations.md\#1452-manifest-and-unmanifest}{14.5.2}}\strut
\end{minipage}\tabularnewline
\begin{minipage}[t]{0.24\columnwidth}\raggedright\strut
\texttt{MAPF}\strut
\end{minipage} & \begin{minipage}[t]{0.70\columnwidth}\raggedright\strut
\textbf{\href{10-looping.md\#102-mapf-and-mapr-basics-1}{10.2}} \href{10-looping.md\#1021-mapf-1}{10.2.1}\strut
\end{minipage}\tabularnewline
\begin{minipage}[t]{0.24\columnwidth}\raggedright\strut
\texttt{MAPLEAVE}\strut
\end{minipage} & \begin{minipage}[t]{0.70\columnwidth}\raggedright\strut
\textbf{\href{10-looping.md\#1033-mapleave}{10.3.3}}\strut
\end{minipage}\tabularnewline
\begin{minipage}[t]{0.24\columnwidth}\raggedright\strut
\texttt{MAPR}\strut
\end{minipage} & \begin{minipage}[t]{0.70\columnwidth}\raggedright\strut
\textbf{\href{10-looping.md\#102-mapf-and-mapr-basics-1}{10.2}} \href{10-looping.md\#1022-mapr-1}{10.2.2}\strut
\end{minipage}\tabularnewline
\begin{minipage}[t]{0.24\columnwidth}\raggedright\strut
\texttt{MAPRET}\strut
\end{minipage} & \begin{minipage}[t]{0.70\columnwidth}\raggedright\strut
\textbf{\href{10-looping.md\#1031-mapret}{10.3.1}}\strut
\end{minipage}\tabularnewline
\begin{minipage}[t]{0.24\columnwidth}\raggedright\strut
\texttt{MAPSTOP}\strut
\end{minipage} & \begin{minipage}[t]{0.70\columnwidth}\raggedright\strut
\textbf{\href{10-looping.md\#1032-mapstop}{10.3.2}}\strut
\end{minipage}\tabularnewline
\begin{minipage}[t]{0.24\columnwidth}\raggedright\strut
\texttt{MAX}\strut
\end{minipage} & \begin{minipage}[t]{0.70\columnwidth}\raggedright\strut
\href{03-built-in-functions.md\#34-examples--and-fix-arithmetic-1}{3.4}\strut
\end{minipage}\tabularnewline
\begin{minipage}[t]{0.24\columnwidth}\raggedright\strut
\texttt{ME}\strut
\end{minipage} & \begin{minipage}[t]{0.70\columnwidth}\raggedright\strut
\textbf{\href{20-coroutines.md\#2073-me}{20.7.3}}
\href{22-storage-management.md\#224-garbage-collection-details}{22.4}\strut
\end{minipage}\tabularnewline
\begin{minipage}[t]{0.24\columnwidth}\raggedright\strut
\texttt{MEMBER}\strut
\end{minipage} & \begin{minipage}[t]{0.70\columnwidth}\raggedright\strut
\textbf{\href{08-truth.md\#822-equality-and-membership-1}{8.2.2}}\strut
\end{minipage}\tabularnewline
\begin{minipage}[t]{0.24\columnwidth}\raggedright\strut
\texttt{MEMQ}\strut
\end{minipage} & \begin{minipage}[t]{0.70\columnwidth}\raggedright\strut
\textbf{\href{08-truth.md\#822-equality-and-membership-1}{8.2.2}}\strut
\end{minipage}\tabularnewline
\begin{minipage}[t]{0.24\columnwidth}\raggedright\strut
\texttt{MIN}\strut
\end{minipage} & \begin{minipage}[t]{0.70\columnwidth}\raggedright\strut
\href{03-built-in-functions.md\#34-examples--and-fix-arithmetic-1}{3.4}\strut
\end{minipage}\tabularnewline
\begin{minipage}[t]{0.24\columnwidth}\raggedright\strut
\texttt{MOBLIST}\strut
\end{minipage} & \begin{minipage}[t]{0.70\columnwidth}\raggedright\strut
\textbf{\href{15-lexical-blocking.md\#1522-moblist}{15.2.2}}
\href{15-lexical-blocking.md\#158-example-another-solution-to-the-inc-problem}{15.8}\strut
\end{minipage}\tabularnewline
\begin{minipage}[t]{0.24\columnwidth}\raggedright\strut
\texttt{MOD}\strut
\end{minipage} & \begin{minipage}[t]{0.70\columnwidth}\raggedright\strut
\href{03-built-in-functions.md\#34-examples--and-fix-arithmetic-1}{3.4}\strut
\end{minipage}\tabularnewline
\begin{minipage}[t]{0.24\columnwidth}\raggedright\strut
\texttt{MONAD?}\strut
\end{minipage} & \begin{minipage}[t]{0.70\columnwidth}\raggedright\strut
\textbf{\href{08-truth.md\#824-object-properties-1}{8.2.4}}\strut
\end{minipage}\tabularnewline
\begin{minipage}[t]{0.24\columnwidth}\raggedright\strut
\texttt{MUDDLE}\strut
\end{minipage} & \begin{minipage}[t]{0.70\columnwidth}\raggedright\strut
\textbf{\href{01-basic-introduction.md\#13-loading-a-file-1}{1.3}} \textbf{\href{11-input-output.md\#116-save-files}{11.6}}
\textbf{\href{15-lexical-blocking.md\#155-initial-state}{15.5}}\strut
\end{minipage}\tabularnewline
\begin{minipage}[t]{0.24\columnwidth}\raggedright\strut
\strut
\end{minipage} & \begin{minipage}[t]{0.70\columnwidth}\raggedright\strut
\strut
\end{minipage}\tabularnewline
\begin{minipage}[t]{0.24\columnwidth}\raggedright\strut
\texttt{N==?}\strut
\end{minipage} & \begin{minipage}[t]{0.70\columnwidth}\raggedright\strut
\textbf{\href{08-truth.md\#822-equality-and-membership-1}{8.2.2}}\strut
\end{minipage}\tabularnewline
\begin{minipage}[t]{0.24\columnwidth}\raggedright\strut
\texttt{N=?}\strut
\end{minipage} & \begin{minipage}[t]{0.70\columnwidth}\raggedright\strut
\textbf{\href{08-truth.md\#822-equality-and-membership-1}{8.2.2}}\strut
\end{minipage}\tabularnewline
\begin{minipage}[t]{0.24\columnwidth}\raggedright\strut
\texttt{NBIN}\strut
\end{minipage} & \begin{minipage}[t]{0.70\columnwidth}\raggedright\strut
\textbf{\href{19-compiled-programs.md\#198-rsubrs-in-files}{19.8}}\strut
\end{minipage}\tabularnewline
\begin{minipage}[t]{0.24\columnwidth}\raggedright\strut
\texttt{NETACC}\strut
\end{minipage} & \begin{minipage}[t]{0.70\columnwidth}\raggedright\strut
\textbf{\href{11-input-output.md\#11102-netacc}{11.10.2}}\strut
\end{minipage}\tabularnewline
\begin{minipage}[t]{0.24\columnwidth}\raggedright\strut
\texttt{NETS}\strut
\end{minipage} & \begin{minipage}[t]{0.70\columnwidth}\raggedright\strut
\href{11-input-output.md\#1121-open}{11.2.1} \textbf{\href{11-input-output.md\#11103-nets}{11.10.3}}\strut
\end{minipage}\tabularnewline
\begin{minipage}[t]{0.24\columnwidth}\raggedright\strut
\texttt{NETSTATE}\strut
\end{minipage} & \begin{minipage}[t]{0.70\columnwidth}\raggedright\strut
\textbf{\href{11-input-output.md\#11101-netstate}{11.10.1}}\strut
\end{minipage}\tabularnewline
\begin{minipage}[t]{0.24\columnwidth}\raggedright\strut
\texttt{NEWTYPE}\strut
\end{minipage} & \begin{minipage}[t]{0.70\columnwidth}\raggedright\strut
\textbf{\href{06-data-types.md\#643-newtype}{6.4.3}} \textbf{\href{14-data-type-declarations.md\#146-newtype-again}{14.6}}
\href{19-compiled-programs.md\#195-type-c-and-type-w}{19.5} \href{21-interrupts.md\#2184-gc}{21.8.4}
\href{22-storage-management.md\#2211-stacks-and-other-internal-vectors}{22.1.1}\strut
\end{minipage}\tabularnewline
\begin{minipage}[t]{0.24\columnwidth}\raggedright\strut
\texttt{NEXT}\strut
\end{minipage} & \begin{minipage}[t]{0.70\columnwidth}\raggedright\strut
\textbf{\href{13-association-properties.md\#134-examining-associations}{13.4}}\strut
\end{minipage}\tabularnewline
\begin{minipage}[t]{0.24\columnwidth}\raggedright\strut
\texttt{NEXTCHR}\strut
\end{minipage} & \begin{minipage}[t]{0.70\columnwidth}\raggedright\strut
\href{10-looping.md\#1034-only-two-arguments}{10.3.4} \textbf{\href{11-input-output.md\#11113-nextchr}{11.1.1.3}}
\href{11-input-output.md\#1121-open}{11.2.1} \href{21-interrupts.md\#2187-blocked}{21.8.7}\strut
\end{minipage}\tabularnewline
\begin{minipage}[t]{0.24\columnwidth}\raggedright\strut
\texttt{NM1}\strut
\end{minipage} & \begin{minipage}[t]{0.70\columnwidth}\raggedright\strut
\textbf{\href{11-input-output.md\#1121-open}{11.2.1}}
\href{appendix-5-initial-settings.md\#appendix-5-initial-settings}{Appendix 5}\strut
\end{minipage}\tabularnewline
\begin{minipage}[t]{0.24\columnwidth}\raggedright\strut
\texttt{NM2}\strut
\end{minipage} & \begin{minipage}[t]{0.70\columnwidth}\raggedright\strut
\textbf{\href{11-input-output.md\#1121-open}{11.2.1}}
\href{appendix-5-initial-settings.md\#appendix-5-initial-settings}{Appendix 5}\strut
\end{minipage}\tabularnewline
\begin{minipage}[t]{0.24\columnwidth}\raggedright\strut
\texttt{NOT}\strut
\end{minipage} & \begin{minipage}[t]{0.70\columnwidth}\raggedright\strut
\textbf{\href{08-truth.md\#823-boolean-operators-1}{8.2.3}}\strut
\end{minipage}\tabularnewline
\begin{minipage}[t]{0.24\columnwidth}\raggedright\strut
\texttt{NTH}\strut
\end{minipage} & \begin{minipage}[t]{0.70\columnwidth}\raggedright\strut
\textbf{\href{07-structured-objects.md\#712-nth-1}{7.1.2}} \href{09-functions.md\#910-apply-1}{9.10}\strut
\end{minipage}\tabularnewline
\begin{minipage}[t]{0.24\columnwidth}\raggedright\strut
\strut
\end{minipage} & \begin{minipage}[t]{0.70\columnwidth}\raggedright\strut
\strut
\end{minipage}\tabularnewline
\begin{minipage}[t]{0.24\columnwidth}\raggedright\strut
\texttt{OBLIST}\strut
\end{minipage} & \begin{minipage}[t]{0.70\columnwidth}\raggedright\strut
\href{11-input-output.md\#11123-princ}{11.1.2.3} \textbf{\href{15-lexical-blocking.md\#1521-oblist-names}{15.2.1}}
\textbf{\href{15-lexical-blocking.md\#155-initial-state}{15.5}} \href{16-errors-frames-etc.md\#161-listen}{16.1}
\href{20-coroutines.md\#201-process-the-type}{20.1} \href{22-storage-management.md\#223-other-storage}{22.3}\strut
\end{minipage}\tabularnewline
\begin{minipage}[t]{0.24\columnwidth}\raggedright\strut
\texttt{OBLIST?}\strut
\end{minipage} & \begin{minipage}[t]{0.70\columnwidth}\raggedright\strut
\textbf{\href{15-lexical-blocking.md\#1523-oblist}{15.2.3}}\strut
\end{minipage}\tabularnewline
\begin{minipage}[t]{0.24\columnwidth}\raggedright\strut
\texttt{OFF}\strut
\end{minipage} & \begin{minipage}[t]{0.70\columnwidth}\raggedright\strut
\textbf{\href{21-interrupts.md\#214-off}{21.4}}\strut
\end{minipage}\tabularnewline
\begin{minipage}[t]{0.24\columnwidth}\raggedright\strut
\texttt{OFFSET}\strut
\end{minipage} & \begin{minipage}[t]{0.70\columnwidth}\raggedright\strut
\textbf{\href{14-data-type-declarations.md\#148-offset}{14.8}}
\href{appendix-1-a-look-inside.md\#appendix-1-a-look-inside}{Appendix 1}\strut
\end{minipage}\tabularnewline
\begin{minipage}[t]{0.24\columnwidth}\raggedright\strut
\texttt{ON}\strut
\end{minipage} & \begin{minipage}[t]{0.70\columnwidth}\raggedright\strut
\textbf{\href{21-interrupts.md\#216-other-subrs}{21.6}}\strut
\end{minipage}\tabularnewline
\begin{minipage}[t]{0.24\columnwidth}\raggedright\strut
\texttt{OPEN}\strut
\end{minipage} & \begin{minipage}[t]{0.70\columnwidth}\raggedright\strut
\textbf{\href{11-input-output.md\#1121-open}{11.2.1}} \href{11-input-output.md\#113-end-of-file-routine}{11.3}
\href{11-input-output.md\#1177-reset}{11.7.7} \href{11-input-output.md\#119-internal-channels}{11.9}
\href{11-input-output.md\#1110-the-net-device-the-arpa-network}{11.10}
\href{21-interrupts.md\#2181-char-received}{21.8.1}\strut
\end{minipage}\tabularnewline
\begin{minipage}[t]{0.24\columnwidth}\raggedright\strut
\texttt{OPEN-NR}\strut
\end{minipage} & \begin{minipage}[t]{0.70\columnwidth}\raggedright\strut
\textbf{\href{11-input-output.md\#1122-open-nr}{11.2.2}}\strut
\end{minipage}\tabularnewline
\begin{minipage}[t]{0.24\columnwidth}\raggedright\strut
\texttt{OPT}\strut
\end{minipage} & \begin{minipage}[t]{0.70\columnwidth}\raggedright\strut
\textbf{\href{14-data-type-declarations.md\#141-patterns}{14.1}}\strut
\end{minipage}\tabularnewline
\begin{minipage}[t]{0.24\columnwidth}\raggedright\strut
\texttt{OPTIONAL}\strut
\end{minipage} & \begin{minipage}[t]{0.70\columnwidth}\raggedright\strut
\textbf{\href{14-data-type-declarations.md\#141-patterns}{14.1}}\strut
\end{minipage}\tabularnewline
\begin{minipage}[t]{0.24\columnwidth}\raggedright\strut
\texttt{OR}\strut
\end{minipage} & \begin{minipage}[t]{0.70\columnwidth}\raggedright\strut
\textbf{\href{08-truth.md\#823-boolean-operators-1}{8.2.3}} \href{08-truth.md\#841-and-and-or-as-short-conds}{8.4.1}\strut
\end{minipage}\tabularnewline
\begin{minipage}[t]{0.24\columnwidth}\raggedright\strut
\texttt{OR?}\strut
\end{minipage} & \begin{minipage}[t]{0.70\columnwidth}\raggedright\strut
\textbf{\href{08-truth.md\#823-boolean-operators-1}{8.2.3}} \href{10-looping.md\#1023-examples-1}{10.2.3}\strut
\end{minipage}\tabularnewline
\begin{minipage}[t]{0.24\columnwidth}\raggedright\strut
\texttt{ORB}\strut
\end{minipage} & \begin{minipage}[t]{0.70\columnwidth}\raggedright\strut
\textbf{\href{18-machine-words-and-bits.md\#185-bitwise-boolean-operations}{18.5}}\strut
\end{minipage}\tabularnewline
\begin{minipage}[t]{0.24\columnwidth}\raggedright\strut
\texttt{OUTCHAN}\strut
\end{minipage} & \begin{minipage}[t]{0.70\columnwidth}\raggedright\strut
\href{06-data-types.md\#644-printtype-evaltype-and-applytype}{6.4.4}
\textbf{\href{11-input-output.md\#1127-inchan-and-outchan}{11.2.7}} \href{14-data-type-declarations.md\#141-patterns}{14.1}
\href{16-errors-frames-etc.md\#161-listen}{16.1}\strut
\end{minipage}\tabularnewline
\begin{minipage}[t]{0.24\columnwidth}\raggedright\strut
\texttt{OVERFLOW}\strut
\end{minipage} & \begin{minipage}[t]{0.70\columnwidth}\raggedright\strut
\textbf{\href{16-errors-frames-etc.md\#169-overflow}{16.9}}\strut
\end{minipage}\tabularnewline
\begin{minipage}[t]{0.24\columnwidth}\raggedright\strut
\strut
\end{minipage} & \begin{minipage}[t]{0.70\columnwidth}\raggedright\strut
\strut
\end{minipage}\tabularnewline
\begin{minipage}[t]{0.24\columnwidth}\raggedright\strut
\texttt{PARSE}\strut
\end{minipage} & \begin{minipage}[t]{0.70\columnwidth}\raggedright\strut
\textbf{\href{07-structured-objects.md\#7662-parse-1}{7.6.6.2}}
\textbf{\href{15-lexical-blocking.md\#1572-parse-and-lparse-again}{15.7.2}}
\href{15-lexical-blocking.md\#1573-lookup}{15.7.3}
\href{17-macro-operations.md\#1713-program-defined-macro-characters}{17.1.3}
\textbf{\href{17-macro-operations.md\#17133-parse-and-lparse-finally}{17.1.3.3}}
\href{17-macro-operations.md\#1721-defmac-and-expand}{17.2.1}\strut
\end{minipage}\tabularnewline
\begin{minipage}[t]{0.24\columnwidth}\raggedright\strut
\texttt{PARSE-STRING}\strut
\end{minipage} & \begin{minipage}[t]{0.70\columnwidth}\raggedright\strut
\textbf{\href{17-macro-operations.md\#17133-parse-and-lparse-finally}{17.1.3.3}}\strut
\end{minipage}\tabularnewline
\begin{minipage}[t]{0.24\columnwidth}\raggedright\strut
\texttt{PARSE-TABLE}\strut
\end{minipage} & \begin{minipage}[t]{0.70\columnwidth}\raggedright\strut
\textbf{\href{17-macro-operations.md\#17131-read-finally}{17.1.3.1}}\strut
\end{minipage}\tabularnewline
\begin{minipage}[t]{0.24\columnwidth}\raggedright\strut
\texttt{PCODE}\strut
\end{minipage} & \begin{minipage}[t]{0.70\columnwidth}\raggedright\strut
\textbf{\href{19-compiled-programs.md\#194-pure-and-impure-code}{19.4}}\strut
\end{minipage}\tabularnewline
\begin{minipage}[t]{0.24\columnwidth}\raggedright\strut
\texttt{PNAME}\strut
\end{minipage} & \begin{minipage}[t]{0.70\columnwidth}\raggedright\strut
\href{02-read-evaluate-print.md\#25-example-type-atom-pname-1}{2.5}
\textbf{\href{15-lexical-blocking.md\#1577-pname}{15.7.7}}
\href{appendix-1-a-look-inside.md\#basic-data-structures}{Appendix 1}\strut
\end{minipage}\tabularnewline
\begin{minipage}[t]{0.24\columnwidth}\raggedright\strut
\texttt{PRIMTYPE}\strut
\end{minipage} & \begin{minipage}[t]{0.70\columnwidth}\raggedright\strut
\textbf{\href{06-data-types.md\#632-primtype-1}{6.3.2}}\strut
\end{minipage}\tabularnewline
\begin{minipage}[t]{0.24\columnwidth}\raggedright\strut
\texttt{PRIMTYPE-C}\strut
\end{minipage} & \begin{minipage}[t]{0.70\columnwidth}\raggedright\strut
\textbf{\href{19-compiled-programs.md\#195-type-c-and-type-w}{19.5}}\strut
\end{minipage}\tabularnewline
\begin{minipage}[t]{0.24\columnwidth}\raggedright\strut
\texttt{PRIN1}\strut
\end{minipage} & \begin{minipage}[t]{0.70\columnwidth}\raggedright\strut
\textbf{\href{11-input-output.md\#11122-prin1}{11.1.2.2}} \href{11-input-output.md\#1121-open}{11.2.1}
\href{11-input-output.md\#118-terminal-channels}{11.8}\strut
\end{minipage}\tabularnewline
\begin{minipage}[t]{0.24\columnwidth}\raggedright\strut
\texttt{PRINC}\strut
\end{minipage} & \begin{minipage}[t]{0.70\columnwidth}\raggedright\strut
\textbf{\href{11-input-output.md\#11123-princ}{11.1.2.3}} \href{11-input-output.md\#1121-open}{11.2.1}
\href{11-input-output.md\#118-terminal-channels}{11.8}\strut
\end{minipage}\tabularnewline
\begin{minipage}[t]{0.24\columnwidth}\raggedright\strut
\texttt{PRINT}\strut
\end{minipage} & \begin{minipage}[t]{0.70\columnwidth}\raggedright\strut
\textbf{\href{02-read-evaluate-print.md\#21-general-1}{2.1}}
\href{02-read-evaluate-print.md\#262-read-and-print-versus-floating-point-numbers}{2.6.2}
\href{06-data-types.md\#644-printtype-evaltype-and-applytype}{6.4.4}
\textbf{\href{11-input-output.md\#11121-print}{11.1.2.1}} \href{11-input-output.md\#1121-open}{11.2.1}
\href{11-input-output.md\#118-terminal-channels}{11.8} \href{15-lexical-blocking.md\#154-print-and-oblists}{15.4}\strut
\end{minipage}\tabularnewline
\begin{minipage}[t]{0.24\columnwidth}\raggedright\strut
\texttt{PRINTB}\strut
\end{minipage} & \begin{minipage}[t]{0.70\columnwidth}\raggedright\strut
\href{11-input-output.md\#1121-open}{11.2.1} \textbf{\href{11-input-output.md\#11421-printb}{11.4.2.1}}\strut
\end{minipage}\tabularnewline
\begin{minipage}[t]{0.24\columnwidth}\raggedright\strut
\texttt{PRINTSTRING}\strut
\end{minipage} & \begin{minipage}[t]{0.70\columnwidth}\raggedright\strut
\href{11-input-output.md\#1121-open}{11.2.1} \textbf{\href{11-input-output.md\#11422-printstring}{11.4.2.2}}\strut
\end{minipage}\tabularnewline
\begin{minipage}[t]{0.24\columnwidth}\raggedright\strut
\texttt{PRINTTYPE}\strut
\end{minipage} & \begin{minipage}[t]{0.70\columnwidth}\raggedright\strut
\textbf{\href{06-data-types.md\#644-printtype-evaltype-and-applytype}{6.4.4}}\strut
\end{minipage}\tabularnewline
\begin{minipage}[t]{0.24\columnwidth}\raggedright\strut
\texttt{PROCESS}\strut
\end{minipage} & \begin{minipage}[t]{0.70\columnwidth}\raggedright\strut
\href{16-errors-frames-etc.md\#161-listen}{16.1} \textbf{\href{20-coroutines.md\#201-process-the-type}{20.1}}
\href{20-coroutines.md\#203-process-the-subr}{20.3} \href{21-interrupts.md\#219-user-defined-interrupts}{21.9}
\href{22-storage-management.md\#2211-stacks-and-other-internal-vectors}{22.1.1}
\href{appendix-1-a-look-inside.md\#basic-data-structures}{Appendix 1}\strut
\end{minipage}\tabularnewline
\begin{minipage}[t]{0.24\columnwidth}\raggedright\strut
\texttt{PROG}\strut
\end{minipage} & \begin{minipage}[t]{0.70\columnwidth}\raggedright\strut
\href{09-functions.md\#98-activation-name-act-again-and-return-1}{9.8}
\textbf{\href{10-looping.md\#101-prog-and-repeat-1}{10.1}}
\href{24-efficiency-and-tastefulness.md\#241-efficiency}{24.1}\strut
\end{minipage}\tabularnewline
\begin{minipage}[t]{0.24\columnwidth}\raggedright\strut
\texttt{PURE-PAGE-LOADER}\strut
\end{minipage} & \begin{minipage}[t]{0.70\columnwidth}\raggedright\strut
\textbf{\href{21-interrupts.md\#2184-gc}{21.8.4}}\strut
\end{minipage}\tabularnewline
\begin{minipage}[t]{0.24\columnwidth}\raggedright\strut
\texttt{PURIFY}\strut
\end{minipage} & \begin{minipage}[t]{0.70\columnwidth}\raggedright\strut
\href{11-input-output.md\#116-save-files}{11.6} \href{21-interrupts.md\#2184-gc}{21.8.4}
\href{22-storage-management.md\#223-other-storage}{22.3}
\textbf{\href{22-storage-management.md\#2292-purify}{22.9.2}}\strut
\end{minipage}\tabularnewline
\begin{minipage}[t]{0.24\columnwidth}\raggedright\strut
\texttt{PUT}\strut
\end{minipage} & \begin{minipage}[t]{0.70\columnwidth}\raggedright\strut
\textbf{\href{07-structured-objects.md\#714-put-1}{7.1.4}} \href{07-structured-objects.md\#74-examples-1}{7.4}
\href{07-structured-objects.md\#774-note-on-efficiency-1}{7.7.4} \href{09-functions.md\#910-apply-1}{9.10}
\textbf{\href{13-association-properties.md\#1312-put}{13.1.2}}\strut
\end{minipage}\tabularnewline
\begin{minipage}[t]{0.24\columnwidth}\raggedright\strut
\texttt{PUT-DECL}\strut
\end{minipage} & \begin{minipage}[t]{0.70\columnwidth}\raggedright\strut
\textbf{\href{14-data-type-declarations.md\#1473-get-decl-and-put-decl}{14.7.3}}
\href{14-data-type-declarations.md\#148-offset}{14.8}\strut
\end{minipage}\tabularnewline
\begin{minipage}[t]{0.24\columnwidth}\raggedright\strut
\texttt{PUTBITS}\strut
\end{minipage} & \begin{minipage}[t]{0.70\columnwidth}\raggedright\strut
\textbf{\href{18-machine-words-and-bits.md\#184-putbits}{18.4}}\strut
\end{minipage}\tabularnewline
\begin{minipage}[t]{0.24\columnwidth}\raggedright\strut
\texttt{PUTPROP}\strut
\end{minipage} & \begin{minipage}[t]{0.70\columnwidth}\raggedright\strut
\textbf{\href{13-association-properties.md\#1311-putprop}{13.1.1}}\strut
\end{minipage}\tabularnewline
\begin{minipage}[t]{0.24\columnwidth}\raggedright\strut
\texttt{PUTREST}\strut
\end{minipage} & \begin{minipage}[t]{0.70\columnwidth}\raggedright\strut
\textbf{\href{07-structured-objects.md\#7611-putrest-1}{7.6.1.1}}
\href{07-structured-objects.md\#781-self-subset}{7.8.1}\strut
\end{minipage}\tabularnewline
\begin{minipage}[t]{0.24\columnwidth}\raggedright\strut
\strut
\end{minipage} & \begin{minipage}[t]{0.70\columnwidth}\raggedright\strut
\strut
\end{minipage}\tabularnewline
\begin{minipage}[t]{0.24\columnwidth}\raggedright\strut
\texttt{QUICK-ENTRY}\strut
\end{minipage} & \begin{minipage}[t]{0.70\columnwidth}\raggedright\strut
\href{19-compiled-programs.md\#193-rsubr-linking}{19.3}
\href{appendix-3-predefined-types.md\#appendix-3-predefined-types}{Appendix 3}\strut
\end{minipage}\tabularnewline
\begin{minipage}[t]{0.24\columnwidth}\raggedright\strut
\texttt{QUICK-RSUBR}\strut
\end{minipage} & \begin{minipage}[t]{0.70\columnwidth}\raggedright\strut
\href{19-compiled-programs.md\#193-rsubr-linking}{19.3}
\href{appendix-3-predefined-types.md\#appendix-3-predefined-types}{Appendix 3}\strut
\end{minipage}\tabularnewline
\begin{minipage}[t]{0.24\columnwidth}\raggedright\strut
\texttt{QUIT}\strut
\end{minipage} & \begin{minipage}[t]{0.70\columnwidth}\raggedright\strut
\textbf{\href{23-mdl-as-a-system-process.md\#233-exits}{23.3}}\strut
\end{minipage}\tabularnewline
\begin{minipage}[t]{0.24\columnwidth}\raggedright\strut
\texttt{QUITTER}\strut
\end{minipage} & \begin{minipage}[t]{0.70\columnwidth}\raggedright\strut
\textbf{\href{21-interrupts.md\#2181-char-received}{21.8.1}}\strut
\end{minipage}\tabularnewline
\begin{minipage}[t]{0.24\columnwidth}\raggedright\strut
\texttt{QUOTE}\strut
\end{minipage} & \begin{minipage}[t]{0.70\columnwidth}\raggedright\strut
\textbf{\href{07-structured-objects.md\#752-quote-1}{7.5.2}} \href{09-functions.md\#94-quoted-arguments}{9.4}
\href{09-functions.md\#97-eval-and-bind}{9.7}\strut
\end{minipage}\tabularnewline
\begin{minipage}[t]{0.24\columnwidth}\raggedright\strut
\strut
\end{minipage} & \begin{minipage}[t]{0.70\columnwidth}\raggedright\strut
\strut
\end{minipage}\tabularnewline
\begin{minipage}[t]{0.24\columnwidth}\raggedright\strut
\texttt{RANDOM}\strut
\end{minipage} & \begin{minipage}[t]{0.70\columnwidth}\raggedright\strut
\textbf{\href{03-built-in-functions.md\#35-arithmetic-details}{3.5}}\strut
\end{minipage}\tabularnewline
\begin{minipage}[t]{0.24\columnwidth}\raggedright\strut
\texttt{READ}\strut
\end{minipage} & \begin{minipage}[t]{0.70\columnwidth}\raggedright\strut
\href{02-read-evaluate-print.md\#21-general-1}{2.1}
\href{02-read-evaluate-print.md\#261-read-and-fixed-point-numbers}{2.6.1}
\textbf{\href{11-input-output.md\#11111-read}{11.1.1.1}} \href{11-input-output.md\#1121-open}{11.2.1}
\href{13-association-properties.md\#133-examples-of-association}{13.3}
\href{15-lexical-blocking.md\#153-read-and-oblists}{15.3} \textbf{\href{15-lexical-blocking.md\#1571-read-again}{15.7.1}}
\textbf{\href{17-macro-operations.md\#17131-read-finally}{17.1.3.1}} \href{21-interrupts.md\#2187-blocked}{21.8.7}\strut
\end{minipage}\tabularnewline
\begin{minipage}[t]{0.24\columnwidth}\raggedright\strut
\texttt{READ-TABLE}\strut
\end{minipage} & \begin{minipage}[t]{0.70\columnwidth}\raggedright\strut
\textbf{\href{17-macro-operations.md\#17131-read-finally}{17.1.3.1}}\strut
\end{minipage}\tabularnewline
\begin{minipage}[t]{0.24\columnwidth}\raggedright\strut
\texttt{READA}\strut
\end{minipage} & \begin{minipage}[t]{0.70\columnwidth}\raggedright\strut
\textbf{\href{17-macro-operations.md\#17131-read-finally}{17.1.3.1}}\strut
\end{minipage}\tabularnewline
\begin{minipage}[t]{0.24\columnwidth}\raggedright\strut
\texttt{READB}\strut
\end{minipage} & \begin{minipage}[t]{0.70\columnwidth}\raggedright\strut
\href{11-input-output.md\#1121-open}{11.2.1} \textbf{\href{11-input-output.md\#11411-readb}{11.4.1.1}}\strut
\end{minipage}\tabularnewline
\begin{minipage}[t]{0.24\columnwidth}\raggedright\strut
\texttt{READCHR}\strut
\end{minipage} & \begin{minipage}[t]{0.70\columnwidth}\raggedright\strut
\href{10-looping.md\#1034-only-two-arguments}{10.3.4} \textbf{\href{11-input-output.md\#11112-readchr}{11.1.1.2}}
\href{11-input-output.md\#1121-open}{11.2.1} \href{11-input-output.md\#113-end-of-file-routine}{11.3}
\href{11-input-output.md\#118-terminal-channels}{11.8} \href{11-input-output.md\#1183-tyi}{11.8.3}
\href{21-interrupts.md\#2187-blocked}{21.8.7}\strut
\end{minipage}\tabularnewline
\begin{minipage}[t]{0.24\columnwidth}\raggedright\strut
\texttt{READSTRING}\strut
\end{minipage} & \begin{minipage}[t]{0.70\columnwidth}\raggedright\strut
\href{11-input-output.md\#1121-open}{11.2.1} \textbf{\href{11-input-output.md\#11412-readstring}{11.4.1.2}}
\href{11-input-output.md\#118-terminal-channels}{11.8}\strut
\end{minipage}\tabularnewline
\begin{minipage}[t]{0.24\columnwidth}\raggedright\strut
\texttt{REALTIMER}\strut
\end{minipage} & \begin{minipage}[t]{0.70\columnwidth}\raggedright\strut
\textbf{\href{21-interrupts.md\#21814-runt-and-realt}{21.8.14}}\strut
\end{minipage}\tabularnewline
\begin{minipage}[t]{0.24\columnwidth}\raggedright\strut
\texttt{REDEFINE}\strut
\end{minipage} & \begin{minipage}[t]{0.70\columnwidth}\raggedright\strut
\textbf{\href{05-simple-functions.md\#54-defining-functions-function-and-define-1}{5.4}}
\href{appendix-5-initial-settings.md\#appendix-5-initial-settings}{Appendix 5}\strut
\end{minipage}\tabularnewline
\begin{minipage}[t]{0.24\columnwidth}\raggedright\strut
\texttt{REMOVE}\strut
\end{minipage} & \begin{minipage}[t]{0.70\columnwidth}\raggedright\strut
\textbf{\href{15-lexical-blocking.md\#1575-remove}{15.7.5}}
\href{15-lexical-blocking.md\#158-example-another-solution-to-the-inc-problem}{15.8}\strut
\end{minipage}\tabularnewline
\begin{minipage}[t]{0.24\columnwidth}\raggedright\strut
\texttt{RENAME}\strut
\end{minipage} & \begin{minipage}[t]{0.70\columnwidth}\raggedright\strut
\href{11-input-output.md\#1121-open}{11.2.1} \textbf{\href{11-input-output.md\#1179-rename}{11.7.9}}\strut
\end{minipage}\tabularnewline
\begin{minipage}[t]{0.24\columnwidth}\raggedright\strut
\texttt{REP}\strut
\end{minipage} & \begin{minipage}[t]{0.70\columnwidth}\raggedright\strut
\textbf{\href{16-errors-frames-etc.md\#161-listen}{16.1}}\strut
\end{minipage}\tabularnewline
\begin{minipage}[t]{0.24\columnwidth}\raggedright\strut
\texttt{REPEAT}\strut
\end{minipage} & \begin{minipage}[t]{0.70\columnwidth}\raggedright\strut
\href{09-functions.md\#98-activation-name-act-again-and-return-1}{9.8}
\textbf{\href{10-looping.md\#101-prog-and-repeat-1}{10.1}}
\href{24-efficiency-and-tastefulness.md\#241-efficiency}{24.1}\strut
\end{minipage}\tabularnewline
\begin{minipage}[t]{0.24\columnwidth}\raggedright\strut
\texttt{RESET}\strut
\end{minipage} & \begin{minipage}[t]{0.70\columnwidth}\raggedright\strut
\href{11-input-output.md\#1121-open}{11.2.1} \href{11-input-output.md\#1123-channel-the-subr}{11.2.3}
\textbf{\href{11-input-output.md\#1177-reset}{11.7.7}} \href{11-input-output.md\#118-terminal-channels}{11.8}\strut
\end{minipage}\tabularnewline
\begin{minipage}[t]{0.24\columnwidth}\raggedright\strut
\texttt{REST}\strut
\end{minipage} & \begin{minipage}[t]{0.70\columnwidth}\raggedright\strut
\textbf{\href{07-structured-objects.md\#713-rest-1}{7.1.3}} \href{07-structured-objects.md\#74-examples-1}{7.4}
\href{08-truth.md\#824-object-properties-1}{8.2.4} \textbf{\href{14-data-type-declarations.md\#141-patterns}{14.1}}
\href{appendix-1-a-look-inside.md\#basic-data-structures}{Appendix 1}\strut
\end{minipage}\tabularnewline
\begin{minipage}[t]{0.24\columnwidth}\raggedright\strut
\texttt{RESTORE}\strut
\end{minipage} & \begin{minipage}[t]{0.70\columnwidth}\raggedright\strut
\href{11-input-output.md\#116-save-files}{11.6} \textbf{\href{11-input-output.md\#1162-restore}{11.6.2}}\strut
\end{minipage}\tabularnewline
\begin{minipage}[t]{0.24\columnwidth}\raggedright\strut
\texttt{RESUMABLE}\strut
\end{minipage} & \begin{minipage}[t]{0.70\columnwidth}\raggedright\strut
\textbf{\href{20-coroutines.md\#202-state-of-a-process}{20.2}}\strut
\end{minipage}\tabularnewline
\begin{minipage}[t]{0.24\columnwidth}\raggedright\strut
\texttt{RESUME}\strut
\end{minipage} & \begin{minipage}[t]{0.70\columnwidth}\raggedright\strut
\textbf{\href{20-coroutines.md\#204-resume}{20.4}} \href{20-coroutines.md\#206-example}{20.6}
\href{20-coroutines.md\#2071-break-seq}{20.7.1} \href{21-interrupts.md\#219-user-defined-interrupts}{21.9}\strut
\end{minipage}\tabularnewline
\begin{minipage}[t]{0.24\columnwidth}\raggedright\strut
\texttt{RESUMER}\strut
\end{minipage} & \begin{minipage}[t]{0.70\columnwidth}\raggedright\strut
\textbf{\href{20-coroutines.md\#2074-resumer}{20.7.4}}\strut
\end{minipage}\tabularnewline
\begin{minipage}[t]{0.24\columnwidth}\raggedright\strut
\texttt{RETRY}\strut
\end{minipage} & \begin{minipage}[t]{0.70\columnwidth}\raggedright\strut
\textbf{\href{16-errors-frames-etc.md\#165-retry}{16.5}} \href{appendix-1-a-look-inside.md\#the-control-stack}{Appendix
1}\strut
\end{minipage}\tabularnewline
\begin{minipage}[t]{0.24\columnwidth}\raggedright\strut
\texttt{RETURN}\strut
\end{minipage} & \begin{minipage}[t]{0.70\columnwidth}\raggedright\strut
\textbf{\href{09-functions.md\#98-activation-name-act-again-and-return-1}{9.8}}
\textbf{\href{10-looping.md\#1012-again-and-return-in-prog-and-repeat-1}{10.1.2}}
\href{20-coroutines.md\#208-sneakiness-with-processes}{20.8}\strut
\end{minipage}\tabularnewline
\begin{minipage}[t]{0.24\columnwidth}\raggedright\strut
\texttt{RGLOC}\strut
\end{minipage} & \begin{minipage}[t]{0.70\columnwidth}\raggedright\strut
\textbf{\href{19-compiled-programs.md\#194-pure-and-impure-code}{19.4}}\strut
\end{minipage}\tabularnewline
\begin{minipage}[t]{0.24\columnwidth}\raggedright\strut
\texttt{ROOT}\strut
\end{minipage} & \begin{minipage}[t]{0.70\columnwidth}\raggedright\strut
\textbf{\href{15-lexical-blocking.md\#155-initial-state}{15.5}}
\href{15-lexical-blocking.md\#158-example-another-solution-to-the-inc-problem}{15.8}\strut
\end{minipage}\tabularnewline
\begin{minipage}[t]{0.24\columnwidth}\raggedright\strut
\texttt{ROT}\strut
\end{minipage} & \begin{minipage}[t]{0.70\columnwidth}\raggedright\strut
\textbf{\href{18-machine-words-and-bits.md\#186-bitwise-shifting-operations}{18.6}}\strut
\end{minipage}\tabularnewline
\begin{minipage}[t]{0.24\columnwidth}\raggedright\strut
\texttt{RSUBR}\strut
\end{minipage} & \begin{minipage}[t]{0.70\columnwidth}\raggedright\strut
\href{16-errors-frames-etc.md\#163-frame-the-type}{16.3} \textbf{\href{19-compiled-programs.md\#191-rsubr-the-type}{19.1}}
\textbf{\href{19-compiled-programs.md\#196-rsubr-the-subr}{19.6}}
\href{22-storage-management.md\#223-other-storage}{22.3}\strut
\end{minipage}\tabularnewline
\begin{minipage}[t]{0.24\columnwidth}\raggedright\strut
\texttt{RSUBR-ENTRY}\strut
\end{minipage} & \begin{minipage}[t]{0.70\columnwidth}\raggedright\strut
\href{16-errors-frames-etc.md\#163-frame-the-type}{16.3}
\textbf{\href{19-compiled-programs.md\#197-rsubr-entry}{19.7}}\strut
\end{minipage}\tabularnewline
\begin{minipage}[t]{0.24\columnwidth}\raggedright\strut
\texttt{RSUBR-LINK}\strut
\end{minipage} & \begin{minipage}[t]{0.70\columnwidth}\raggedright\strut
\textbf{\href{19-compiled-programs.md\#193-rsubr-linking}{19.3}}
\href{appendix-5-initial-settings.md\#appendix-5-initial-settings}{Appendix 5}\strut
\end{minipage}\tabularnewline
\begin{minipage}[t]{0.24\columnwidth}\raggedright\strut
\texttt{rubout}\strut
\end{minipage} & \begin{minipage}[t]{0.70\columnwidth}\raggedright\strut
\textbf{\href{01-basic-introduction.md\#12-typing-1}{1.2}} \href{11-input-output.md\#1111-input}{11.1.1}
\href{11-input-output.md\#1181-echopair}{11.8.1}\strut
\end{minipage}\tabularnewline
\begin{minipage}[t]{0.24\columnwidth}\raggedright\strut
\texttt{RUNABLE}\strut
\end{minipage} & \begin{minipage}[t]{0.70\columnwidth}\raggedright\strut
\textbf{\href{20-coroutines.md\#202-state-of-a-process}{20.2}}\strut
\end{minipage}\tabularnewline
\begin{minipage}[t]{0.24\columnwidth}\raggedright\strut
\texttt{RUNINT}\strut
\end{minipage} & \begin{minipage}[t]{0.70\columnwidth}\raggedright\strut
\textbf{\href{21-interrupts.md\#2152-handler}{21.5.2}}\strut
\end{minipage}\tabularnewline
\begin{minipage}[t]{0.24\columnwidth}\raggedright\strut
\texttt{RUNNING}\strut
\end{minipage} & \begin{minipage}[t]{0.70\columnwidth}\raggedright\strut
\textbf{\href{20-coroutines.md\#202-state-of-a-process}{20.2}}\strut
\end{minipage}\tabularnewline
\begin{minipage}[t]{0.24\columnwidth}\raggedright\strut
\texttt{RUNTIMER}\strut
\end{minipage} & \begin{minipage}[t]{0.70\columnwidth}\raggedright\strut
\textbf{\href{21-interrupts.md\#21814-runt-and-realt}{21.8.14}}\strut
\end{minipage}\tabularnewline
\begin{minipage}[t]{0.24\columnwidth}\raggedright\strut
\strut
\end{minipage} & \begin{minipage}[t]{0.70\columnwidth}\raggedright\strut
\strut
\end{minipage}\tabularnewline
\begin{minipage}[t]{0.24\columnwidth}\raggedright\strut
\texttt{SAVE}\strut
\end{minipage} & \begin{minipage}[t]{0.70\columnwidth}\raggedright\strut
\href{11-input-output.md\#116-save-files}{11.6} \textbf{\href{11-input-output.md\#1161-save}{11.6.1}}
\href{19-compiled-programs.md\#194-pure-and-impure-code}{19.4} \href{22-storage-management.md\#2292-purify}{22.9.2}\strut
\end{minipage}\tabularnewline
\begin{minipage}[t]{0.24\columnwidth}\raggedright\strut
\texttt{SEGMENT}\strut
\end{minipage} & \begin{minipage}[t]{0.70\columnwidth}\raggedright\strut
\textbf{\href{07-structured-objects.md\#77-segments-1}{7.7}} \href{08-truth.md\#822-equality-and-membership-1}{8.2.2}
\href{17-macro-operations.md\#17131-read-finally}{17.1.3.1}\strut
\end{minipage}\tabularnewline
\begin{minipage}[t]{0.24\columnwidth}\raggedright\strut
\texttt{SEND}\strut
\end{minipage} & \begin{minipage}[t]{0.70\columnwidth}\raggedright\strut
\textbf{\href{23-mdl-as-a-system-process.md\#2341-send-and-send-wait}{23.4.1}}\strut
\end{minipage}\tabularnewline
\begin{minipage}[t]{0.24\columnwidth}\raggedright\strut
\texttt{SEND-WAIT}\strut
\end{minipage} & \begin{minipage}[t]{0.70\columnwidth}\raggedright\strut
\textbf{\href{23-mdl-as-a-system-process.md\#2341-send-and-send-wait}{23.4.1}}\strut
\end{minipage}\tabularnewline
\begin{minipage}[t]{0.24\columnwidth}\raggedright\strut
\texttt{SET}\strut
\end{minipage} & \begin{minipage}[t]{0.70\columnwidth}\raggedright\strut
\textbf{\href{04-values-of-atoms.md\#431-set-1}{4.3.1}}
\href{05-simple-functions.md\#53-application-of-functions-binding-1}{5.3}
\href{20-coroutines.md\#208-sneakiness-with-processes}{20.8} \href{21-interrupts.md\#2184-gc}{21.8.4}
\href{22-storage-management.md\#223-other-storage}{22.3}\strut
\end{minipage}\tabularnewline
\begin{minipage}[t]{0.24\columnwidth}\raggedright\strut
\texttt{SETG}\strut
\end{minipage} & \begin{minipage}[t]{0.70\columnwidth}\raggedright\strut
\textbf{\href{04-values-of-atoms.md\#421-setg-1}{4.2.1}}
\href{05-simple-functions.md\#53-application-of-functions-binding-1}{5.3} \href{21-interrupts.md\#2184-gc}{21.8.4}
\href{22-storage-management.md\#223-other-storage}{22.3}\strut
\end{minipage}\tabularnewline
\begin{minipage}[t]{0.24\columnwidth}\raggedright\strut
\texttt{SETLOC}\strut
\end{minipage} & \begin{minipage}[t]{0.70\columnwidth}\raggedright\strut
\href{12-locatives.md\#1211-lloc}{12.1.1} \textbf{\href{12-locatives.md\#1232-setloc}{12.3.2}}
\href{12-locatives.md\#124-note-on-locatives}{12.4}\strut
\end{minipage}\tabularnewline
\begin{minipage}[t]{0.24\columnwidth}\raggedright\strut
\texttt{SIN}\strut
\end{minipage} & \begin{minipage}[t]{0.70\columnwidth}\raggedright\strut
\textbf{\href{05-simple-functions.md\#55-examples-comments-1}{5.5}}\strut
\end{minipage}\tabularnewline
\begin{minipage}[t]{0.24\columnwidth}\raggedright\strut
\texttt{SLEEP}\strut
\end{minipage} & \begin{minipage}[t]{0.70\columnwidth}\raggedright\strut
\textbf{\href{21-interrupts.md\#21102-sleep}{21.10.2}}\strut
\end{minipage}\tabularnewline
\begin{minipage}[t]{0.24\columnwidth}\raggedright\strut
\texttt{SNAME}\strut
\end{minipage} & \begin{minipage}[t]{0.70\columnwidth}\raggedright\strut
\textbf{\href{11-input-output.md\#1173-sname}{11.7.3}}\strut
\end{minipage}\tabularnewline
\begin{minipage}[t]{0.24\columnwidth}\raggedright\strut
\texttt{SNM}\strut
\end{minipage} & \begin{minipage}[t]{0.70\columnwidth}\raggedright\strut
\textbf{\href{11-input-output.md\#1121-open}{11.2.1}} \href{11-input-output.md\#1161-save}{11.6.1}
\href{11-input-output.md\#1173-sname}{11.7.3} \href{appendix-5-initial-settings.md\#appendix-5-initial-settings}{Appendix
5}\strut
\end{minipage}\tabularnewline
\begin{minipage}[t]{0.24\columnwidth}\raggedright\strut
\texttt{SORT}\strut
\end{minipage} & \begin{minipage}[t]{0.70\columnwidth}\raggedright\strut
\textbf{\href{07-structured-objects.md\#7632-sort}{7.6.3.2}} \href{08-truth.md\#822-equality-and-membership-1}{8.2.2}\strut
\end{minipage}\tabularnewline
\begin{minipage}[t]{0.24\columnwidth}\raggedright\strut
\texttt{SORTX}\strut
\end{minipage} & \begin{minipage}[t]{0.70\columnwidth}\raggedright\strut
\href{07-structured-objects.md\#7632-sort}{7.6.3.2}\strut
\end{minipage}\tabularnewline
\begin{minipage}[t]{0.24\columnwidth}\raggedright\strut
\texttt{SPECIAL}\strut
\end{minipage} & \begin{minipage}[t]{0.70\columnwidth}\raggedright\strut
\textbf{\href{14-data-type-declarations.md\#141-patterns}{14.1}} \href{17-macro-operations.md\#172-eval-macros}{17.2}
\href{22-storage-management.md\#2211-stacks-and-other-internal-vectors}{22.1.1}
\href{appendix-1-a-look-inside.md\#variable-bindings}{Appendix 1}\strut
\end{minipage}\tabularnewline
\begin{minipage}[t]{0.24\columnwidth}\raggedright\strut
\texttt{SPECIAL-CHECK}\strut
\end{minipage} & \begin{minipage}[t]{0.70\columnwidth}\raggedright\strut
\textbf{\href{14-data-type-declarations.md\#1472-special-check-and-special-mode}{14.7.2}}\strut
\end{minipage}\tabularnewline
\begin{minipage}[t]{0.24\columnwidth}\raggedright\strut
\texttt{SPECIAL-MODE}\strut
\end{minipage} & \begin{minipage}[t]{0.70\columnwidth}\raggedright\strut
\href{14-data-type-declarations.md\#141-patterns}{14.1}
\textbf{\href{14-data-type-declarations.md\#1472-special-check-and-special-mode}{14.7.2}}\strut
\end{minipage}\tabularnewline
\begin{minipage}[t]{0.24\columnwidth}\raggedright\strut
\texttt{SPLICE}\strut
\end{minipage} & \begin{minipage}[t]{0.70\columnwidth}\raggedright\strut
\textbf{\href{17-macro-operations.md\#17131-read-finally}{17.1.3.1}}\strut
\end{minipage}\tabularnewline
\begin{minipage}[t]{0.24\columnwidth}\raggedright\strut
\texttt{SPNAME}\strut
\end{minipage} & \begin{minipage}[t]{0.70\columnwidth}\raggedright\strut
\textbf{\href{15-lexical-blocking.md\#1578-spname}{15.7.8}}\strut
\end{minipage}\tabularnewline
\begin{minipage}[t]{0.24\columnwidth}\raggedright\strut
\texttt{SQRT}\strut
\end{minipage} & \begin{minipage}[t]{0.70\columnwidth}\raggedright\strut
\textbf{\href{05-simple-functions.md\#55-examples-comments-1}{5.5}}\strut
\end{minipage}\tabularnewline
\begin{minipage}[t]{0.24\columnwidth}\raggedright\strut
\texttt{SQUOTA}\strut
\end{minipage} & \begin{minipage}[t]{0.70\columnwidth}\raggedright\strut
\href{appendix-2-predefined-subroutines.md\#appendix-2-predefined-subroutines}{Appendix 2}\strut
\end{minipage}\tabularnewline
\begin{minipage}[t]{0.24\columnwidth}\raggedright\strut
\texttt{STACKFORM}\strut
\end{minipage} & \begin{minipage}[t]{0.70\columnwidth}\raggedright\strut
\href{10-looping.md\#1035-stackform}{10.3.5}\strut
\end{minipage}\tabularnewline
\begin{minipage}[t]{0.24\columnwidth}\raggedright\strut
\texttt{STATE}\strut
\end{minipage} & \begin{minipage}[t]{0.70\columnwidth}\raggedright\strut
\textbf{\href{20-coroutines.md\#202-state-of-a-process}{20.2}}\strut
\end{minipage}\tabularnewline
\begin{minipage}[t]{0.24\columnwidth}\raggedright\strut
\texttt{STORAGE}\strut
\end{minipage} & \begin{minipage}[t]{0.70\columnwidth}\raggedright\strut
\textbf{\href{22-storage-management.md\#2222-non-garbage-collected-storage-the-primtype}{22.2.2}}\strut
\end{minipage}\tabularnewline
\begin{minipage}[t]{0.24\columnwidth}\raggedright\strut
\texttt{STRCOMP}\strut
\end{minipage} & \begin{minipage}[t]{0.70\columnwidth}\raggedright\strut
\textbf{\href{08-truth.md\#822-equality-and-membership-1}{8.2.2}}\strut
\end{minipage}\tabularnewline
\begin{minipage}[t]{0.24\columnwidth}\raggedright\strut
\texttt{STRING}\strut
\end{minipage} & \begin{minipage}[t]{0.70\columnwidth}\raggedright\strut
\textbf{\href{07-structured-objects.md\#724-string-1}{7.2.4}}
\textbf{\href{07-structured-objects.md\#753-list-vector-uvector-and-string-the-subrs-1}{7.5.3}}
\textbf{\href{07-structured-objects.md\#766-string-the-primtype-and-character-1}{7.6.6}}
\href{07-structured-objects.md\#767-bytes}{7.6.7} \href{11-input-output.md\#11123-princ}{11.1.2.3}
\href{17-macro-operations.md\#17131-read-finally}{17.1.3.1}
\href{appendix-1-a-look-inside.md\#appendix-1-a-look-inside}{Appendix 1}\strut
\end{minipage}\tabularnewline
\begin{minipage}[t]{0.24\columnwidth}\raggedright\strut
\texttt{STRUCTURED}\strut
\end{minipage} & \begin{minipage}[t]{0.70\columnwidth}\raggedright\strut
\textbf{\href{14-data-type-declarations.md\#141-patterns}{14.1}}\strut
\end{minipage}\tabularnewline
\begin{minipage}[t]{0.24\columnwidth}\raggedright\strut
\texttt{STRUCTURED?}\strut
\end{minipage} & \begin{minipage}[t]{0.70\columnwidth}\raggedright\strut
\textbf{\href{08-truth.md\#824-object-properties-1}{8.2.4}}\strut
\end{minipage}\tabularnewline
\begin{minipage}[t]{0.24\columnwidth}\raggedright\strut
\texttt{SUBR}\strut
\end{minipage} & \begin{minipage}[t]{0.70\columnwidth}\raggedright\strut
\textbf{\href{03-built-in-functions.md\#33-built-in-functions-type-subr-type-fsubr-1}{3.3}}
\href{04-values-of-atoms.md\#423-note-on-subrs-and-fsubrs}{4.2.3}
\href{16-errors-frames-etc.md\#163-frame-the-type}{16.3}\strut
\end{minipage}\tabularnewline
\begin{minipage}[t]{0.24\columnwidth}\raggedright\strut
\texttt{Subroutine}\strut
\end{minipage} & \begin{minipage}[t]{0.70\columnwidth}\raggedright\strut
\href{03-built-in-functions.md\#33-built-in-functions-type-subr-type-fsubr-1}{3.3}
\textbf{\href{16-errors-frames-etc.md\#163-frame-the-type}{16.3}}\strut
\end{minipage}\tabularnewline
\begin{minipage}[t]{0.24\columnwidth}\raggedright\strut
\texttt{SUBSTITUTE}\strut
\end{minipage} & \begin{minipage}[t]{0.70\columnwidth}\raggedright\strut
\textbf{\href{22-storage-management.md\#2291-substitute}{22.9.1}}\strut
\end{minipage}\tabularnewline
\begin{minipage}[t]{0.24\columnwidth}\raggedright\strut
\texttt{SUBSTRUC}\strut
\end{minipage} & \begin{minipage}[t]{0.70\columnwidth}\raggedright\strut
\textbf{\href{07-structured-objects.md\#717-substruc}{7.1.7}} \href{07-structured-objects.md\#74-examples-1}{7.4}\strut
\end{minipage}\tabularnewline
\begin{minipage}[t]{0.24\columnwidth}\raggedright\strut
\texttt{SUICIDE}\strut
\end{minipage} & \begin{minipage}[t]{0.70\columnwidth}\raggedright\strut
\textbf{\href{20-coroutines.md\#2075-suicide}{20.7.5}}\strut
\end{minipage}\tabularnewline
\begin{minipage}[t]{0.24\columnwidth}\raggedright\strut
\strut
\end{minipage} & \begin{minipage}[t]{0.70\columnwidth}\raggedright\strut
\strut
\end{minipage}\tabularnewline
\begin{minipage}[t]{0.24\columnwidth}\raggedright\strut
\texttt{T}\strut
\end{minipage} & \begin{minipage}[t]{0.70\columnwidth}\raggedright\strut
\textbf{\href{08-truth.md\#82-predicates-1}{8.2}}\strut
\end{minipage}\tabularnewline
\begin{minipage}[t]{0.24\columnwidth}\raggedright\strut
\texttt{TAG}\strut
\end{minipage} & \begin{minipage}[t]{0.70\columnwidth}\raggedright\strut
\textbf{\href{10-looping.md\#104-go-and-tag}{10.4}}
\href{22-storage-management.md\#2211-stacks-and-other-internal-vectors}{22.1.1}\strut
\end{minipage}\tabularnewline
\begin{minipage}[t]{0.24\columnwidth}\raggedright\strut
\texttt{TEMPLATE}\strut
\end{minipage} & \begin{minipage}[t]{0.70\columnwidth}\raggedright\strut
\textbf{\href{07-structured-objects.md\#726-template}{7.2.6}} \textbf{\href{07-structured-objects.md\#768-template}{7.6.8}}
\href{appendix-1-a-look-inside.md\#basic-data-structures}{Appendix 1}\strut
\end{minipage}\tabularnewline
\begin{minipage}[t]{0.24\columnwidth}\raggedright\strut
\texttt{Tenex}\strut
\end{minipage} & \begin{minipage}[t]{0.70\columnwidth}\raggedright\strut
\href{01-basic-introduction.md\#12-typing-1}{1.2} \href{01-basic-introduction.md\#13-loading-a-file-1}{1.3}
\href{11-input-output.md\#1121-open}{11.2.1} \href{11-input-output.md\#1161-save}{11.6.1}
\href{11-input-output.md\#119-internal-channels}{11.9}
\href{11-input-output.md\#1110-the-net-device-the-arpa-network}{11.10} \href{11-input-output.md\#11103-nets}{11.10.3}
\href{16-errors-frames-etc.md\#168-control-s-s}{16.8} \href{19-compiled-programs.md\#198-rsubrs-in-files}{19.8}
\href{21-interrupts.md\#212-event}{21.2} \href{21-interrupts.md\#2181-char-received}{21.8.1}
\href{21-interrupts.md\#2186-clock}{21.8.6} \href{21-interrupts.md\#21810-sysdown}{21.8.10}
\href{21-interrupts.md\#21812-ipc}{21.8.12} \href{21-interrupts.md\#21813-inferior}{21.8.13}
\href{21-interrupts.md\#21814-runt-and-realt}{21.8.14} \href{21-interrupts.md\#21815-dangerous-interrupts}{21.8.15}
\href{appendix-2-predefined-subroutines.md\#appendix-2-predefined-subroutines}{Appendix 2}\strut
\end{minipage}\tabularnewline
\begin{minipage}[t]{0.24\columnwidth}\raggedright\strut
\texttt{TERPRI}\strut
\end{minipage} & \begin{minipage}[t]{0.70\columnwidth}\raggedright\strut
\href{08-truth.md\#841-and-and-or-as-short-conds}{8.4.1} \textbf{\href{11-input-output.md\#11124-terpri}{11.1.2.4}}
\href{11-input-output.md\#1121-open}{11.2.1}\strut
\end{minipage}\tabularnewline
\begin{minipage}[t]{0.24\columnwidth}\raggedright\strut
\texttt{THIS-PROCESS}\strut
\end{minipage} & \begin{minipage}[t]{0.70\columnwidth}\raggedright\strut
\textbf{\href{20-coroutines.md\#2072-main}{20.7.2}} \textbf{\href{20-coroutines.md\#2073-me}{20.7.3}}\strut
\end{minipage}\tabularnewline
\begin{minipage}[t]{0.24\columnwidth}\raggedright\strut
\texttt{TIME}\strut
\end{minipage} & \begin{minipage}[t]{0.70\columnwidth}\raggedright\strut
\textbf{\href{23-mdl-as-a-system-process.md\#231-time}{23.1}}\strut
\end{minipage}\tabularnewline
\begin{minipage}[t]{0.24\columnwidth}\raggedright\strut
\texttt{TO}\strut
\end{minipage} & \begin{minipage}[t]{0.70\columnwidth}\raggedright\strut
\textbf{\href{11-input-output.md\#1179-rename}{11.7.9}}\strut
\end{minipage}\tabularnewline
\begin{minipage}[t]{0.24\columnwidth}\raggedright\strut
\texttt{TOP}\strut
\end{minipage} & \begin{minipage}[t]{0.70\columnwidth}\raggedright\strut
\textbf{\href{07-structured-objects.md\#7622-top-1}{7.6.2.2}}
\href{appendix-1-a-look-inside.md\#basic-data-structures}{Appendix 1}\strut
\end{minipage}\tabularnewline
\begin{minipage}[t]{0.24\columnwidth}\raggedright\strut
\texttt{TOPLEVEL}\strut
\end{minipage} & \begin{minipage}[t]{0.70\columnwidth}\raggedright\strut
\textbf{\href{16-errors-frames-etc.md\#1633-frame-the-subr}{16.3.3}}\strut
\end{minipage}\tabularnewline
\begin{minipage}[t]{0.24\columnwidth}\raggedright\strut
\texttt{Tops-20}\strut
\end{minipage} & \begin{minipage}[t]{0.70\columnwidth}\raggedright\strut
\href{01-basic-introduction.md\#12-typing-1}{1.2} \href{01-basic-introduction.md\#13-loading-a-file-1}{1.3}
\href{11-input-output.md\#1121-open}{11.2.1} \href{11-input-output.md\#1161-save}{11.6.1}
\href{11-input-output.md\#119-internal-channels}{11.9}
\href{11-input-output.md\#1110-the-net-device-the-arpa-network}{11.10} \href{11-input-output.md\#11103-nets}{11.10.3}
\href{16-errors-frames-etc.md\#168-control-s-s}{16.8} \href{19-compiled-programs.md\#198-rsubrs-in-files}{19.8}
\href{21-interrupts.md\#212-event}{21.2} \href{21-interrupts.md\#2181-char-received}{21.8.1}
\href{21-interrupts.md\#2186-clock}{21.8.6} \href{21-interrupts.md\#21810-sysdown}{21.8.10}
\href{21-interrupts.md\#21812-ipc}{21.8.12} \href{21-interrupts.md\#21813-inferior}{21.8.13}
\href{21-interrupts.md\#21814-runt-and-realt}{21.8.14} \href{21-interrupts.md\#21815-dangerous-interrupts}{21.8.15}
\href{appendix-2-predefined-subroutines.md\#appendix-2-predefined-subroutines}{Appendix 2}\strut
\end{minipage}\tabularnewline
\begin{minipage}[t]{0.24\columnwidth}\raggedright\strut
\texttt{TTYECHO}\strut
\end{minipage} & \begin{minipage}[t]{0.70\columnwidth}\raggedright\strut
\href{11-input-output.md\#1121-open}{11.2.1} \textbf{\href{11-input-output.md\#1182-ttyecho}{11.8.2}}
\href{16-errors-frames-etc.md\#161-listen}{16.1}\strut
\end{minipage}\tabularnewline
\begin{minipage}[t]{0.24\columnwidth}\raggedright\strut
\texttt{TUPLE}\strut
\end{minipage} & \begin{minipage}[t]{0.70\columnwidth}\raggedright\strut
\textbf{\href{09-functions.md\#921-tuple-and-tuple-the-type-1}{9.2.1}}
\textbf{\href{09-functions.md\#922-tuple-the-subr-and-ituple}{9.2.2}}
\href{22-storage-management.md\#2211-stacks-and-other-internal-vectors}{22.1.1}
\href{appendix-1-a-look-inside.md\#appendix-1-a-look-inside}{Appendix 1}\strut
\end{minipage}\tabularnewline
\begin{minipage}[t]{0.24\columnwidth}\raggedright\strut
\texttt{TYI}\strut
\end{minipage} & \begin{minipage}[t]{0.70\columnwidth}\raggedright\strut
\href{11-input-output.md\#1121-open}{11.2.1} \textbf{\href{11-input-output.md\#1183-tyi}{11.8.3}}
\href{21-interrupts.md\#2187-blocked}{21.8.7} \href{21-interrupts.md\#2188-unblocked}{21.8.8}\strut
\end{minipage}\tabularnewline
\begin{minipage}[t]{0.24\columnwidth}\raggedright\strut
\texttt{TYPE}\strut
\end{minipage} & \begin{minipage}[t]{0.70\columnwidth}\raggedright\strut
\textbf{\href{02-read-evaluate-print.md\#22-philosophy-types-1}{2.2}} \textbf{\href{06-data-types.md\#631-type-1}{6.3.1}}
\href{08-truth.md\#824-object-properties-1}{8.2.4} \href{10-looping.md\#1023-examples-1}{10.2.3}
\href{22-storage-management.md\#2211-stacks-and-other-internal-vectors}{22.1.1}
\href{appendix-1-a-look-inside.md\#appendix-1-a-look-inside}{Appendix 1}
\href{appendix-1-a-look-inside.md\#basic-data-structures}{Appendix 1}\strut
\end{minipage}\tabularnewline
\begin{minipage}[t]{0.24\columnwidth}\raggedright\strut
\texttt{TYPE-C}\strut
\end{minipage} & \begin{minipage}[t]{0.70\columnwidth}\raggedright\strut
\textbf{\href{19-compiled-programs.md\#195-type-c-and-type-w}{19.5}}\strut
\end{minipage}\tabularnewline
\begin{minipage}[t]{0.24\columnwidth}\raggedright\strut
\texttt{TYPE-W}\strut
\end{minipage} & \begin{minipage}[t]{0.70\columnwidth}\raggedright\strut
\textbf{\href{19-compiled-programs.md\#195-type-c-and-type-w}{19.5}}\strut
\end{minipage}\tabularnewline
\begin{minipage}[t]{0.24\columnwidth}\raggedright\strut
\texttt{TYPE?}\strut
\end{minipage} & \begin{minipage}[t]{0.70\columnwidth}\raggedright\strut
\textbf{\href{08-truth.md\#824-object-properties-1}{8.2.4}}\strut
\end{minipage}\tabularnewline
\begin{minipage}[t]{0.24\columnwidth}\raggedright\strut
\texttt{TYPEPRIM}\strut
\end{minipage} & \begin{minipage}[t]{0.70\columnwidth}\raggedright\strut
\textbf{\href{06-data-types.md\#633-typeprim-1}{6.3.3}}\strut
\end{minipage}\tabularnewline
\begin{minipage}[t]{0.24\columnwidth}\raggedright\strut
\strut
\end{minipage} & \begin{minipage}[t]{0.70\columnwidth}\raggedright\strut
\strut
\end{minipage}\tabularnewline
\begin{minipage}[t]{0.24\columnwidth}\raggedright\strut
\texttt{UNAME}\strut
\end{minipage} & \begin{minipage}[t]{0.70\columnwidth}\raggedright\strut
\textbf{\href{23-mdl-as-a-system-process.md\#232-names}{23.2}}\strut
\end{minipage}\tabularnewline
\begin{minipage}[t]{0.24\columnwidth}\raggedright\strut
\texttt{UNASSIGN}\strut
\end{minipage} & \begin{minipage}[t]{0.70\columnwidth}\raggedright\strut
\textbf{\href{04-values-of-atoms.md\#433-unassign}{4.3.3}}
\href{20-coroutines.md\#208-sneakiness-with-processes}{20.8}\strut
\end{minipage}\tabularnewline
\begin{minipage}[t]{0.24\columnwidth}\raggedright\strut
\texttt{UNBOUND}\strut
\end{minipage} & \begin{minipage}[t]{0.70\columnwidth}\raggedright\strut
\href{appendix-1-a-look-inside.md\#basic-data-structures}{Appendix 1}
\href{appendix-3-predefined-types.md\#appendix-3-predefined-types}{Appendix 3}\strut
\end{minipage}\tabularnewline
\begin{minipage}[t]{0.24\columnwidth}\raggedright\strut
\texttt{UNMANIFEST}\strut
\end{minipage} & \begin{minipage}[t]{0.70\columnwidth}\raggedright\strut
\textbf{\href{14-data-type-declarations.md\#1452-manifest-and-unmanifest}{14.5.2}}\strut
\end{minipage}\tabularnewline
\begin{minipage}[t]{0.24\columnwidth}\raggedright\strut
\texttt{UNPARSE}\strut
\end{minipage} & \begin{minipage}[t]{0.70\columnwidth}\raggedright\strut
\textbf{\href{07-structured-objects.md\#7664-unparse-1}{7.6.6.4}} \href{15-lexical-blocking.md\#1577-pname}{15.7.7}\strut
\end{minipage}\tabularnewline
\begin{minipage}[t]{0.24\columnwidth}\raggedright\strut
\texttt{UNSPECIAL}\strut
\end{minipage} & \begin{minipage}[t]{0.70\columnwidth}\raggedright\strut
\textbf{\href{14-data-type-declarations.md\#141-patterns}{14.1}}
\href{appendix-1-a-look-inside.md\#the-control-stack}{Appendix 1}
\href{appendix-1-a-look-inside.md\#variable-bindings}{Appendix 1}\strut
\end{minipage}\tabularnewline
\begin{minipage}[t]{0.24\columnwidth}\raggedright\strut
\texttt{UNWIND}\strut
\end{minipage} & \begin{minipage}[t]{0.70\columnwidth}\raggedright\strut
\textbf{\href{16-errors-frames-etc.md\#166-unwind}{16.6}} \href{appendix-1-a-look-inside.md\#variable-bindings}{Appendix
1}\strut
\end{minipage}\tabularnewline
\begin{minipage}[t]{0.24\columnwidth}\raggedright\strut
\texttt{UTYPE}\strut
\end{minipage} & \begin{minipage}[t]{0.70\columnwidth}\raggedright\strut
\textbf{\href{07-structured-objects.md\#7651-utype-1}{7.6.5.1}}\strut
\end{minipage}\tabularnewline
\begin{minipage}[t]{0.24\columnwidth}\raggedright\strut
\texttt{UVECTOR}\strut
\end{minipage} & \begin{minipage}[t]{0.70\columnwidth}\raggedright\strut
\textbf{\href{07-structured-objects.md\#723-uvector-1}{7.2.3}} \href{07-structured-objects.md\#752-quote-1}{7.5.2}
\textbf{\href{07-structured-objects.md\#753-list-vector-uvector-and-string-the-subrs-1}{7.5.3}}
\textbf{\href{07-structured-objects.md\#764-vector-the-primtype-1}{7.6.4}}
\href{07-structured-objects.md\#767-bytes}{7.6.7} \href{24-efficiency-and-tastefulness.md\#241-efficiency}{24.1}
\href{appendix-1-a-look-inside.md\#appendix-1-a-look-inside}{Appendix 1}
\href{appendix-1-a-look-inside.md\#basic-data-structures}{Appendix 1}\strut
\end{minipage}\tabularnewline
\begin{minipage}[t]{0.24\columnwidth}\raggedright\strut
\strut
\end{minipage} & \begin{minipage}[t]{0.70\columnwidth}\raggedright\strut
\strut
\end{minipage}\tabularnewline
\begin{minipage}[t]{0.24\columnwidth}\raggedright\strut
\texttt{VALID-TYPE?}\strut
\end{minipage} & \begin{minipage}[t]{0.70\columnwidth}\raggedright\strut
\textbf{\href{06-data-types.md\#642-valid-type}{6.4.2}}\strut
\end{minipage}\tabularnewline
\begin{minipage}[t]{0.24\columnwidth}\raggedright\strut
\texttt{VALRET}\strut
\end{minipage} & \begin{minipage}[t]{0.70\columnwidth}\raggedright\strut
\textbf{\href{23-mdl-as-a-system-process.md\#233-exits}{23.3}}\strut
\end{minipage}\tabularnewline
\begin{minipage}[t]{0.24\columnwidth}\raggedright\strut
\texttt{VALUE}\strut
\end{minipage} & \begin{minipage}[t]{0.70\columnwidth}\raggedright\strut
\textbf{\href{04-values-of-atoms.md\#44-value}{4.4}}
\textbf{\href{14-data-type-declarations.md\#chapter-14-data-type-declarations}{Chapter 14}}
\href{20-coroutines.md\#208-sneakiness-with-processes}{20.8}\strut
\end{minipage}\tabularnewline
\begin{minipage}[t]{0.24\columnwidth}\raggedright\strut
\texttt{VECTOR}\strut
\end{minipage} & \begin{minipage}[t]{0.70\columnwidth}\raggedright\strut
\textbf{\href{07-structured-objects.md\#722-vector-1}{7.2.2}} \href{07-structured-objects.md\#752-quote-1}{7.5.2}
\textbf{\href{07-structured-objects.md\#753-list-vector-uvector-and-string-the-subrs-1}{7.5.3}}
\textbf{\href{07-structured-objects.md\#765-uvector-the-primtype-1}{7.6.5}} \href{21-interrupts.md\#2184-gc}{21.8.4}
\href{24-efficiency-and-tastefulness.md\#241-efficiency}{24.1}
\href{appendix-1-a-look-inside.md\#appendix-1-a-look-inside}{Appendix 1}
\href{appendix-1-a-look-inside.md\#basic-data-structures}{Appendix 1}\strut
\end{minipage}\tabularnewline
\begin{minipage}[t]{0.24\columnwidth}\raggedright\strut
\strut
\end{minipage} & \begin{minipage}[t]{0.70\columnwidth}\raggedright\strut
\strut
\end{minipage}\tabularnewline
\begin{minipage}[t]{0.24\columnwidth}\raggedright\strut
\texttt{XJNAME}\strut
\end{minipage} & \begin{minipage}[t]{0.70\columnwidth}\raggedright\strut
\textbf{\href{23-mdl-as-a-system-process.md\#232-names}{23.2}}\strut
\end{minipage}\tabularnewline
\begin{minipage}[t]{0.24\columnwidth}\raggedright\strut
\texttt{XORB}\strut
\end{minipage} & \begin{minipage}[t]{0.70\columnwidth}\raggedright\strut
\textbf{\href{18-machine-words-and-bits.md\#185-bitwise-boolean-operations}{18.5}}\strut
\end{minipage}\tabularnewline
\begin{minipage}[t]{0.24\columnwidth}\raggedright\strut
\texttt{XUNAME}\strut
\end{minipage} & \begin{minipage}[t]{0.70\columnwidth}\raggedright\strut
\textbf{\href{23-mdl-as-a-system-process.md\#232-names}{23.2}}\strut
\end{minipage}\tabularnewline
\begin{minipage}[t]{0.24\columnwidth}\raggedright\strut
\strut
\end{minipage} & \begin{minipage}[t]{0.70\columnwidth}\raggedright\strut
\strut
\end{minipage}\tabularnewline
\begin{minipage}[t]{0.24\columnwidth}\raggedright\strut
\texttt{{[}}\strut
\end{minipage} & \begin{minipage}[t]{0.70\columnwidth}\raggedright\strut
\href{02-read-evaluate-print.md\#2631-non-pnames}{2.6.3.1}
\textbf{\href{07-structured-objects.md\#722-vector-1}{7.2.2}}\strut
\end{minipage}\tabularnewline
\begin{minipage}[t]{0.24\columnwidth}\raggedright\strut
\strut
\end{minipage} & \begin{minipage}[t]{0.70\columnwidth}\raggedright\strut
\strut
\end{minipage}\tabularnewline
\begin{minipage}[t]{0.24\columnwidth}\raggedright\strut
\texttt{\textbackslash{}}\strut
\end{minipage} & \begin{minipage}[t]{0.70\columnwidth}\raggedright\strut
\textbf{\href{02-read-evaluate-print.md\#2633--backslash-in-atoms}{2.6.3.3}}
\textbf{\href{07-structured-objects.md\#724-string-1}{7.2.4}} \href{11-input-output.md\#11123-princ}{11.1.2.3}
\href{17-macro-operations.md\#17131-read-finally}{17.1.3.1}\strut
\end{minipage}\tabularnewline
\begin{minipage}[t]{0.24\columnwidth}\raggedright\strut
\strut
\end{minipage} & \begin{minipage}[t]{0.70\columnwidth}\raggedright\strut
\strut
\end{minipage}\tabularnewline
\begin{minipage}[t]{0.24\columnwidth}\raggedright\strut
\texttt{{]}}\strut
\end{minipage} & \begin{minipage}[t]{0.70\columnwidth}\raggedright\strut
\href{02-read-evaluate-print.md\#2631-non-pnames}{2.6.3.1}
\textbf{\href{07-structured-objects.md\#722-vector-1}{7.2.2}}\strut
\end{minipage}\tabularnewline
\begin{minipage}[t]{0.24\columnwidth}\raggedright\strut
\strut
\end{minipage} & \begin{minipage}[t]{0.70\columnwidth}\raggedright\strut
\strut
\end{minipage}\tabularnewline
\begin{minipage}[t]{0.24\columnwidth}\raggedright\strut
\texttt{\^{}}\strut
\end{minipage} & \begin{minipage}[t]{0.70\columnwidth}\raggedright\strut
\textbf{\href{00-front-matter.md\#notation}{Notation}} \textbf{\href{11-input-output.md\#11423-image}{11.4.2.3}}\strut
\end{minipage}\tabularnewline
\begin{minipage}[t]{0.24\columnwidth}\raggedright\strut
\texttt{\^{}@}\strut
\end{minipage} & \begin{minipage}[t]{0.70\columnwidth}\raggedright\strut
\textbf{\href{01-basic-introduction.md\#12-typing-1}{1.2}}
\href{07-structured-objects.md\#754-ilist-ivector-iuvector-and-istring-1}{7.5.4}
\href{11-input-output.md\#1111-input}{11.1.1} \href{11-input-output.md\#1181-echopair}{11.8.1}\strut
\end{minipage}\tabularnewline
\begin{minipage}[t]{0.24\columnwidth}\raggedright\strut
\texttt{\^{}D}\strut
\end{minipage} & \begin{minipage}[t]{0.70\columnwidth}\raggedright\strut
\textbf{\href{01-basic-introduction.md\#12-typing-1}{1.2}} \href{11-input-output.md\#1111-input}{11.1.1}
\href{11-input-output.md\#1181-echopair}{11.8.1}\strut
\end{minipage}\tabularnewline
\begin{minipage}[t]{0.24\columnwidth}\raggedright\strut
\texttt{\^{}G}\strut
\end{minipage} & \begin{minipage}[t]{0.70\columnwidth}\raggedright\strut
\textbf{\href{01-basic-introduction.md\#12-typing-1}{1.2}} \textbf{\href{16-errors-frames-etc.md\#167-control-g-g}{16.7}}
\href{21-interrupts.md\#2181-char-received}{21.8.1}\strut
\end{minipage}\tabularnewline
\begin{minipage}[t]{0.24\columnwidth}\raggedright\strut
\texttt{\^{}L}\strut
\end{minipage} & \begin{minipage}[t]{0.70\columnwidth}\raggedright\strut
\textbf{\href{01-basic-introduction.md\#12-typing-1}{1.2}} \href{11-input-output.md\#1111-input}{11.1.1}
\href{11-input-output.md\#1181-echopair}{11.8.1}\strut
\end{minipage}\tabularnewline
\begin{minipage}[t]{0.24\columnwidth}\raggedright\strut
\texttt{\^{}O}\strut
\end{minipage} & \begin{minipage}[t]{0.70\columnwidth}\raggedright\strut
\textbf{\href{01-basic-introduction.md\#12-typing-1}{1.2}}
\textbf{\href{16-errors-frames-etc.md\#168-control-s-s}{16.8}}\strut
\end{minipage}\tabularnewline
\begin{minipage}[t]{0.24\columnwidth}\raggedright\strut
\texttt{\^{}S}\strut
\end{minipage} & \begin{minipage}[t]{0.70\columnwidth}\raggedright\strut
\textbf{\href{01-basic-introduction.md\#12-typing-1}{1.2}} \href{16-errors-frames-etc.md\#161-listen}{16.1}
\textbf{\href{16-errors-frames-etc.md\#168-control-s-s}{16.8}} \href{21-interrupts.md\#2181-char-received}{21.8.1}\strut
\end{minipage}\tabularnewline
\begin{minipage}[t]{0.24\columnwidth}\raggedright\strut
\strut
\end{minipage} & \begin{minipage}[t]{0.70\columnwidth}\raggedright\strut
\strut
\end{minipage}\tabularnewline
\begin{minipage}[t]{0.24\columnwidth}\raggedright\strut
\texttt{\{}\strut
\end{minipage} & \begin{minipage}[t]{0.70\columnwidth}\raggedright\strut
\href{02-read-evaluate-print.md\#2631-non-pnames}{2.6.3.1}
\textbf{\href{07-structured-objects.md\#726-template}{7.2.6}}\strut
\end{minipage}\tabularnewline
\begin{minipage}[t]{0.24\columnwidth}\raggedright\strut
\strut
\end{minipage} & \begin{minipage}[t]{0.70\columnwidth}\raggedright\strut
\strut
\end{minipage}\tabularnewline
\begin{minipage}[t]{0.24\columnwidth}\raggedright\strut
\texttt{\}}\strut
\end{minipage} & \begin{minipage}[t]{0.70\columnwidth}\raggedright\strut
\href{02-read-evaluate-print.md\#2631-non-pnames}{2.6.3.1}
\textbf{\href{07-structured-objects.md\#726-template}{7.2.6}}\strut
\end{minipage}\tabularnewline
\bottomrule
\end{longtable}

\end{document}
